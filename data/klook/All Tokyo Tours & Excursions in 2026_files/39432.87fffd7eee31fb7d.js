"use strict";(("undefined"!=typeof window?window:this).webpackChunkorion_web_react=("undefined"!=typeof window?window:this).webpackChunkorion_web_react||[]).push([[39432],{8481:(e,t,n)=>{n.d(t,{d:()=>c}),n(18107),n(967357),n(898992),n(354520),n(581454),n(962953);var i=n(618571),r=n(654291),a=n(9170),o=n(73785);const l="TAG-";class c{static mainTTDUrl(e,t){const{mainSelectedFilter:n}=this.buildUrlInfo(void 0,[]);return(0,r.f)(t)&&(0,r.f)(t.cruiseId)?a.M.fromFragments(e,t.cruiseId.toString(),t.cruisePortIndex.toString(),t.cruiseDayIndex.toString(),n):o.P.fromFragments(e,n)}static fromFragments(e,t,n,l){const{mainSelectedFilter:c,secondarySelectedFilters:s}=this.calculateUrlInfo(e,t),d=(0,r.f)(l)&&(0,r.f)(l.cruiseId)?a.M.fromFragments(n,l.cruiseId.toString(),l.cruisePortIndex.toString(),l.cruiseDayIndex.toString(),c):o.P.fromFragments(n,c);let u="";if((0,i.V)(s)){const e=s.map(this.generateTagRef).join(",");u="?dynamicFilters=".concat(encodeURIComponent(e))}return"".concat(d).concat(u)}static generateTagRef(e){let{id:t}=e;return t.startsWith(l)?t:"".concat(l).concat(t)}static calculateUrlInfo(e,t){if(t.indexOf(e)>=0){const n=t.filter(t=>t!==e);return this.buildUrlInfo(n.at(0),n.slice(1))}return 0===t.length?this.buildUrlInfo(e,[]):this.buildUrlInfo(t.at(0),[...t.slice(1),e])}static buildUrlInfo(e,t){return{mainSelectedFilter:e,secondarySelectedFilters:t}}}},9170:(e,t,n)=>{n.d(t,{M:()=>l});var i,r=n(364467),a=n(155688),o=n(91573);class l{}i=l,(0,r.A)(l,"fromFragmentsWithPrefix",(e,t,n,r,o,l)=>(0,a.F)(e,i.fromFragments(t,n,r,o,l))),(0,r.A)(l,"fromFragments",(e,t,n,i,r)=>{var a;return null!=r&&null!==(a=r.legacyMapping)&&void 0!==a&&a.category?(0,o.KQ)(t,n,i,e.id,r.legacyMapping.group.id,r.legacyMapping.category.id):null!=r&&r.legacyMapping?(0,o.pK)(t,n,i,e.id,r.legacyMapping.group.id):r?(0,o.z2)(t,n,i,e.id,r.id):(0,o.N1)(e.id,t,n,i)})},64457:(e,t,n)=>{n.d(t,{z:()=>a});var i=n(587235),r=n(117830);const a=[{value:i.Jd.EXTERNAL,translation:r.O.featured},{value:i.Jd.RATING,translation:r.O.rating},{value:i.Jd.PRICE_ASC,translation:r.O.priceAsc},{value:i.Jd.PRICE_DESC,translation:r.O.priceDesc},{value:i.Jd.DURATION_ASC,translation:r.O.durationAsc},{value:i.Jd.DURATION_DESC,translation:r.O.durationDesc},{value:i.Jd.NEW,translation:r.O.newOnViator}]},73785:(e,t,n)=>{n.d(t,{P:()=>l});var i,r=n(364467),a=n(155688),o=n(350481);class l{}i=l,(0,r.A)(l,"fromFragmentsWithPrefix",(e,t,n)=>(0,a.F)(e,i.fromFragments(t,n))),(0,r.A)(l,"fromFragments",(e,t)=>{var n,i;return null!=t&&null!==(n=t.legacyMapping)&&void 0!==n&&n.category?(0,o.Og)(e.canonicalName,e.id,t.legacyMapping.category.canonicalName,t.legacyMapping.group.id,t.legacyMapping.category.id):null!=t&&t.legacyMapping?(0,o.HP)(e.canonicalName,e.id,t.legacyMapping.group.canonicalName,t.legacyMapping.group.id):t?(0,o.TY)(e.canonicalName,e.id,null!==(i=t.canonicalName)&&void 0!==i?i:"",t.id):(0,o.BX)(e.canonicalName,e.id)})},91573:(e,t,n)=>{n.d(t,{KQ:()=>l,N1:()=>r,pK:()=>o,z2:()=>a});var i=n(361373);const r=(e,t,n,r)=>{return a=(0,i.H)(t),o=(0,i.H)(n),l=(0,i.H)(r),c=(0,i.H)(e),"/cr".concat(a,"-i").concat(o,"-").concat(l,"-d").concat(c);var a,o,l,c},a=(e,t,n,r,a)=>{return o=(0,i.H)(e),l=(0,i.H)(t),c=(0,i.H)(n),s=(0,i.H)(r),d=(0,i.H)(a),"/cr".concat(o,"-i").concat(l,"-").concat(c,"-d").concat(s,"-tag").concat(d);var o,l,c,s,d},o=(e,t,n,r,a)=>{return o=(0,i.H)(e),l=(0,i.H)(t),c=(0,i.H)(n),s=(0,i.H)(r),d=(0,i.H)(a),"/cr".concat(o,"-i").concat(l,"-").concat(c,"-d").concat(s,"-g").concat(d);var o,l,c,s,d},l=(e,t,n,r,a,o)=>{return l=(0,i.H)(e),c=(0,i.H)(t),s=(0,i.H)(n),d=(0,i.H)(r),u=(0,i.H)(a),g=(0,i.H)(o),"/cr".concat(l,"-i").concat(c,"-").concat(s,"-d").concat(d,"-g").concat(u,"-c").concat(g);var l,c,s,d,u,g}},117830:(e,t,n)=>{n.d(t,{O:()=>i});const i=(0,n(408604).YK)({sortByFilter:{id:"orion.pages.listings.productList.filter.sortBy",defaultMessage:"Sort by"},showMore:{id:"orion.pages.listings.productList.show.more",defaultMessage:"Show more"},showLess:{id:"orion.pages.listings.productList.show.less",defaultMessage:"Show less"},priceAsc:{id:"orion.pages.listings.productList.sort.price.asc",defaultMessage:"Price (Low to High)"},priceDesc:{id:"orion.pages.listings.productList.sort.price.desc",defaultMessage:"Price (High to Low)"},durationAsc:{id:"orion.pages.listings.productList.sort.duration.asc",defaultMessage:"Duration (Short to Long)"},durationDesc:{id:"orion.pages.listings.productList.sort.duration.desc",defaultMessage:"Duration (Long to Short)"},featured:{id:"orion.pages.listings.productList.sort.featured",defaultMessage:"Featured"},rating:{id:"orion.pages.listings.productList.sort.rating",defaultMessage:"Traveler Rating"},newOnViator:{id:"orion.pages.listings.productList.sort.new.on.viator",defaultMessage:"New on Viator"}})},195174:(e,t,n)=>{n.d(t,{o:()=>m}),n(962953);var i=n(296540),r=n(933321),a=n(695440),o=n(660558),l=n(492974),c=n(878360),s=n(969965),d=n(464225),u=n(415634),g=n(376575),p=n(616752);const m=e=>{let{track:t,filterDefinition:n,onFilterChange:m,isLoadingProducts:f,filteredResultsCount:w,automation:h,isFullWidth:F}=e;const{extendContext:C}=(0,d.z)(t),{isMobile:E}=(0,s.kW)(),[y,v]=i.useState(!1),{waysToExperienceMLModelsInTopRow:k,waysToExperienceFiltersInTopRow:R}=(0,u.i)(),b=!(0,l.w)([n]),D=()=>{v(!1)},P=(e,t,n)=>{m(e,t,n)},I=()=>{document.documentElement.click(),D()},A=()=>{const e=(0,o.h)([n])[0];m(n.id,e.values)},M=i.createElement("div",null,i.createElement(r.FilterButton,{track:C(),selected:b,open:y,onClick:()=>{y?D():v(!0)},displayVariant:a.o.labelAndDownArrow,"aria-haspopup":"menu",customLabel:n.filterButtonLabel||n.title,filterHasInteractiveThickness:k||R,automation:h}));return i.createElement(i.Fragment,null,E?i.createElement(p.Y,{trigger:M,filterDefinition:n,onCloseFilter:D,onFilterChange:P,onApplyFilter:I,handleClearFilter:A,isLoadingProducts:f,isFilterOpen:y,filteredResultsCount:w,automation:(0,c.K)(h,"modal")}):i.createElement(g.R,{trigger:M,filterDefinition:n,onCloseFilter:D,onFilterChange:P,onApplyFilter:I,handleClearFilter:A,isLoadingProducts:f,filteredResultsCount:w,automation:(0,c.K)(h,"modal"),isFullWidth:F}))}},215471:(e,t,n)=>{n.d(t,{Ap:()=>B,Pb:()=>W,Qc:()=>z,dJ:()=>O,rp:()=>N,z6:()=>h}),n(725440),n(962953),n(548408),n(814603),n(147566),n(198721);var i=n(160340),r=n(914794);const a=new RegExp("/.+/d(\\d+)-ttd"),o=new RegExp("/tours/.+/.+/d\\d+-(.+)"),l=new RegExp("/.+-tours/.+/d\\d+-g\\d+-(c\\d+)"),c=new RegExp("/.+-tours/.+/d\\d+-(g\\d+)"),s=new RegExp("/.+-tourism/.+/d\\d+-t(\\d+)"),d=new RegExp("/.+-attractions/.+/d\\d+-a(\\d+)"),u=new RegExp("/.+/d(\\d+)"),g=new RegExp("/blog/[^/]*/l(\\d+)"),p=new RegExp("/collections/[^/]*/c(\\d+)"),m=new RegExp("/account/booking/(\\d+)(/(\\d+)/(\\d+))?/amendment/[\\w]*"),f=new RegExp("/account/booking/(detail/)?(\\d+)(/(\\d+)/(\\d+))?"),w=new RegExp("/account/bookings"),h=new RegExp("/subscription-management"),F=new RegExp("/account/booking/(detail/)?(\\d+)(/(\\d+)/(\\d+))?/amendment/tourGrade/[\\w]*"),C=new RegExp("/account/booking/(detail/)?(\\d+)(/(\\d+)/(\\d+))?/ticket/emailTicket"),E=new RegExp("/account/booking/(detail/)?(\\d+)(/(\\d+)/(\\d+))?/refundRequest"),y=new RegExp("/account/booking/(detail/)?(\\d+)(/(\\d+)/(\\d+))?/cancel"),v=new RegExp("/account/profile/\\d+"),k=new RegExp("/account/myProfile"),R=new RegExp("/account/booking/\\d+/travel-companion-invitation"),b=new RegExp("(?:/cart/checkout|/cart/reserve/checkout|/buyNow/checkout|/reserve/checkout|/checkout/CHKS-(.+))"),D=new RegExp("/wishlist(/W-.+)?"),P=new RegExp("/employee/credits"),I=new RegExp("/my-rewards"),A=new RegExp("/review/(\\d+)/create"),M=new RegExp("/edit-shop"),S=new RegExp("/help(/(categories|articles)/\\d+)?"),_=new RegExp("/.+/d(\\d+)/p-(\\w+)"),x=[a,o,l,c,s,d,u,g,p,f,m,F,C,E,y,v,k,R,b,D,P,I,w,h,A,M,S,_],T=["%"],L="login_redirect",H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.wA.LOGIN;if(e&&r.B){const n=new URLSearchParams(window.location.search);return T.find(t=>e.includes(t))?t:(n.get(L)||n.set(L,e),"".concat(t,"?").concat(n.toString()))}return t},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.wA.LOGIN;window.location.href=window.location.origin+H(e,t)},B=()=>H(r.B?window.location.href:"",i.wA.LOGIN),N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.wA.HOMEPAGE,t=arguments.length>1?arguments[1]:void 0,n=(e=>{const t=new URLSearchParams(e),n=t.get(L);return null===n?t.get("continueUrl"):n})(window.location.search);return n&&(e=>{let t=e;return t.startsWith(window.location.origin)&&(t=t.slice(window.location.origin.length)),!!t.startsWith("/")&&(t=t.match(/^[^?&#]*/)[0],x.some(e=>e.test(t)))})(n)||(n=e),n.startsWith("/")&&(t&&(n=((e,t)=>{if((t.previousSubfolder||"")===t.replacementSubfolder||void 0===t.replacementSubfolder)return e;let n;if(t.previousSubfolder&&e.includes(t.previousSubfolder))n=e.replace(t.previousSubfolder,t.replacementSubfolder).replace(/^\/\//,"/");else{if(e.match(/^\/[a-z]{2}-[A-Z]{2}\/.+/))return e;n="".concat(t.replacementSubfolder).concat(e),n.startsWith("/")||(n="/".concat(n))}return e.includes("?")?n+="&localeSwitch=1":n+="?localeSwitch=1",n})(n,t)),n=window.location.origin+n),n},W=()=>window.location.origin+encodeURI(window.location.pathname),z=e=>{window.location.href=N(void 0,e)}},286555:(e,t,n)=>{n.d(t,{A:()=>i});const i={tagIcon:"tagIcon__JPok"}},350481:(e,t,n)=>{n.d(t,{BX:()=>r,HP:()=>o,Og:()=>l,TY:()=>a});var i=n(361373);const r=(e,t)=>{return n=(0,i.H)(e),r=(0,i.H)(t),"/".concat(n,"/d").concat(r,"-ttd");var n,r},a=(e,t,n,r)=>{return a=(0,i.H)(e),o=(0,i.H)(t),l=(0,i.H)(n),c=(0,i.H)(r),"/".concat(a,"-tours/").concat(l,"/d").concat(o,"-tag").concat(c);var a,o,l,c},o=(e,t,n,r)=>{return a=(0,i.H)(e),o=(0,i.H)(t),l=(0,i.H)(n),c=(0,i.H)(r),"/".concat(a,"-tours/").concat(l,"/d").concat(o,"-g").concat(c);var a,o,l,c},l=(e,t,n,r,a)=>{return o=(0,i.H)(e),l=(0,i.H)(t),c=(0,i.H)(n),s=(0,i.H)(r),d=(0,i.H)(a),"/".concat(o,"-tours/").concat(c,"/d").concat(l,"-g").concat(s,"-c").concat(d);var o,l,c,s,d}},376575:(e,t,n)=>{n.d(t,{R:()=>f});var i=n(296540),r=n(246942),a=n.n(r),o=n(361096),l=n(682051),c=n(190053),s=n(588168),d=n(878360),u=n(464225),g=n(764489),p=n(397770),m=n(412782);const f=e=>{let{trigger:t,filterDefinition:n,onCloseFilter:r,onFilterChange:f,onApplyFilter:w,handleClearFilter:h,isLoadingProducts:F,filteredResultsCount:C,track:E,automation:y,isFullWidth:v}=e;const{extendContext:k}=(0,u.z)(E);return i.createElement(c.$j,{trigger:t,triggerAction:"click",placement:"bottom-start",displayVariant:c.w4.NO_ARROW,onClose:r},i.createElement("div",{className:a()(m.A.dropdownFilterContainer,{[m.A.priceContainer]:n.type===o.RJ.price})},i.createElement(l.H,{track:k(),automation:y,displayVariant:o.km.dropdown,spacingVariant:o.z2.small,filters:[n],onFilterChange:f,showTitles:!1,showAllOptions:!0,isFullWidth:v})),i.createElement("div",{className:m.A.dropdownFooterContainer},i.createElement(s.$n,{displaySize:"sm",displayVariant:s.IY.outline,onClick:h,track:k({elementId:"clear_filters"}),automation:(0,d.K)(y,"clear-button")},i.createElement(g.w,{...p.P.clear})),i.createElement(s.$n,{colorVariant:s.pq.commerce,displaySize:"sm",onClick:w,disabled:F||!C,isLoading:F,track:k({elementId:"apply_filters"}),automation:(0,d.K)(y,"apply-button")},C?i.createElement(g.w,{...p.P.seeResults,values:{0:C}}):i.createElement(g.w,{...p.P.noResults}))))}},380081:(e,t,n)=>{n.d(t,{A:()=>i});const i={filterContainer:"filterContainer__pG8O",iconRadioGroupContainer:"iconRadioGroupContainer__M7EW",modalFooterContainer:"modalFooterContainer__wt0C",button:"button__p_D7",link:"link__B3MP"}},397770:(e,t,n)=>{n.d(t,{P:()=>i});const i=(0,n(408604).YK)({clear:{id:"orion.dropdown.filter.dropdown.clear",defaultMessage:"Clear"},clearAll:{id:"orion.dropdown.filter.clear.all",defaultMessage:"Clear all"},seeResults:{id:"orion.dropdown.filter.see.results",defaultMessage:"See {0} results"},noResults:{id:"orion.dropdown.filter.no.results",defaultMessage:"No results"}})},412782:(e,t,n)=>{n.d(t,{A:()=>i});const i={dropdownFilterContainer:"dropdownFilterContainer__SFFD",priceContainer:"priceContainer__EqMO",dropdownFooterContainer:"dropdownFooterContainer__z7dW",button:"button__C90q"}},433074:(e,t,n)=>{n.d(t,{A:()=>i});const i={dynamicFiltersContainer:"dynamicFiltersContainer__Sbtt",dynamicFiltersContainerWithDisclaimer:"dynamicFiltersContainerWithDisclaimer__LFCQ",sortDisclaimerWrapper:"sortDisclaimerWrapper__FcKu",dynamicFiltersContainerWithoutLeftPadding:"dynamicFiltersContainerWithoutLeftPadding__zmxC",dynamicFilterChipsContainer:"dynamicFilterChipsContainer__KyKo"}},507390:(e,t,n)=>{n.d(t,{$:()=>u,M:()=>d}),n(944114),n(898992),n(354520),n(672577),n(581454);var i=n(296540),r=n(361096),a=n(969965),o=n(155688),l=n(8481),c=n(669173),s=n(714714);const d=e=>{let{currentDynamicFilters:t,selectedTagIds:n,intl:o,isIcons:d,hasCategoriesDropdownFiltersVariantA:u}=e;const{isMobile:g}=(0,a.kW)(),p=(e=>{let{intl:t,isMobile:n,currentDynamicFilters:a,selectedTagIds:o,isIcons:d,hasCategoriesDropdownFiltersVariantA:u}=e;return{id:"categories",type:r.RJ.chipButton,title:n||u?t.formatMessage(c.P.categoriesButtonLabel):void 0,filterButtonLabel:(()=>{let e=t.formatMessage(c.P.categoriesButtonLabel);const n=a.filter(e=>e.selected),i=null!=o&&o.primaryId?a.find(e=>e.reference===l.d.generateTagRef({id:o.primaryId})):a.find(e=>e.selected);return i&&n.length>1?e="".concat(i.label).concat(t.formatMessage(c.P.seeMore,{count:n.length-1})):null!=i&&i.selected&&(e=i.label),e})(),trackingElementId:u?"ttd_dynamic_filters":"categories_ttd_dynamic_filters",values:{buttons:a.map(e=>({url:e.url,label:e.label,value:e.reference,reference:e.reference,selected:e.selected,onClick:()=>{},icon:d&&i.createElement(s.g,{iconIdentifier:e.icon})}))}}})({intl:o,isMobile:g,currentDynamicFilters:t,selectedTagIds:n,isIcons:d,hasCategoriesDropdownFiltersVariantA:u});return[p]},u=e=>{let{currentDynamicFilters:t,selectedTagIds:n,hasCategoriesDropdownFiltersVariantA:r,hasCategoriesDropdownFiltersVariantB:a,isLoadingProducts:c,lastChangedFilterRef:s,destination:d,localeUrlPrefix:u,mainTTDUrl:g}=e;(0,i.useEffect)(()=>{if(!r&&!a)return;if(c)return;if(null!=n&&n.primaryId&&!s.current)return;const e=null==t?void 0:t.filter(e=>e.selected);if((null==e?void 0:e.length)>=1&&s.current){var i,p,m;const n=null===(i=t.find(e=>{var t;return e.reference===(null===(t=s.current)||void 0===t?void 0:t.reference)}))||void 0===i?void 0:i.gqlData,r=e.map(e=>e.gqlData);null!==(p=s.current)&&void 0!==p&&p.selected||r.push(n);const a=l.d.fromFragments(n,null!==(m=s.current)&&void 0!==m&&m.selected?r.filter(e=>e.id!==(null==n?void 0:n.id)):r,d),c=(0,o.F)(u,a);window.history.pushState({},"",c)}else{const e=null!=g?g:location.pathname;window.history.pushState({},"",(0,o.F)(u,e))}},[c,t,u,g,null==n?void 0:n.primaryId,d,r,a,n,s])}},519914:(e,t,n)=>{n.d(t,{W:()=>s}),n(898992),n(354520),n(581454);var i=n(296540),r=n(361096),a=n(764489),o=n(587235),l=n(117830),c=n(64457);const s=(e,t,n)=>{const s=-1!==n.findIndex(e=>{let{id:t}=e;return t===o.jt.SORT_BY});return e&&!s?n.concat({type:r.RJ.radio,values:{options:c.z.map(e=>{let{translation:n,value:r}=e;return{label:i.createElement(a.w,{...n}),value:r,selected:t===r}})},id:o.jt.SORT_BY,title:i.createElement(a.w,{...l.O.sortByFilter})}):s?n.filter(e=>{let{id:t}=e;return t!==o.jt.SORT_BY}):n}},616752:(e,t,n)=>{n.d(t,{Y:()=>h});var i=n(296540),r=n(246942),a=n.n(r),o=n(849149),l=n(361096),c=n(682051),s=n(31056),d=n(588168),u=n(809306),g=n(878360),p=n(464225),m=n(764489),f=n(397770),w=n(380081);const h=e=>{let{trigger:t,filterDefinition:n,onCloseFilter:r,onFilterChange:h,onApplyFilter:F,handleClearFilter:C,isLoadingProducts:E,track:y,automation:v,isFilterOpen:k,filteredResultsCount:R}=e;const{extendContext:b}=(0,p.z)(y),D=i.createElement(o.h,{variant:o.I.title3},n.title),P=i.createElement("div",{className:w.A.modalFooterContainer},i.createElement(u.N,{className:w.A.link,onClick:C,track:b({elementId:"clear_filters_link"}),automation:(0,g.K)(v,"clear-button")},i.createElement(m.w,{...f.P.clearAll})),i.createElement(d.$n,{onClick:F,track:b({elementId:"apply_filters_button"}),disabled:E||!R,isLoading:E,automation:(0,g.K)(v,"apply-button")},R?i.createElement(m.w,{...f.P.seeResults,values:{0:R}}):i.createElement(m.w,{...f.P.noResults})));return i.createElement(i.Fragment,null,t,i.createElement(s.J,{displayVariant:"dividedHeader",isOpen:k,automation:v,header:D,footer:P,track:b(),onRequestClose:r,onAfterClose:r,closeOnOverlayClick:!0,closeOnEsc:!0},i.createElement("div",{className:a()(w.A.filterContainer,{[w.A.iconRadioGroupContainer]:n.type===l.RJ.iconRadio})},i.createElement(c.H,{track:b(),automation:v,displayVariant:n.type===l.RJ.price?l.km.dropdown:l.km.stacked,spacingVariant:l.z2.large,filters:[n],onFilterChange:h,showTitles:!1,showAllOptions:!0}))))}},653508:(e,t,n)=>{n.d(t,{EditDescriptionFormModal:()=>k}),n(489463),n(209391),n(725440),n(962953);var i=n(296540),r=n(706442),a=n(849149),o=n(458895),l=n(588168),c=n(878360),s=n(790525),d=n(267994),u=n(592491),g=n(24987),p=n(969965),m=n(396204),f=n(686901),w=n(464225),h=n(991907),F=n(764489),C=n(336585),E=n(609673),y=n(156732),v=n(762609);const k=e=>{const{wishlistRef:t,description:n,track:k,onRequestClose:R,automation:b}=e,{isMobile:D}=(0,p.kW)(),{doTracking:P}=(0,w.z)(k),I=(0,f.X)(P),A=(0,r.A)(),[M]=(0,E.$Ap)(),S={[C.z.DESCRIPTION]:n};return i.createElement(o.a,{displaySize:D?"sm":"md",header:i.createElement(a.h,{variant:a.I.title3},i.createElement(F.w,{...y.P.title})),...e},i.createElement(d.l,{initialValues:S,validate:e=>{const t=(0,C.K)(e,A);return I(t),t},onSubmit:e=>{const{description:n}=e,i=n.replace(/(\r\n|\n)+/g,"\n");return P({action:h.A.submit,elementId:"edit_description_save_button",data:{pageProperties:{initialDescription:null==S?void 0:S[C.z.DESCRIPTION],newDescription:i}}}),M({variables:{wishlistRef:t,description:i}}).finally(()=>{null==R||R(null)})}},i.createElement(g.L,{name:C.z.DESCRIPTION,automation:(0,c.K)(b,"edit-description"),placeholder:A.formatMessage(y.P.editDescriptionFieldInputPlaceholder),maxLength:500,displaySize:"lg",pii:s.E.PERSONAL}),i.createElement("div",{className:v.A.submit},i.createElement(u.J,{width:l.Rj.fill,automation:(0,c.K)(b,m.t.CONFIRM_EDIT)},i.createElement(F.w,{...y.P.formCta})))))}},669173:(e,t,n)=>{n.d(t,{P:()=>i});const i=(0,n(408604).YK)({allActivitiesLabel:{id:"orion.thingstodo.dynamicFilters.allActivities",defaultMessage:"All activities"},seeMore:{id:"orion.thingstodo.dynamicFilters.seeMore",defaultMessage:", +{count} more"},categoriesButtonLabel:{id:"orion.thingstodo.dynamicFilters.categoriesButtonLabel",defaultMessage:"Categories"},howToExperienceButtonLabel:{id:"orion.thingstodo.dynamicFilters.howToExperienceButtonLabel",defaultMessage:"How to experience"}})},709214:(e,t,n)=>{n.d(t,{k:()=>r}),n(962953),n(296540);var i=n(850678);const[r,a]=(0,i.q)()},714714:(e,t,n)=>{n.d(t,{g:()=>O});var i=n(296540),r=n(880197),a=n(227608),o=n(518063),l=n(74711),c=n(377353),s=n(306117),d=n(640734),u=n(929637),g=n(472e3),p=n(291273),m=n(179273),f=n(101741),w=n(81550),h=n(395664),F=n(115985),C=n(227642),E=n(502855),y=n(296569),v=n(52065),k=n(230315),R=n(650629),b=n(804034),D=n(7346),P=n(893695),I=n(838861),A=n(189109),M=n(235899),S=n(720968),_=n(234367),x=n(744805),T=n(667213),L=n(286555);const H={AdventureCar:a.w,Backpack:o.g,Binoculars:l.k,Bird:c.v,Bus:s.U,Car:u.A,CanoePaddles:d.v,ChefHat:g.X,Clock:p.q,Cutlery:m.y,Diamond:f.k,FerrisWheel:w._,Helicopter:F.h,Hiking:E.a,HikingFlag:C.s,HotAirBalloon:y.M,Trending:x.J,TheatreMask:S.P,Museum:k.M,Mountain:v.z,Plant:R.z,SailShip:D.D,Snorkel:I.G,PoolLadder:b.w,Ship:P.S,Sunset:M.E,Sun:A.M,Wine:T.v,Tree:_.y},O=e=>{let{iconIdentifier:t}=e;const n=(e=>(0,r.d)(e)&&H[e]||h.f)(t);return i.createElement(n,{className:L.A.tagIcon})}},853431:(e,t,n)=>{n.d(t,{z:()=>H}),n(898992),n(672577),n(581454),n(962953);var i=n(296540),r=n(706442),a=n(246942),o=n.n(a),l=n(407403),c=n(506054),s=n(201304),d=n(190193),u=n(563174),g=n(926437),p=n(176680),m=n(878360),f=n(673471),w=n(243228),h=n(808203),F=n(748614),C=n(494488),E=n(969965),y=n(655725),v=n(414987),k=n(537179),R=n(11515),b=n(412821),D=n(464225),P=n(155688),I=n(654291),A=n(587235),M=n(415634),S=n(507390),_=n(195174),x=n(714714),T=n(433074);const L=(0,w.R)(()=>n.e(12906).then(n.bind(n,794204)),{resolveComponent:e=>e.SortDisclaimer,chunkName:"SortDisclaimer"}),H=(0,i.forwardRef)((e,t)=>{var n;let{automation:a,currentDynamicFilters:w,activeFiltersCount:H,filterModalId:O,showSortDisclaimer:B,track:N,filterDatePicker:W,showPaxFilter:z,updatePagePaxFilter:V,useCompactLayout:K=!1,isIcons:U=!1,noFollow:J=!1,fakeFullWidth:G=!1,dropdownFilterDefinitions:q,toggleFilterDefinitions:Y,attractionTitle:$,onFilterChange:j=()=>{},onSingleBooleanFilterChange:X=()=>{},isLoadingProducts:Q=!1,filteredResultsCount:Z=0,dynamicFilterWrapper:ee,hasDatePickerOptimisationVariantA:te,hasDatePickerOptimisationEligibility:ne,onDynamicFilterChange:ie,mainTTDUrl:re,selectedTagIds:ae,destination:oe}=e;const{openModal:le}=(0,p.y)(),{isDesktop:ce,isMobileOrTablet:se,isTablet:de}=(0,E.kW)(),{localeUrlPrefix:ue}=(0,f._)(),ge=(0,r.A)(),{showGridLayout:pe,waysToExperienceFiltersInTopRow:me,waysToExperienceMLModelsInTopRow:fe,hasTopOfLandersRedesign:we,hasAnyDatePlaceholder:he}=(0,M.i)(),{behaviours:{hasDatePickerInSearchBar:Fe,hasStickySearchBar:Ce,hasCategoriesDropdownFiltersEligibility:Ee,hasCategoriesDropdownFiltersVariantA:ye,hasCategoriesDropdownFiltersVariantB:ve}}=(0,k.w)(),ke=Ee&&ve,Re=Ee&&ye,be=!ye&&!ve,De=w.map((e,t)=>{const n=w[0].selected&&0!==t?u.z.button:u.z.link;return n===u.z.button?{type:n,label:e.label,selected:e.selected,reference:e.reference,onClick:()=>{window.location.href=(0,P.F)(ue,e.url)},icon:U&&i.createElement(x.g,{iconIdentifier:e.icon})}:{type:n,label:e.label,selected:e.selected,reference:e.reference,url:(0,P.F)(ue,e.url),icon:U&&i.createElement(x.g,{iconIdentifier:e.icon})}}),{extendContext:Pe}=(0,D.z)(N),Ie=(0,S.M)({currentDynamicFilters:w,selectedTagIds:ae,intl:ge,isIcons:U,hasCategoriesDropdownFiltersVariantA:ye}),Ae=(0,i.useRef)(void 0);(0,S.$)({currentDynamicFilters:w,selectedTagIds:ae,hasCategoriesDropdownFiltersVariantA:ye,hasCategoriesDropdownFiltersVariantB:ve,isLoadingProducts:Q,lastChangedFilterRef:Ae,destination:oe,localeUrlPrefix:ue,mainTTDUrl:re});const Me=(e,t,n)=>{const i=t.buttons;null==ie||ie(i);const r=i.find(e=>e.reference===n);Ae.current=r},Se=(e,t)=>{"options"in t&&t.options&&j(e,t)},_e=Y?(0,g.e)(Y,ge,$):[],xe=null===(n=[...q||[],...ke?Ie:[],...fe?_e:[]].filter(Boolean))||void 0===n?void 0:n.map(e=>{let t=j;return"categories"===e.id&&ie?t=Me:_e.includes(e)&&(t=Se),i.createElement(_.o,{key:"dropdown-filter-".concat(e.id),filterDefinition:e,onFilterChange:t,isLoadingProducts:Q,filteredResultsCount:Z,track:{elementId:"dropdown_filter_".concat(e.trackingElementId)},automation:(0,m.K)(a,"".concat(e.id,"-filter-group")),isFullWidth:!1})}),Te={onClick:()=>{le(O)},appliedFilterCount:H},Le=Pe({elementId:"dynamic_filters_pax_filter_picker"}),He=ce?i.createElement(C.PaxFilterPicker,{track:Le,automation:(0,m.K)(a,"pax")}):i.createElement(h.PaxFilterButton,{track:Le,filterHasInteractiveThickness:me||fe,automation:(0,m.K)(a,"pax")}),Oe=Pe({elementId:"dynamic_filters"}),Be=se||K,Ne=(pe||Be)&&!!O,We=pe&&!(me&&de)&&!Fe,ze=Ne||We||z,Ve=i.createElement(b.X,{fakeFullWidth:G,isPositionFixed:Ce},i.createElement(l.m,{noMargin:Be},i.createElement(c.f,{noGutter:Be},i.createElement(s.f,{noGutter:Be},i.createElement("div",{ref:t,className:o()(T.A.dynamicFiltersContainer,{[T.A.dynamicFiltersContainerWithDisclaimer]:B,[T.A.dynamicFiltersContainerWithoutLeftPadding]:(0,I.f)(O)||(0,I.f)(W)})},i.createElement(F.a,{updatePagePaxFilter:null!=V?V:R.c,track:Le},i.createElement(d.$,{filterButton:Ne&&!we?Te:void 0,filterDatePicker:We?W:void 0,hasMovingBorder:Re&&!Q,filters:be?De:void 0,automation:a,track:Oe,paxFilterButton:z?He:void 0,trackFirstVisibility:!0,noFollow:J,dropdownFilters:xe,allFiltersPosition:me&&!fe?d.l.alwaysRight:d.l.standard,interactiveThickness:me||fe,dynamicFilterWrapper:ee,hasDatePickerOptimisationVariantA:te,hasDatePickerOptimisationEligibility:ne,hasAnyDatePlaceholder:he,preFiltersSeparatorOnDesktop:fe})),B&&i.createElement("div",{className:T.A.sortDisclaimerWrapper},i.createElement(L,{track:Pe(),automation:a})))))));return i.createElement(i.Fragment,null,i.createElement(v.B,{for:A.bq.DESKTOP},(ze||w.length>0||K)&&Ve),i.createElement(y.j,{for:A.bq.DESKTOP},Ve))});H.displayName="ListingDynamicFilters"}}]);