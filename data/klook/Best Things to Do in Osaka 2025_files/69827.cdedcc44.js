/*! For license information please see 69827.cdedcc44.js.LICENSE.txt */
!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="d03bc31b-841f-4482-b5f8-d0a18f6ed3e9",t._sentryDebugIdIdentifier="sentry-dbid-d03bc31b-841f-4482-b5f8-d0a18f6ed3e9")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"web_ssr-platform_20251225_022df67f"};"use strict";(self.webpackChunkklook_ssr_platform=self.webpackChunkklook_ssr_platform||[]).push([["69827"],{66087:function(t,e,i){let n;i.d(e,{c:function(){return nb}});var r,o,a,s,l,c,u,d,p,f,h,v,y,m,g,_,b,x,k,w=i(95334),S=i(20144),C=i(41185),O=i(74101),P=i(23279),$=i.n(P),L=i(34155),E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function T(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function j(t,e){return t(e={exports:{}},e.exports),e.exports}var I=T(j(function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports})),R=j(function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});T(R);var M=j(function(t){var e=R.default;t.exports=function(t,i){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,i||"default");if("object"!==e(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports});T(M);var D=j(function(t){var e=R.default;t.exports=function(t){var i=M(t,"string");return"symbol"===e(i)?i:String(i)},t.exports.__esModule=!0,t.exports.default=t.exports});T(D);var F=T(j(function(t){function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}t.exports=function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports})),A=j(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});T(A);var B=T(j(function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports})),N=j(function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports});T(N);var H=T(j(function(t){var e=R.default;t.exports=function(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return N(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),V=T(j(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));function z(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}var W=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},q="object"==typeof E&&E&&E.Object===Object&&E,U="object"==typeof self&&self&&self.Object===Object&&self,Z=q||U||Function("return this")(),G=function(){return Z.Date.now()},Y=/\s/,K=function(t){for(var e=t.length;e--&&Y.test(t.charAt(e)););return e},X=/^\s+/,J=Z.Symbol,Q=Object.prototype,tt=Q.hasOwnProperty,te=Q.toString,ti=J?J.toStringTag:void 0,tn=function(t){var e=tt.call(t,ti),i=t[ti];try{t[ti]=void 0;var n=!0}catch(t){}var r=te.call(t);return n&&(e?t[ti]=i:delete t[ti]),r},tr=Object.prototype.toString,to=J?J.toStringTag:void 0,ta=function(t){var e;if(null==t)return void 0===t?"[object Undefined]":"[object Null]";return to&&to in Object(t)?tn(t):(e=t,tr.call(e))},ts=function(t){var e;return"symbol"==typeof t||null!=(e=t)&&"object"==typeof e&&"[object Symbol]"==ta(t)},tl=0/0,tc=/^[-+]0x[0-9a-f]+$/i,tu=/^0b[01]+$/i,td=/^0o[0-7]+$/i,tp=parseInt,tf=function(t){if("number"==typeof t)return t;if(ts(t))return tl;if(W(t)){var e,i="function"==typeof t.valueOf?t.valueOf():t;t=W(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)?e.slice(0,K(e)+1).replace(X,""):e;var n=tu.test(t);return n||td.test(t)?tp(t.slice(2),n?2:8):tc.test(t)?tl:+t},th=Math.max,tv=Math.min,ty=function(t,e,i){var n,r,o,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof t)throw TypeError("Expected a function");function f(e){var i=n,o=r;return n=r=void 0,c=e,a=t.apply(o,i)}e=tf(e)||0,W(i)&&(u=!!i.leading,o=(d="maxWait"in i)?th(tf(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p);function h(t){var i=t-l,n=t-c;return void 0===l||i>=e||i<0||d&&n>=o}function v(){var t,i,n,r,a=G();if(h(a))return y(a);s=setTimeout(v,(i=(t=a)-l,n=t-c,r=e-i,d?tv(r,o-n):r))}function y(t){return(s=void 0,p&&n)?f(t):(n=r=void 0,a)}function m(){var t,i=G(),o=h(i);if(n=arguments,r=this,l=i,o){if(void 0===s){;return c=t=l,s=setTimeout(v,e),u?f(t):a}if(d)return clearTimeout(s),s=setTimeout(v,e),f(l)}return void 0===s&&(s=setTimeout(v,e)),a}return m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=r=s=void 0},m.flush=function(){return void 0===s?a:y(G())},m};function tm(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}let tg=class extends w.Vue{constructor(){super(...arguments),this.defaultControllerOffset=10,this.controllerBtnWidth=40,this.sliderOffsetDistance=0,this.itemsOffset=0,this.debouncedHandleResize=ty(this.calculateSliderOffsetDistance,200),this.isDomReady=!1}handleScroll(){this.$emit("scroll-once")}get prevDisabled(){return!this.$isServer&&this.itemsOffset<=0}get nextDisabled(){return!this.$isServer&&(this.isDomReady?this.itemsOffset+this.generateDisplayedItemCount()>=this.generateItemsCount():void 0)}get prevClass(){return{"klk-card-swiper-prev-btn":!0,"klk-card-swiper-prev-btn-disabled":this.prevDisabled}}get nextClass(){return{"klk-card-swiper-next-btn":!0,"klk-card-swiper-next-btn-disabled":this.nextDisabled}}get prevBtnStyle(){if(this.$isServer)return{};let t=this.controllerOffset||this.defaultControllerOffset,e=0;return"number"!=typeof this.controllerOffset&&"string"!=typeof this.controllerOffset&&(t=this.defaultControllerOffset),"string"==typeof this.controllerOffset&&(t=parseInt(this.controllerOffset,10)),e=t+this.controllerBtnWidth,{left:`-${e}px`}}get nextBtnStyle(){if(this.$isServer)return{};let t=this.controllerOffset||this.defaultControllerOffset,e=0;return"number"!=typeof this.controllerOffset&&"string"!=typeof this.controllerOffset&&(t=this.defaultControllerOffset),"string"==typeof this.controllerOffset&&(t=parseInt(this.controllerOffset,10)),e=t+this.controllerBtnWidth,{right:`-${e}px`}}get itemsStyle(){return{transform:`translateX(${this.sliderOffsetDistance}px)`}}generateItemsCount(){return this.$slots.default?this.$slots.default.length:0}generateSwiperFixedWidth(){return this.$isServer||!this.$refs.swiperFixedContainer?0:this.$refs.swiperFixedContainer.getBoundingClientRect().width}generateSingleItemWidth(){if(this.$isServer)return 0;let t=this.$slots.default?this.$slots.default[0].elm:null;return t?t.getBoundingClientRect().width:0}generateDisplayedItemCount(){let t=this.generateSwiperFixedWidth();return Math.ceil(t/this.generateSingleItemWidth())}showPrev(){if(this.prevDisabled)return;let t=this.generateSingleItemWidth(),e=this.generateDisplayedItemCount(),i=this.itemsOffset;i>=e?(this.sliderOffsetDistance+=e*t,this.itemsOffset-=e):(this.sliderOffsetDistance+=i*t,this.itemsOffset-=i)}showNext(){if(this.nextDisabled)return;let t=this.generateItemsCount(),e=this.generateSingleItemWidth(),i=this.generateDisplayedItemCount(),n=t-i-this.itemsOffset;n>=i?(this.sliderOffsetDistance-=i*e,this.itemsOffset+=i):(this.sliderOffsetDistance-=n*e,this.itemsOffset+=n)}calculateSliderOffsetDistance(){this.sliderOffsetDistance=0,this.itemsOffset=0}mounted(){this.debouncedHandleResize(),window.addEventListener("resize",this.debouncedHandleResize),this.$nextTick(()=>{this.isDomReady=!0})}beforeDestroy(){window.removeEventListener("resize",this.debouncedHandleResize)}};tm([(0,w.Prop)({default:10,type:[Number,String]})],tg.prototype,"controllerOffset",void 0);var t_=tg=tm([w.Component],tg);function tb(t,e,i,n,r,o,a,s,l,c){let u;"boolean"!=typeof a&&(l=s,s=a,a=!1);let d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){let t=d.render;d.render=function(e,i){return u.call(i),t(e,i)}}else{let t=d.beforeCreate;d.beforeCreate=t?[].concat(t,u):[u]}}return i}let tx=tb({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"responsive-card-swiper-wrap"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.prevDisabled,expression:"!prevDisabled"}],class:t.prevClass,style:t.prevBtnStyle,on:{click:t.showPrev}},[i("klk-icon",{attrs:{type:"icon_navigation_chevron_left_xs"}})],1),t._v(" "),i("div",{ref:"swiperFixedContainer",staticClass:"responsive-swiper-fixed-container"},[i("div",{ref:"cardSlider",staticClass:"responsive-card-slider",style:t.itemsStyle,on:{"~scroll":function(e){return t.handleScroll(e)}}},[t._t("default")],2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.nextDisabled,expression:"!nextDisabled"}],class:t.nextClass,style:t.nextBtnStyle,on:{click:t.showNext}},[i("klk-icon",{attrs:{type:"icon_navigation_chevron_right_xs"}})],1)])},staticRenderFns:[]},void 0,t_,"data-v-4ecc9bb1",!1,void 0,!1,void 0,void 0,void 0),tk=class extends w.Vue{};var tw=tk=tm([w.Component],tk);let tS=tb({render:function(){var t=this.$createElement;return(this._self._c||t)("div",this._b({staticClass:"responsive-card-item"},"div",this.$attrs,!1),[this._t("default")],2)},staticRenderFns:[]},void 0,tw,void 0,!1,void 0,!1,void 0,void 0,void 0);function tC(){return(tC=Object.assign?Object.assign.bind():function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}var tO=["attrs","props","domProps"],tP=["class","style","directives"],t$=["on","nativeOn"],tL=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};function tE(){return(tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var tT=void 0!==L&&null!=L.versions&&null!=L.versions.node,tj=function(t,e){void 0===e&&(e=!0);var i="#eee";return e&&(i+=" center/25% no-repeat url('"+(+t>480?"https://res.klook.com/image/upload/v1680841404/lstvhfq9iw4eajqsx1ny.png":"https://res.klook.com/image/upload/v1680841485/le80gkydszwtb6lligdp.png")+"')"),i},tI=function(t){var e={320:"",74:"small/",117:"medium/",800:"bigger/",1024:"xl/"},i=Object.keys(e).sort(function(t,e){return+t-+e}).find(function(e){return+e>t})||800;return e[i]},tR=function(t,e){if(!e||!e.width)return t;var i=parseInt(e.width),n=t;switch(!0){case/[p0|p1|osp|vfile]\.meituan\.net/.test(t):n=t.replace(/\.meituan\.net\/([\d\.]+\/)?/,".meituan.net/"+i+".0/");break;case/[pix8|pix6]\.agoda\.net/.test(t):n=t.includes("?")?t+="&s="+i+"x"+i:t+="?s="+i+"x"+i;break;case/[cf|q-xx]\.bstatic\.com/.test(t):n=t.replace(/xdata\/images\/(xphoto|hotel)(\/max\d+|\/\d+x\d+)?/,"xdata/images/$1/max"+i);break;case/i\.travelapi\.com/.test(t):n=""+t+(t.includes("?")?"&":"?")+"impolicy=resizecrop&rw="+i+"&ra=fit";break;case/photos\.hotelbeds\.com/.test(t):n=t.replace(/giata\/(small\/|medium\/|bigger\/|xl\/|original\/)?/,"giata/"+tI(i));break;case/dimg04\.c-ctrip\.com/.test(t):i=375===i?390:i,n=/_(R|W)_\d+_\d+/.test(t)?t.replace(/_(R|W)_\d+_\d+/,"_W_"+i+"_"+i):t.replace(/\.(\w+)$/,"_W_"+i+"_"+i+".$1")}return n},tM=[64,128,256,375,640,750,828,1080,1200,1920,2048,3840];function tD(t,e){if(!t)return t;if(e.width&&!e.height&&(e.width=tM.find(function(t){return t>=Number(e.width)})||e.width),!t.includes("res.klook.com"))return tR(t,e);if(t.includes("fl_lossy.progressive"))return t;var i=["fl_lossy.progressive","c_fill","f_auto"].concat(e.params||[]);return e.width&&i.push("w_"+e.width),e.height&&i.push("h_"+e.height),i.push("q_"+(e.quality||85)),t=t.replace("image/upload","image/upload/"+i.join(","))}var tF=function(){return performance?performance.now():Date.now()},tA=function(t,e){void 0===e&&(e=1);var i=window.$klook||(null==(r=t.__vue__)?void 0:r.$root);if(!!(null!=t&&t.src)&&!!(null!=i&&i.$sentry)){var n=t.dataset.visible;try{var r,o,a=i.$sentry.getCurrentHub().startTransaction({name:"ImgPerf",op:(null==(o=i.$route)?void 0:o.name)||"default"}),s=n?+((tF()-+n)/1e3).toFixed(1):0;if(a.setTag("img.host",new URL(t.src).hostname),a.setData("img.src",t.src),e){a.setHttpStatus(200),a.finish(a.startTimestamp+(s>0?s:0));return}fetch&&fetch(t.src,{method:"HEAD"}).then(function(t){return a.setHttpStatus(t.status)}).catch(function(t){a.setHttpStatus(0),a.setData("img.err",t.toString())}).finally(function(){a.finish(a.startTimestamp)})}catch(t){}}},tB=function(t,e){var i=new Image;i.fetchPriority="low",i.onload=function(){return"function"==typeof e&&e(!0)},i.onerror=function(){return"function"==typeof e&&e(!1)},i.src=t},tN=!1;if(!tT&&"function"==typeof IntersectionObserver){var tH=new IntersectionObserver(function(t){t.forEach(function(t){if(t.intersectionRatio<=0)return;var e=t.target,i=e.dataset.src;if(!!i){if(e.src===i){tH.unobserve(e);return}e.alt=e.dataset.alt||"",e.src=i,tH.unobserve(e)}})},{rootMargin:"500px",threshold:.1}),tV=new IntersectionObserver(function(t){t.forEach(function(t){if(!(t.intersectionRatio<=0)){var e,i=t.target;i.dataset.visible=null==(e=tF())?void 0:e.toFixed(1),tV.unobserve(i),!i.src&&(i.src=i.dataset.src,i.alt=i.dataset.alt||"",tH.unobserve(i))}})},{threshold:.1});u={observe:function(t,e){tV.observe(t),e&&tH.observe(t)},unObserve:function(t,e){tV.observe(t),e&&tH.observe(t)}}}var tz={name:"k-img",props:{width:{type:[String,Number]},height:{type:[String,Number]},priority:{type:Boolean},src:{type:String},config:{type:[Object,Boolean],default:null},loading:{type:String},placeholder:{type:Boolean,default:!0},alt:{type:String},zoom:{type:Number,default:3}},computed:{realSrc:function(){if(!1===this.config)return this.src;var t=Object.assign({},this.config||this.$props);return!t.width&&!t.height&&(t.width=this.width?this.width*this.zoom:void 0,t.height=this.height?this.height*this.zoom:void 0),tD.call(this,this.src,t)},isCustomLazy:function(){return!(this.priority||["lazy","eager"].includes(this.loading))}},created:function(){if(!!this.priority&&!!tT){var t="_vueMeta";this[t]=!0;for(var e=this.$parent,i=this.$root;e&&e!==i;)void 0===e[t]&&(e[t]=!1),e=e.$parent;this.$options.head=this.$metaInfo={link:[{rel:"preload",as:"image",href:this.realSrc,fetchpriority:"high"}]}}},render:function(t){if(!this.src)return null;var e=tE({decoding:"async"},this.$attrs,{src:this.realSrc}),i={objectFit:"cover",background:tj(this.width,this.placeholder),width:+this.width?this.width+"px":this.width||"100%",height:+this.height?this.height+"px":this.height||"100%"};this.isCustomLazy?(e.src=void 0,e["data-src"]=this.realSrc,e["data-alt"]=this.alt||""):(e.loading=this.loading,e.alt=this.alt||"");var n=t("img",{style:i,attrs:e,on:{load:this.onLoad,error:this.onError}});return n.isOnce=!0,n.isStatic=!0,n},methods:{onLoad:function(){var t=this;if("HotelCard"===this.$attrs.scene&&!this._preloaded){var e=this.$parent.$children.filter(function(e){return e.constructor===t.constructor}),i=e.findIndex(function(e){return e===t});[e[i-1],e[i+1]].forEach(function(t){return t&&t.preload()})}tN&&tA(this.$el)},onError:function(){tA(this.$el,0)},preload:function(){var t=this,e=this.$el;if(!!e&&e.src!==this.realSrc)this._preloaded=!0,tB(this.realSrc,function(){t.$el.src=t.realSrc,t.$el.alt=t.alt||""})}},mounted:function(){if(!!this.src)u?u.observe(this.$el,this.isCustomLazy):this.$el.src=this.realSrc},beforeDestroy:function(){if(!!this.src)u&&u.unObserve(this.$el,this.isCustomLazy)}};tz.install=function(t,e){t.component("k-image",tz),tN=e};var tW=function(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw TypeError("Expected a function");return W(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),ty(t,e,{leading:n,maxWait:e,trailing:r})};function tq(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(n.key),n)}}function tU(t){return(tU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tZ(t,e){return(tZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tG(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tY(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function tK(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function tX(t){return(tX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tJ(t,e,i){(i?Reflect.getOwnMetadataKeys(e,i):Reflect.getOwnMetadataKeys(e)).forEach(function(n){var r=i?Reflect.getOwnMetadata(n,e,i):Reflect.getOwnMetadata(n,e);i?Reflect.defineMetadata(n,r,t,i):Reflect.defineMetadata(n,r,t)})}var tQ=({__proto__:[]})instanceof Array,t0=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function t1(t){var e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=n.name||t._componentTag||t.name;var r=t.prototype;Object.getOwnPropertyNames(r).forEach(function(t){if("constructor"!==t){if(t0.indexOf(t)>-1){n[t]=r[t];return}var e=Object.getOwnPropertyDescriptor(r,t);void 0!==e.value?"function"==typeof e.value?(n.methods||(n.methods={}))[t]=e.value:(n.mixins||(n.mixins=[])).push({data:function(){var i,n,r;return i={},n=t,r=e.value,n in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}}):(e.get||e.set)&&((n.computed||(n.computed={}))[t]={get:e.get,set:e.set})}}),(n.mixins||(n.mixins=[])).push({data:function(){var e,i,n,r,o;return e=this,n=(i=t).prototype._init,i.prototype._init=function(){var t=this,i=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)!e.hasOwnProperty(n)&&i.push(n);i.forEach(function(i){Object.defineProperty(t,i,{get:function(){return e[i]},set:function(t){e[i]=t},configurable:!0})})},r=new i,i.prototype._init=n,o={},Object.keys(r).forEach(function(t){void 0!==r[t]&&(o[t]=r[t])}),o}});var o=t.__decorators__;o&&(o.forEach(function(t){return t(n)}),delete t.__decorators__);var a=Object.getPrototypeOf(t.prototype),s=a instanceof S.default?a.constructor:S.default,l=s.extend(n);if(function(t,e,i){Object.getOwnPropertyNames(e).forEach(function(n){if(t2[n])return;var r=Object.getOwnPropertyDescriptor(t,n);if(!r||!!r.configurable){var o=Object.getOwnPropertyDescriptor(e,n);if(!tQ){if("cid"===n)return;var a,s,l=Object.getOwnPropertyDescriptor(i,n);if(a=o.value,s=tX(a),null!=a&&("object"===s||"function"===s)&&l&&l.value===o.value)return}Object.defineProperty(t,n,o)}})}(l,t,s),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys){;tJ(e=l,i=t),Object.getOwnPropertyNames(i.prototype).forEach(function(t){tJ(e.prototype,i.prototype,t)}),Object.getOwnPropertyNames(i).forEach(function(t){tJ(e,i,t)})}return l}var t2={prototype:!0,arguments:!0,callee:!0,caller:!0};function t4(t){return"function"==typeof t?t1(t):function(e){return t1(e,t)}}t4.registerHooks=function(t){var e;t0.push.apply(t0,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(e=t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}())};var t5="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function t9(t){return void 0===t&&(t={}),function(e,i){var n;!function(t,e,i){if(t5&&!Array.isArray(t)&&"function"!=typeof t&&void 0===t.type){var n=Reflect.getMetadata("design:type",e,i);n!==Object&&(t.type=n)}}(t,e,i),(n=function(e,i){(e.props||(e.props={}))[i]=t},function(t,e,i){var r="function"==typeof t?t:t.constructor;!r.__decorators__&&(r.__decorators__=[]),"number"!=typeof i&&(i=void 0),r.__decorators__.push(function(t){return n(t,e,i)})})(e,i)}}function t3(t,e,i,n,r,o,a,s,l,c){let u;"boolean"!=typeof a&&(l=s,s=a,a=!1);let d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){let t=d.render;d.render=function(e,i){return u.call(i),t(e,i)}}else{let t=d.beforeCreate;d.beforeCreate=t?[].concat(t,u):[u]}}return i}var t6=(d=t4({name:"klk-icon"}),p=t9({default:""}),f=t9(),h=t9(String),v=t9({type:String,default:"klk-icon-"}),d((g=tK((m=function(t){(function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tZ(t,e)})(s,t);var e,i,n,r,o,a=(e=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=tU(e);return t=i?Reflect.construct(n,arguments,tU(this).constructor):n.apply(this,arguments),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return tG(t)}(this,t)});function s(){var t;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,s);for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return tY(tG(t=a.call.apply(a,[this].concat(i))),"type",g,tG(t)),tY(tG(t),"size",_,tG(t)),tY(tG(t),"color",b,tG(t)),tY(tG(t),"scope",x,tG(t)),t}return n=s,r=[{key:"linkType",get:function(){return"#".concat(this.scope).concat(this.type)}},{key:"classes",get:function(){return"klk-icon klk-icon-".concat(this.type)}},{key:"styles",get:function(){var t={};return this.size&&(t.fontSize="".concat(parseFloat(this.size.toString()).toString(),"px")),this.color&&(t.color=this.color),t}},{key:"handleClick",value:function(t){this.$emit("click",t)}}],tq(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(S.default)).prototype,"type",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=tK(m.prototype,"size",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=tK(m.prototype,"color",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=tK(m.prototype,"scope",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=m))||y),t8=t3({render:function(){var t=this.$createElement,e=this._self._c||t;return e("i",{class:this.classes,style:this.styles,on:{click:this.handleClick}},[e("svg",[e("use",{attrs:{"xlink:href":this.linkType}})])])},staticRenderFns:[]},void 0,t6,void 0,!1,void 0,!1,void 0,void 0,void 0),t7="undefined"==typeof window&&void 0!==i.g;function et(t,e){return{name:t,functional:!0,render:(i,n)=>(n.data=n.data||{},n.data.props={name:t},n.data.on=n.data.on||{},!Object.isExtensible(n.data.on)&&(n.data.on=Object.assign({},n.data.on)),e&&(n.data.props.mode=e),i("transition",n.data,n.children))}}t7||function(){if(!k){(k=document.createElement("script")).src="https://cdn.klook.com/s/dist_web/klook-storybook/packages/klook-ui/dist/font_1602031_7yrmcdskhuj.js",k.type="text/javascript";var t=document.getElementsByTagName("head")[0];t&&t.appendChild(k)}}(),t8.install=function(t){t.component("klk-icon",t8)};let ee=et("klk-fade-transition"),ei=et("klk-slide-top-transition"),en=et("klk-slide-bottom-transition"),er=et("klk-slide-left-transition"),eo=et("klk-slide-right-transition"),ea=et("klk-scale-transition");var es={name:"resize",inserted(t,e){let i,n=e.value,r=200,o=!0;"function"!=typeof e.value&&(n=e.value.value,r=e.value.debounce||r,o=null===e.value.quiet&&o);let a=()=>{clearTimeout(i),i=window.setTimeout(n,r)};window.addEventListener("resize",a,{passive:!0}),t._onResize=a,o&&a()},unbind(t,e){window.removeEventListener("resize",t._onResize)}};let el=S.default.prototype.$isServer;function ec(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function eu(t,e){if(t){for(var i=t.className,n=(e||"").split(" "),r=0,o=n.length;r<o;r++){var a=n[r];a&&(t.classList?t.classList.add(a):!ec(t,a)&&(i+=" "+a))}!t.classList&&(t.className=i)}}function ed(t,e){if(t&&e){for(var i=e.split(" "),n=" "+t.className+" ",r=0,o=i.length;r<o;r++){var a=i[r];a&&(t.classList?t.classList.remove(a):ec(t,a)&&(n=n.replace(" "+a+" "," ")))}!t.classList&&(t.className=n?n.trim():n)}}function ep(t,e,i){return t.addEventListener(e,i)}function ef(t,e,i){return t.removeEventListener(e,i)}function eh(t,e){if(!["number","string"].includes(typeof t))return t;if("string"==typeof t){if(t=t.trim(),!/(\d+|px)$/.test(t))return t;t=parseFloat(t)}if("number"==typeof t&&!Number.isNaN(t))return(t=e?t+e:t)+"px"}function ev(t){if(!t)return 0;let e=t.indexOf("px");return -1===e?0:Number(t.substring(0,e))}var ey={name:"klk-expand-transition",methods:{beforeEnter(t){t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.paddingTop="0",t.style.paddingBottom="0",t.style.height="0"},enter(t){t.style.display="block",t.style.overflow="hidden",t.style.height=t.scrollHeight+ev(t.dataset.oldPaddingTop)+ev(t.dataset.oldPaddingBottom)+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},afterEnter(t){t.style.display="",t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},beforeLeave(t){t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.display="block",0!==t.scrollHeight&&(t.style.height=t.scrollHeight+"px"),t.style.overflow="hidden"},leave(t){0!==t.scrollHeight&&setTimeout(()=>{t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0})},afterLeave(t){t.style.display="none",t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}},render(t){return t("transition",{props:{name:"klk-expand"},on:{"before-enter":this.beforeEnter,enter:this.enter,"after-enter":this.afterEnter,"before-leave":this.beforeLeave,leave:this.leave,"after-leave":this.afterLeave}},this.$slots.default)}};function em(t,e){let i="function"==typeof e.value?e.value:e.value.callback,n=e.value.options||{passive:!0},r=e.value.target||window;if("undefined"===r)return;r instanceof Element?r=function(t){let e=t;for(;e&&"HTML"!==e.tagName&&1===e.nodeType;){let t=window.getComputedStyle(e).overflowY;if("scroll"===t||"auto"===t)return e;e=e.parentNode}return window}(r):r!==window&&(r=document.querySelector(r));let o=function(t){i(r,t)};t._onScroll&&r!==t._onScroll.target&&eg(t),r.addEventListener("scroll",o,n),t._onScroll={callback:o,options:n,target:r}}function eg(t,e){let{callback:i,options:n,target:r}=t._onScroll;r&&r.removeEventListener("scroll",i,n)}var e_={name:"scroll",inserted:em,update:em,unbind:eg};function eb(t){return"klk-elevation-"+t}var ex={name:"elevation",inserted(t,{value:e},i){eu(t,eb(e))},update(t,{value:e,oldValue:i}){!(e===i&&ec(t,eb(i)))&&(ed(t,eb(i)),eu(t,eb(e)))},unbind(t,{value:e}){ed(t,eb(e))}};let ek=[],ew="@@clickoutsideContext",eS=0;function eC(t,e,i){return function(r={},o={}){!(!i||!i.context||!r.target||!o.target||t.contains(r.target)||t.contains(o.target)||t===r.target||i.context.popperEl&&(i.context.popperEl.contains(r.target)||i.context.popperEl.contains(o.target)))&&(e.expression&&t[ew].methodName&&i.context[t[ew].methodName]?i.context[t[ew].methodName](n):t[ew].bindingFn&&t[ew].bindingFn(n))}}S.default.prototype.$isServer||ep(document,"mousedown",t=>n=t),S.default.prototype.$isServer||ep(document,"mouseup",t=>{ek.forEach(e=>{var i;return null===(i=e[ew])||void 0===i?void 0:i.documentHandler(t,n)})});var eO={name:"click-outside",bind(t,e,i){ek.push(t);let n=eS++;t[ew]={id:n,documentHandler:eC(t,e,i),methodName:e.expression,bindingFn:e.value}},update(t,e,i){t[ew].documentHandler=eC(t,e,i),t[ew].methodName=e.expression,t[ew].bindingFn=e.value},unbind(t){var e;let i=ek.length;for(let n=0;n<i;n++)if(ek[n][ew].id===(null===(e=t[ew])||void 0===e?void 0:e.id)){ek.splice(n,1);break}delete t[ew]}},eP="bottom",e$="right",eL="left",eE="auto",eT=["top",eP,e$,eL],ej="start",eI="viewport",eR="popper",eM=eT.reduce(function(t,e){return t.concat([e+"-"+ej,e+"-end"])},[]),eD=[].concat(eT,[eE]).reduce(function(t,e){return t.concat([e,e+"-"+ej,e+"-end"])},[]),eF=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function eA(t){return t?(t.nodeName||"").toLowerCase():null}function eB(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function eN(t){var e=eB(t).Element;return t instanceof e||t instanceof Element}function eH(t){var e=eB(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function eV(t){if("undefined"==typeof ShadowRoot)return!1;var e=eB(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ez(t){return t.split("-")[0]}var eW=Math.max,eq=Math.min,eU=Math.round;function eZ(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function eG(){return!/^((?!chrome|android).)*safari/i.test(eZ())}function eY(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,o=1;e&&eH(t)&&(r=t.offsetWidth>0&&eU(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&eU(n.height)/t.offsetHeight||1);var a=(eN(t)?eB(t):window).visualViewport,s=!eG()&&i,l=(n.left+(s&&a?a.offsetLeft:0))/r,c=(n.top+(s&&a?a.offsetTop:0))/o,u=n.width/r,d=n.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function eK(t){var e=eY(t),i=t.offsetWidth,n=t.offsetHeight;return 1>=Math.abs(e.width-i)&&(i=e.width),1>=Math.abs(e.height-n)&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function eX(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&eV(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function eJ(t){return eB(t).getComputedStyle(t)}function eQ(t){return((eN(t)?t.ownerDocument:t.document)||window.document).documentElement}function e0(t){return"html"===eA(t)?t:t.assignedSlot||t.parentNode||(eV(t)?t.host:null)||eQ(t)}function e1(t){return eH(t)&&"fixed"!==eJ(t).position?t.offsetParent:null}function e2(t){for(var e=eB(t),i=e1(t);i&&["table","td","th"].indexOf(eA(i))>=0&&"static"===eJ(i).position;)i=e1(i);return i&&("html"===eA(i)||"body"===eA(i)&&"static"===eJ(i).position)?e:i||function(t){var e=/firefox/i.test(eZ());if(/Trident/i.test(eZ())&&eH(t)&&"fixed"===eJ(t).position)return null;var i=e0(t);for(eV(i)&&(i=i.host);eH(i)&&0>["html","body"].indexOf(eA(i));){var n=eJ(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function e4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function e5(t,e,i){return eW(t,eq(e,i))}function e9(){return{top:0,right:0,bottom:0,left:0}}function e3(t){return Object.assign({},e9(),t)}function e6(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}function e8(t){return t.split("-")[1]}var e7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function it(t){var e,i,n,r,o,a,s,l=t.popper,c=t.popperRect,u=t.placement,d=t.variation,p=t.offsets,f=t.position,h=t.gpuAcceleration,v=t.adaptive,y=t.roundOffsets,m=t.isFixed,g=p.x,_=void 0===g?0:g,b=p.y,x=void 0===b?0:b,k="function"==typeof y?y({x:_,y:x}):{x:_,y:x};_=k.x,x=k.y;var w=p.hasOwnProperty("x"),S=p.hasOwnProperty("y"),C=eL,O="top",P=window;if(v){var $=e2(l),L="clientHeight",E="clientWidth";$===eB(l)&&"static"!==eJ($=eQ(l)).position&&"absolute"===f&&(L="scrollHeight",E="scrollWidth");("top"===u||(u===eL||u===e$)&&"end"===d)&&(O=eP,x-=(m&&$===P&&P.visualViewport?P.visualViewport.height:$[L])-c.height,x*=h?1:-1),(u===eL||("top"===u||u===eP)&&"end"===d)&&(C=e$,_-=(m&&$===P&&P.visualViewport?P.visualViewport.width:$[E])-c.width,_*=h?1:-1)}var T=Object.assign({position:f},v&&e7);var j=!0===y?(e={x:_,y:x},i=eB(l),n=e.x,r=e.y,{x:eU(n*(o=i.devicePixelRatio||1))/o||0,y:eU(r*o)/o||0}):{x:_,y:x};return(_=j.x,x=j.y,h)?Object.assign({},T,((s={})[O]=S?"0":"",s[C]=w?"0":"",s.transform=1>=(P.devicePixelRatio||1)?"translate("+_+"px, "+x+"px)":"translate3d("+_+"px, "+x+"px, 0)",s)):Object.assign({},T,((a={})[O]=S?x+"px":"",a[C]=w?_+"px":"",a.transform="",a))}var ie={passive:!0},ii={left:"right",right:"left",bottom:"top",top:"bottom"};function ir(t){return t.replace(/left|right|bottom|top/g,function(t){return ii[t]})}var io={start:"end",end:"start"};function ia(t){return t.replace(/start|end/g,function(t){return io[t]})}function is(t){var e=eB(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function il(t){return eY(eQ(t)).left+is(t).scrollLeft}function ic(t){var e=eJ(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function iu(t,e){void 0===e&&(e=[]);var i,n=function t(e){return["html","body","#document"].indexOf(eA(e))>=0?e.ownerDocument.body:eH(e)&&ic(e)?e:t(e0(e))}(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),o=eB(n),a=r?[o].concat(o.visualViewport||[],ic(n)?n:[]):n,s=e.concat(a);return r?s:s.concat(iu(e0(a)))}function id(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ip(t,e,i){var n,r,o,a,s,l,c,u,d,p,f;return e===eI?id(function(t,e){var i=eB(t),n=eQ(t),r=i.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(r){o=r.width,a=r.height;var c=eG();(c||!c&&"fixed"===e)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:s+il(t),y:l}}(t,i)):eN(e)?((r=eY(n=e,!1,"fixed"===i)).top=r.top+n.clientTop,r.left=r.left+n.clientLeft,r.bottom=r.top+n.clientHeight,r.right=r.left+n.clientWidth,r.width=n.clientWidth,r.height=n.clientHeight,r.x=r.left,r.y=r.top,r):id((o=eQ(t),s=eQ(o),l=is(o),c=null==(a=o.ownerDocument)?void 0:a.body,u=eW(s.scrollWidth,s.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=eW(s.scrollHeight,s.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),p=-l.scrollLeft+il(o),f=-l.scrollTop,"rtl"===eJ(c||s).direction&&(p+=eW(s.clientWidth,c?c.clientWidth:0)-u),{width:u,height:d,x:p,y:f}))}function ih(t){var e,i=t.reference,n=t.element,r=t.placement,o=r?ez(r):null,a=r?e8(r):null,s=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case"top":e={x:s,y:i.y-n.height};break;case eP:e={x:s,y:i.y+i.height};break;case e$:e={x:i.x+i.width,y:l};break;case eL:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?e4(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case ej:e[c]=e[c]-(i[u]/2-n[u]/2);break;case"end":e[c]=e[c]+(i[u]/2-n[u]/2)}}return e}function iv(t,e){void 0===e&&(e={});var i,n,r,o,a,s,l,c,u,d,p=e,f=p.placement,h=void 0===f?t.placement:f,v=p.strategy,y=void 0===v?t.strategy:v,m=p.boundary,g=p.rootBoundary,_=p.elementContext,b=void 0===_?eR:_,x=p.altBoundary,k=p.padding,w=void 0===k?0:k,S=e3("number"!=typeof w?w:e6(w,eT)),C=t.rects.popper,O=t.elements[void 0!==x&&x?b===eR?"reference":eR:b];var P=(i=eN(O)?O:O.contextElement||eQ(t.elements.popper),n=void 0===m?"clippingParents":m,r=void 0===g?eI:g,o=y,u=(c=[].concat("clippingParents"===n?(s=iu(e0(a=i)),eN(l=["absolute","fixed"].indexOf(eJ(a).position)>=0&&eH(a)?e2(a):a)?s.filter(function(t){return eN(t)&&eX(t,l)&&"body"!==eA(t)}):[]):[].concat(n),[r]))[0],(d=c.reduce(function(t,e){var n=ip(i,e,o);return t.top=eW(n.top,t.top),t.right=eq(n.right,t.right),t.bottom=eq(n.bottom,t.bottom),t.left=eW(n.left,t.left),t},ip(i,u,o))).width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d),$=eY(t.elements.reference),L=ih({reference:$,element:C,strategy:"absolute",placement:h}),E=id(Object.assign({},C,L)),T=b===eR?E:$,j={top:P.top-T.top+S.top,bottom:T.bottom-P.bottom+S.bottom,left:P.left-T.left+S.left,right:T.right-P.right+S.right},I=t.modifiersData.offset;if(b===eR&&I){var R=I[h];Object.keys(j).forEach(function(t){var e=[e$,eP].indexOf(t)>=0?1:-1,i=["top",eP].indexOf(t)>=0?"y":"x";j[t]+=R[i]*e})}return j}function iy(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function im(t){return["top",e$,eP,eL].some(function(e){return t[e]>=0})}var ig={placement:"bottom",modifiers:[],strategy:"absolute"};function i_(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var ib=(r={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=void 0===r||r,a=n.resize,s=void 0===a||a,l=eB(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(t){t.addEventListener("scroll",i.update,ie)}),s&&l.addEventListener("resize",i.update,ie),function(){o&&c.forEach(function(t){t.removeEventListener("scroll",i.update,ie)}),s&&l.removeEventListener("resize",i.update,ie)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=ih({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=i.adaptive,o=i.roundOffsets,a=void 0===o||o,s={placement:ez(e.placement),variation:e8(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:void 0===n||n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,it(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:void 0===r||r,roundOffsets:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,it(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];if(!!eH(r)&&!!eA(r))Object.assign(r.style,i),Object.keys(n).forEach(function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})})},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce(function(t,e){return t[e]="",t},{});if(!!eH(n)&&!!eA(n))Object.assign(n.style,o),Object.keys(r).forEach(function(t){n.removeAttribute(t)})})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=void 0===r?[0,0]:r,a=eD.reduce(function(t,i){var n,r,a,s,l,c,u,d;return t[i]=(n=i,r=e.rects,a=o,l=[eL,"top"].indexOf(s=ez(n))>=0?-1:1,u=(c="function"==typeof a?a(Object.assign({},r,{placement:n})):a)[0],d=c[1],u=u||0,d=(d||0)*l,[eL,e$].indexOf(s)>=0?{x:d,y:u}:{x:u,y:d}),t},{}),s=a[e.placement],l=s.x,c=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,a=i.altAxis,s=void 0===a||a,l=i.fallbackPlacements,c=i.padding,u=i.boundary,d=i.rootBoundary,p=i.altBoundary,f=i.flipVariations,h=void 0===f||f,v=i.allowedAutoPlacements,y=e.options.placement,m=ez(y)===y,g=l||(m||!h?[ir(y)]:function(t){if(ez(t)===eE)return[];var e=ir(t);return[ia(t),e,ia(e)]}(y)),_=[y].concat(g).reduce(function(t,i){var n,r,o,a,s,l,p,f,y,m,g,_,b,x;return t.concat(ez(i)===eE?(n=e,r={placement:i,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:v},a=(o=r).placement,s=o.boundary,l=o.rootBoundary,p=o.padding,f=o.flipVariations,m=void 0===(y=o.allowedAutoPlacements)?eD:y,0===(b=(_=(g=e8(a))?f?eM:eM.filter(function(t){return e8(t)===g}):eT).filter(function(t){return m.indexOf(t)>=0})).length&&(b=_),Object.keys(x=b.reduce(function(t,e){return t[e]=iv(n,{placement:e,boundary:s,rootBoundary:l,padding:p})[ez(e)],t},{})).sort(function(t,e){return x[t]-x[e]})):i)},[]),b=e.rects.reference,x=e.rects.popper,k=new Map,w=!0,S=_[0],C=0;C<_.length;C++){var O=_[C],P=ez(O),$=e8(O)===ej,L=["top",eP].indexOf(P)>=0,E=L?"width":"height",T=iv(e,{placement:O,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),j=L?$?e$:eL:$?eP:"top";b[E]>x[E]&&(j=ir(j));var I=ir(j),R=[];if(o&&R.push(T[P]<=0),s&&R.push(T[j]<=0,T[I]<=0),R.every(function(t){return t})){S=O,w=!1;break}k.set(O,R)}if(w){for(var M=h?3:1,D=function(t){var e=_.find(function(e){var i=k.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return S=e,"break"},F=M;F>0&&"break"!==D(F);F--);}e.placement!==S&&(e.modifiersData[n]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=i.altAxis,a=i.boundary,s=i.rootBoundary,l=i.altBoundary,c=i.padding,u=i.tether,d=void 0===u||u,p=i.tetherOffset,f=void 0===p?0:p,h=iv(e,{boundary:a,rootBoundary:s,padding:c,altBoundary:l}),v=ez(e.placement),y=e8(e.placement),m=!y,g=e4(v),_="x"===g?"y":"x",b=e.modifiersData.popperOffsets,x=e.rects.reference,k=e.rects.popper,w="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,S="number"==typeof w?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(!!b){if(void 0===r||r){var P,$="y"===g?"top":eL,L="y"===g?eP:e$,E="y"===g?"height":"width",T=b[g],j=T+h[$],I=T-h[L],R=d?-k[E]/2:0,M=y===ej?x[E]:k[E],D=y===ej?-k[E]:-x[E],F=e.elements.arrow,A=d&&F?eK(F):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:e9(),N=B[$],H=B[L],V=e5(0,x[E],A[E]),z=m?x[E]/2-R-V-N-S.mainAxis:M-V-N-S.mainAxis,W=m?-x[E]/2+R+V+H+S.mainAxis:D+V+H+S.mainAxis,q=e.elements.arrow&&e2(e.elements.arrow),U=q?"y"===g?q.clientTop||0:q.clientLeft||0:0,Z=null!=(P=null==C?void 0:C[g])?P:0,G=e5(d?eq(j,T+z-Z-U):j,T,d?eW(I,T+W-Z):I);b[g]=G,O[g]=G-T}if(void 0!==o&&o){var Y,K,X,J="x"===g?"top":eL,Q="x"===g?eP:e$,tt=b[_],te="y"===_?"height":"width",ti=tt+h[J],tn=tt-h[Q],tr=-1!==["top",eL].indexOf(v),to=null!=(X=null==C?void 0:C[_])?X:0,ta=tr?ti:tt-x[te]-k[te]-to+S.altAxis,ts=tr?tt+x[te]+k[te]-to-S.altAxis:tn;var tl=d&&tr?(K=e5(ta,tt,Y=ts))>Y?Y:K:e5(d?ta:ti,tt,d?ts:tn);b[_]=tl,O[_]=tl-tt}e.modifiersData[n]=O}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i,n,r=t.state,o=t.name,a=t.options,s=r.elements.arrow,l=r.modifiersData.popperOffsets,c=ez(r.placement),u=e4(c),d=[eL,e$].indexOf(c)>=0?"height":"width";if(!!s&&!!l){var p=(e=a.padding,i=r,e3("number"!=typeof(e="function"==typeof e?e(Object.assign({},i.rects,{placement:i.placement})):e)?e:e6(e,eT))),f=eK(s),h="y"===u?"top":eL,v="y"===u?eP:e$,y=r.rects.reference[d]+r.rects.reference[u]-l[u]-r.rects.popper[d],m=l[u]-r.rects.reference[u],g=e2(s),_=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,b=p[h],x=_-f[d]-p[v],k=_/2-f[d]/2+(y/2-m/2),w=e5(b,k,x);r.modifiersData[o]=((n={})[u]=w,n.centerOffset=w-k,n)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;if(null!=n&&("string"!=typeof n||!!(n=e.elements.popper.querySelector(n)))&&!!eX(e.elements.popper,n))e.elements.arrow=n},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=iv(e,{elementContext:"reference"}),s=iv(e,{altBoundary:!0}),l=iy(a,n),c=iy(s,r,o),u=im(l),d=im(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]},s=void 0===(a=(o=r).defaultModifiers)?[]:a,c=void 0===(l=o.defaultOptions)?ig:l,function(t,e,i){void 0===i&&(i=c);var n,r,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},ig,c),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],l=!1;var u={state:o,setOptions:function(i){var n,r,l,p,f,h,v="function"==typeof i?i(o.options):i;d(),o.options=Object.assign({},c,o.options,v),o.scrollParents={reference:eN(t)?iu(t):t.contextElement?iu(t.contextElement):[],popper:iu(e)};var y=(h=(r=Object.keys(n=[].concat(s,o.options.modifiers).reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{})).map(function(t){return n[t]}),l=new Map,p=new Set,f=[],r.forEach(function(t){l.set(t.name,t)}),r.forEach(function(t){!p.has(t.name)&&!function t(e){p.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!p.has(e)){var i=l.get(e);i&&t(i)}}),f.push(e)}(t)}),f),eF.reduce(function(t,e){return t.concat(h.filter(function(t){return t.phase===e}))},[]));return o.orderedModifiers=y.filter(function(t){return t.enabled}),function(){o.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,n=t.effect;if("function"==typeof n){var r=n({state:o,name:e,instance:u,options:void 0===i?{}:i});a.push(r||function(){})}})}(),u.update()},forceUpdate:function(){if(l)return;var t,e,i,n,r,a,s,c,d,p,f,h,v,y=o.elements,m=y.reference,g=y.popper;if(!!i_(m,g)){o.rects={reference:(t=m,e=e2(g),i="fixed"===o.options.strategy,n=eH(e),d=eH(e)&&(s=eU((a=(r=e).getBoundingClientRect()).width)/r.offsetWidth||1,c=eU(a.height)/r.offsetHeight||1,1!==s||1!==c),p=eQ(e),f=eY(t,d,i),h={scrollLeft:0,scrollTop:0},v={x:0,y:0},(n||!n&&!i)&&(("body"!==eA(e)||ic(p))&&(h=function(t){var e;if(t===eB(t)||!eH(t))return is(t);return{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}}(e)),eH(e)?(v=eY(e,!0),v.x+=e.clientLeft,v.y+=e.clientTop):p&&(v.x=il(p))),{x:f.left+h.scrollLeft-v.x,y:f.top+h.scrollTop-v.y,width:f.width,height:f.height}),popper:eK(g)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(t){return o.modifiersData[t.name]=Object.assign({},t.data)});for(var _=0;_<o.orderedModifiers.length;_++){if(!0===o.reset){o.reset=!1,_=-1;continue}var b=o.orderedModifiers[_],x=b.fn,k=b.options,w=void 0===k?{}:k,S=b.name;"function"==typeof x&&(o=x({state:o,options:w,name:S,instance:u})||o)}}},update:(n=function(){return new Promise(function(t){u.forceUpdate(),t(o)})},function(){return!r&&(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(n())})})),r}),destroy:function(){d(),l=!0}};if(!i_(t,e))return u;u.setOptions(i).then(function(t){!l&&i.onFirstUpdate&&i.onFirstUpdate(t)});function d(){a.forEach(function(t){return t()}),a=[]}return u}),ix=function(t){if(!t)return 0;let e="string"==typeof t?t:t.$options.name;switch(e=e.replace("klk-","")){case"toast":case"message":return 3e3;case"modal":case"bottom-sheet":case"drawer":case"loading":return 2e3;case"notification":return 1200;case"announcement":return 600;case"poptip":case"dropdown":case"select":return 200;default:return 0}}("klk-poptip");S.default.use({install:function(t){[ey,ee,ei,en,er,eo,ea].forEach(function(e){return t.component(e.name,e)}),t.directive(eO.name,eO),t.directive(es.name,es),t.directive(e_.name,e_),t.directive(ex.name,ex)}});var ik={name:"klk-poptip",components:{Icon:t8,IconClose:O.Z},directives:{clickOutside:eO},mixins:[{props:{rtl:Boolean},computed:{isRtl(){return this.rtl||this.$form&&this.$form.rtl||this.$klookui&&(this.$klookui.config||{}).rtl}}}],props:{value:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},placement:{type:String,default:"top",validator:function(t){return["top-start","top","top-end","left-start","left","left-end","right-start","right","right-end","bottom-start","bottom","bottom-end"].includes(t)}},trigger:{type:String,validator:function(t){return["hover","click","focus","none"].includes(t)},default:"hover"},offset:{type:[Number,Array],default:10},popperEl:{},referenceEl:{},fixed:{type:Boolean,default:!1},disabled:Boolean,arrow:{type:Boolean,default:!0},closable:Boolean,width:Number,maxWidth:{type:Number,default:360},height:Number,maxHeight:{type:Number,default:168},zIndex:{type:Number,default:ix},dark:Boolean,appendToBody:Boolean,flip:Boolean,preventOverflow:Boolean,hideDelay:{type:Number,default:50},showDelay:{type:Number,default:0},flipOptions:{type:Object,default:function(){return{}}},preventOverflowOptions:{type:Object,default:function(){return{}}}},data:function(){return{showPopper:this.value,popperIns:null,inputEl:null,popperClicked:!1,closeDelay:this.hideDelay,closeDelayTimer:null,showDelayTimer:null}},computed:{cClass:function(){return{"klk-poptip":!0,"klk-poptip-dark":this.dark,"klk-poptip-closable":this.closable,"klk-poptip-with-title":!!(this.title||this.$slots.title),"klk-poptip-no-arrow":!this.arrow,"klk-poptip-rtl":this.isRtl}},innerStyle:function(){return{width:eh(this.width),maxWidth:eh(this.maxWidth),height:eh(this.height,-24),maxHeight:eh(this.maxHeight,-24)}},realPlacement:function(){return this.isRtl?/^(top|bottom)\-start$/.test(this.placement)?this.placement.replace("start","end"):/^(top|bottom)\-end$/.test(this.placement)?this.placement.replace("end","start"):this.placement:this.placement}},watch:{value:{immediate:!0,handler:function(t){this[t?"open":"hide"](),this.$emit("input",t)}},showPopper:function(t){t?(this.updatePopper(),this.$emit("show")):this.$emit("hide"),this.$emit("input",t)},placement:function(){this.onPopperOptionsUpdate()},offset:function(){this.onPopperOptionsUpdate()}},mounted:function(){this.initFocus()},updated:function(){var t=this;this.$nextTick(function(){return t.updatePopper()})},beforeDestroy:function(){if(this.inputEl&&(ef(this.inputEl,"focus",this.onFocus),ef(this.inputEl,"blur",this.onBlur)),!el&&this.popperIns&&(this.popperIns.destroy(),this.popperIns=null),this.appendToBody){var t=this.getPopperEl();t&&t.parentNode===document.body&&document.body.removeChild(t)}clearTimeout(this.hideDelay),clearTimeout(this.showDelay)},methods:{updatePopper:function(){!el&&(this.popperIns?this.popperIns.update():this.createPopper())},onPopperOptionsUpdate:function(){this.popperIns&&this.popperIns.setOptions(this.getPopperOptions())},getPopperOptions:function(){var t=this;return{placement:this.realPlacement,modifiers:[{name:"offset",options:{offset:function(){return Array.isArray(t.offset)?t.offset:[0,t.offset]}}},{name:"flip",enabled:this.flip,options:this.flipOptions},{name:"preventOverflow",enabled:this.preventOverflow,options:this.preventOverflowOptions}],strategy:this.fixed?"fixed":"absolute"}},createPopper:function(){if(!el&&!this.popperIns){var t=this.referenceEl||this.$refs.reference,e=this.getPopperEl();if(t&&e){this.appendToBody&&document.body.appendChild(e);var i=this.getPopperOptions();this.popperIns=ib(t,e,i)}}},initFocus:function(){var t=this;this.shouldResponse("focus")&&this.$nextTick(function(){var e=t.$refs.reference.querySelectorAll("input"),i=t.$refs.reference.querySelectorAll("textarea");t.inputEl=e?e[0]:i?i[0]:null,t.inputEl&&(ep(t.inputEl,"focus",t.onFocus),ep(t.inputEl,"blur",t.onBlur))})},getPopperEl:function(){return this.popperEl||this.$refs.popper},shouldResponse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!(el||this.disabled||this.trigger!==t)},onClick:function(){this.shouldResponse("click")&&this[this.showPopper?"hide":"open"]()},onClickOutside:function(t){if(this.appendToBody){var e=this.getPopperEl();t&&(t.target===e||e.contains(t.target))?this.popperClicked=!0:this.popperClicked=!1}else this.popperClicked=!1;this.shouldResponse("click")&&this.close()},onMouseenter:function(){clearTimeout(this.closeDelayTimer),this.shouldResponse("hover")&&this.open()},onMouseleave:function(){var t=this;clearTimeout(this.closeDelayTimer),this.shouldResponse("hover")&&(this.closeDelayTimer=setTimeout(function(){t.close()},this.closeDelay))},onFocus:function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];(!this.inputEl||t)&&this.shouldResponse("focus")&&this.open()},onBlur:function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];(!this.inputEl||t)&&this.shouldResponse("focus")&&this.close()},open:function(){var t=this;clearTimeout(this.showDelayTimer),this.showDelayTimer=setTimeout(function(){t.showPopper=!0},this.showDelay)},show:function(){this.open()},close:function(){if(!(this.appendToBody&&this.popperClicked&&["click"].includes(this.trigger)))clearTimeout(this.showDelayTimer),this.showPopper=!1},hide:function(){this.close()}}},iw=t3({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(e){return t.onClickOutside(e)},expression:"e => onClickOutside(e)"}],ref:"poptip",class:t.cClass,attrs:{"data-placement":t.realPlacement}},[i("div",{ref:"reference",staticClass:"klk-poptip-reference",on:{click:t.onClick,mouseenter:t.onMouseenter,mouseleave:t.onMouseleave,mousedown:function(e){return t.onFocus(!1)},mouseup:function(e){return t.onBlur(!1)}}},[t._t("default")],2),t._v(" "),i("klk-fade-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper&&(!!t.title||t.$slots.title||!!t.content||t.$slots.content),expression:"showPopper && (!!title || $slots.title || !!content || $slots.content)"}],ref:"popper",class:{"klk-poptip-popper":!0,dark:t.dark},style:{zIndex:t.zIndex},on:{click:function(t){return t.stopPropagation(),void 0},mouseenter:t.onMouseenter,mouseleave:t.onMouseleave}},[i("div",{staticClass:"klk-poptip-popper-inner",style:t.innerStyle},[t.title||t.$slots.title?i("div",{staticClass:"klk-poptip-popper-title"},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),i("div",{staticClass:"klk-poptip-popper-content"},[t._t("content",[t._v(t._s(t.content))])],2)]),t._v(" "),t.closable?i("IconClose",{staticClass:"klk-poptip-popper-close-btn",attrs:{theme:"outline",fill:"currentColor",size:16},nativeOn:{click:function(e){return t.close(e)}}}):t._e()],1)])],1)},staticRenderFns:[]},void 0,ik,void 0,!1,void 0,!1,void 0,void 0,void 0);iw.install=function(t){t.component(iw.name,iw)};var iS=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=parseInt((t=t.replace("#","")).substring(0,2),16),n=parseInt(t.substring(2,4),16),r=parseInt(t.substring(4,6),16);return"rgba("+i+", "+n+", "+r+", "+e+")"},iC={common:function(){var t=this.$createElement,e=this.tag;if(!e.text&&!e.name)return null;var i="countdown_manual_tag"===e.type;if(i&&!this.timeLeftDesc)return null;var n=e.style||{color:e.text_color||"#212121",background:e.bg_color||void 0,border:e.border_color?"1px solid ".concat(e.border_color):void 0,padding:"0px 4px",borderRadius:"2px"};"countdown_manual_tag"===e.type&&(n.color=e.tag_color,n.border="1px solid ".concat(iS(e.tag_color,.4)),n.fontSize="12px",n.height="20px",n.lineHeight="20px");var r=!e.bg_color&&!e.border_color&&!e.style&&!e.tag_color;return r&&delete n.padding,t("div",{class:"hotel-card-tag ".concat(e.type?"type-".concat(e.type):""," ").concat(r?"no-padding":""),style:n},[e.icon&&t("img",{domProps:{src:e.icon}}),t("span",{domProps:{innerHTML:"".concat(e.text||e.name).concat(i?": ".concat(this.timeLeftDesc):"")}})])},reward:function(){var t=this.$createElement,e=this.tag,i=this.oid,n={},r={};e.bg_url&&(n.background="url(".concat(e.bg_url,") 0% 0% / cover no-repeat")),e.text_color&&(r.color=e.text_color);var o="MemberRateTag".concat("Gold"===e.id?"Gold":"Member");return t("div",{class:"hotel-card-tag type-reward type-reward-".concat(e.id),style:n,attrs:{"data-spm-module":"".concat(o,"?oid=hotel_").concat(encodeURIComponent(i),"&ext=").concat(encodeURIComponent(JSON.stringify({ResourceTag:e.id})))},directives:[{name:"galileo-click-tracker",value:{spm:o}}]},[e.icon_src&&t("img",{domProps:{src:e.icon_src}}),t("span",{style:r,domProps:{innerHTML:e.text}})])},hotel_sustainable_tag:function(){var t=this.$createElement,e=this.tag,i=this.platform;if(!e.text&&!e.name)return null;var n=t("div",{class:"sustainable-tag"},[t("img",{attrs:{src:e.icon_src}})]);return"desktop"===i?t(iw,{props:{content:e.text,placement:"top",maxWidth:430,offset:15,flip:!0,flipConfig:{fallbackPlacements:["right","left","top","bottom"],rootBoundary:"viewport",padding:80}}},[n]):n}},iO=S.default.extend({name:"HotelCardTag",props:["tag","type","oid","platform","size"],components:{KlkAtomicBasicTag:C.lR},data:function(){return{timeLeftDesc:""}},render:function(t){if(!this.tag)return null;var e=this.tag.type,i=["hotel-klk-atomic-basic-tag"];if(["manual_tag","hotel_manual_tag","vertical_promo_tag","platform_promo_code_tag"].includes(e))return!this.tag.bg_color&&!this.tag.line_color&&i.push("hotel-no-bg"),t("klk-atomic-basic-tag",{props:{data:this.tag,size:this.size||"small"},class:i.join(" "),style:{}});if("hotel_promo_code_tag"===e){var n=Array.isArray(this.tag.hover_list)?this.tag.hover_list[0]:null;return t("klk-poptip",{props:{content:n?"".concat(n.title||"").concat(n.desc||""):"",dark:!0}},[t("klk-atomic-basic-tag",{props:{data:Object.assign(Object.assign({},this.tag),{type:"platform_promo_code_tag"}),size:"small"},class:i.join(" ")})])}var r=this.tag.renderer||this.tag.type&&iC[this.tag.type]||iC[this.type];return"function"==typeof r?r.call(this):this.tag.name&&t("div",{class:"hotel-card-tag"},[t("span",this.tag.name)])},mounted:function(){var t=this,e=this.tag||{},i=e.type,n=e.time_left;if("countdown_manual_tag"===i&&n>0){var r=function(e){if(!e||1>+e)return t.$t("74910-Event is over");var i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),r=e-3600*i-60*n,o=[i,n,r].map(function(t){return"".concat(t>9?t:"0".concat(t))}).join(":");return t.$t("74909-Ends in ".concat(o),{hh_mm_ss:'<span class="time-count">'.concat(o.replace(/(\d)/g,"<span>$1</span>"),"</span>")})},o=clearInterval.bind(null,setInterval(function(){t.timeLeftDesc=r(n--),n||o()},1e3));this.$once("hook:beforeDestroy",o)}}});function iP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i$(t,e){return t(e={exports:{}},e.exports),e.exports}var iL=i$(function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iL);var iE=i$(function(t){t.exports=function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iE);var iT=i$(function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iT);var ij=i$(function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return iT(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return iT(t,e)}},t.exports.__esModule=!0,t.exports.default=t.exports});iP(ij);var iI=i$(function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iI),iP(i$(function(t){t.exports=function(t,e){return iL(t)||iE(t,e)||ij(t,e)||iI()},t.exports.__esModule=!0,t.exports.default=t.exports}));var iR=iP(i$(function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports})),iM=i$(function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});iP(iM);var iD=i$(function(t){var e=iM.default;t.exports=function(t,i){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,i||"default");if("object"!==e(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iD);var iF=i$(function(t){var e=iM.default;t.exports=function(t){var i=iD(t,"string");return"symbol"===e(i)?i:String(i)},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iF);var iA=iP(i$(function(t){function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iF(n.key),n)}}t.exports=function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports})),iB=function(){function t(e){iR(this,t),this._handlers={};var i="string"==typeof e?document.querySelector(e):e;if(!!i)this._el=i,this._startHandler=this.onTouchStart.bind(this),this._moveHandler=this.onTouchMove.bind(this),this._endHandler=this.onTouchEnd.bind(this),this._cancelHandler=this.onTouchCancel.bind(this),this._el.addEventListener("touchstart",this._startHandler,!0),this._el.addEventListener("touchmove",this._moveHandler,!1),this._el.addEventListener("touchend",this._endHandler,!0),this._el.addEventListener("touchcancel",this._cancelHandler,!0)}return iA(t,[{key:"onTouchStart",value:function(t){if(!!t.touches)this.v1={x:t.touches[0].pageX,y:t.touches[0].pageY},this.last=Date.now()}},{key:"onTouchMove",value:function(t){if(!!t.touches)this.v2={x:t.touches[0].pageX,y:t.touches[0].pageY},this.deltaV={x:this.v2.x-this.v1.x,y:this.v2.y-this.v1.y},Math.abs(this.deltaV.x)>Math.abs(this.deltaV.y)&&(this.$emit("move",{delta:this.deltaV}),t.stopPropagation(),t.preventDefault())}},{key:"onTouchEnd",value:function(t){var e=this;if(!!t.changedTouches&&!!this.v2){var i=Math.abs(this.v1.x-this.v2.x),n=Math.abs(this.v1.y-this.v2.y);if(i>0&&i>n){var r=this.v1.x-this.v2.x>0?"Left":"Right";this._swiperTimeout=setTimeout(function(){e.$emit("swipe",{direction:r,delta:e.deltaV,timeDiff:Date.now()-e.last})},0)}this.v1=this.v2={x:0,y:0}}}},{key:"onTouchCancel",value:function(){clearTimeout(this._swiperTimeout)}},{key:"$on",value:function(t,e){!this._handlers[t]&&(this._handlers[t]=[e])}},{key:"$emit",value:function(t,e){(this._handlers[t]||[]).forEach(function(t){return t(e)})}},{key:"destroy",value:function(){var t=this;if(!!this._el)["start","move","end","cancel"].forEach(function(e){return t._el.removeEventListener("touch".concat(e),t["_".concat(e,"Handler")])}),this._el=null,this._handlers={}}}]),t}(),iN=function(t){if(t.wrapperEl.children.length<2)return function(){};var e,i=0,n=function(){if(!t.containerEl.offsetWidth){i=0;return}i=parseFloat(window.getComputedStyle(t.containerEl).getPropertyValue("width"))};n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n);var r=-i,o=t.wrapperEl.children.length,a=function(e,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!i&&(n(),r=-i);var l=r;return 0===Math.abs(r)&&a.x>0?l=-(o-2)*i:Math.abs(r)===(o-1)*i&&a.x<0&&(l=-i),Object.assign(t.wrapperEl.style,{transitionDuration:s?"300ms":"0ms",transform:"translate3d(".concat(l+e,"px, 0px, 0px)")}),l+e},s=function(){var e=Math.floor(Math.abs(r)/i);"function"==typeof t.onChange&&t.onChange(0===e?o-2:e===o-1?1:e);var n=Array.from(t.wrapperEl.querySelectorAll("img")).map(function(t){return t.__vue__});[n[e-1],n[e+1]].forEach(function(t){t&&"function"==typeof t.preload&&t.preload()})};if("mobile"===t.platform)(e=new iB(t.containerEl)).$on("move",function(t){a(t.delta.x,t.delta)}),e.$on("swipe",function(t){var e=t.direction,n=t.delta;if(Math.abs(3*n.x)<i&&t.timeDiff>250){a(0,t.delta,!0);return}r=a(("Left"===e?-1:1)*i,n,!0),s()});else if(t.leftArrowEl&&t.rightArrowEl){var l=t.containerEl.parentElement;l.addEventListener("mouseenter",function(){t.leftArrowEl.style.display=t.rightArrowEl.style.display="flex"},!0),l.addEventListener("mouseleave",function(){t.leftArrowEl.style.display=t.rightArrowEl.style.display="none"}),t.leftArrowEl.addEventListener("click",function(t){a(0,{x:1,y:0}),setTimeout(function(){r=a(i,{x:1,y:0},!0),s()},0),t.stopPropagation(),t.preventDefault()},!0),t.rightArrowEl.addEventListener("click",function(t){a(0,{x:-1,y:0}),setTimeout(function(){r=a(-i,{x:-1,y:0},!0),s()},0),t.stopPropagation(),t.preventDefault()},!0)}return function(){e&&e.destroy(),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},iH=function(t){return t.replace(/^https?:\/\/[^\/]+(.*)$/,"$1")},iV=function(t,e){var i=document.createElement("a");i.href=iH(t),i.target=e,document.body.appendChild(i),i.click(),setTimeout(function(){return document.body.removeChild(i)},500)},iz=void 0,iW=function(){return void 0!==iz?iz:iz=/\/hotels\/city\//.test(location.pathname)||/\/destination\//.test(location.pathname)},iq=function(t,e,i,n){var r=t.querySelector(".price-info"),o=t.querySelector(".price-sale"),a=t.querySelector(".tax-desc"),s=t.querySelector(".price-origin");if(r){var l=r.offsetWidth,c=(null==o?void 0:o.offsetWidth)||0,u=(null==a?void 0:a.offsetWidth)||0,d=(null==s?void 0:s.offsetWidth)||0;"listVertical"===n&&u&&u+d+8+2+c>l&&(a.style.marginRight="0"),d&&d+2+c>l&&(s.style.marginRight="0")}},iU=i$(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});iP(iU);var iZ=iP(i$(function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iU(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports})),iG=i$(function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iG);var iY=iP(i$(function(t){var e=iM.default;t.exports=function(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return iG(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),iK=iP(i$(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));function iX(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}function iJ(t,e,i,n){return new(i||(i=Promise))(function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((n=n.apply(t,e||[])).next())})}var iQ=i$(function(t){t.exports=function(t){if(Array.isArray(t))return iT(t)},t.exports.__esModule=!0,t.exports.default=t.exports});iP(iQ);var i0=i$(function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports});iP(i0);var i1=i$(function(t){t.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});iP(i1);var i2=iP(i$(function(t){t.exports=function(t){return iQ(t)||i0(t)||ij(t)||i1()},t.exports.__esModule=!0,t.exports.default=t.exports})),i4=function(t){iZ(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=iK(e);return t=i?Reflect.construct(n,arguments,iK(this).constructor):n.apply(this,arguments),iY(this,t)});function r(){var t;return iR(this,r),t=n.apply(this,arguments),t.imageIndex=0,t._axios=null,t.isRightClick=!1,t}return iA(r,[{key:"isMobile",get:function(){return"mobile"===this.platform}},{key:"cleanHref",get:function(){var t;return this.isRightClick&&!iW()?this.href:"string"!=typeof(t=this.href)?t:iH(t).replace(/\?[\s\S]*$/,"")}},{key:"cardStyle",get:function(){return{width:+this.width?"".concat(parseFloat(this.width),"px"):void 0,height:+this.height?"".concat(parseFloat(this.height),"px"):void 0}}},{key:"formatTarget",get:function(){return this.target||(this.isMobile?"_self":"_blank")}},{key:"cardLayout",get:function(){return this.layout||(["listHorizontal","mapNearby","mapList"].includes(this.scene)||"long"===this.type?"horizontal":"vertical")}},{key:"formatCardInfo",get:function(){if(this.isAllInfoCard)return this.cardInfo;var t,e=JSON.parse(JSON.stringify(this.cardInfo));var i=(t=e,{imageList:function(){var e=t.hotel_info.image_list;t.hotel_info.image_list=e.slice(0,1)},reviewNumDesc:function(){t.hotel_info.review_num_desc=void 0},nameEn:function(){t.hotel_info.local_name=void 0},location:function(){t.hotel_info.location=void 0},stayPlusList:function(){t.stay_plus_list=void 0},featureTags:function(){t.feature_tag_list=void 0},promotionTags:function(){t.promotion_tag_list=void 0,t.promo_tag_list=void 0},bookingTag:function(){t.book_tag=void 0},priceTags:function(){t.pricing.price_tag_list=void 0},taxDesc:function(){t.pricing.tax_desc=""},rewardDesc:function(){t.pricing.reward_desc=""},originalPriceDesc:function(){t.pricing.original_price_desc=""},checkInDesc:function(){t.pricing.check_in_desc=""},stockDesc:function(){t.stock_tag=void 0},discountType:function(){t.pricing.discount_type=void 0},campaignTag:function(){t.campaign_tag=void 0}});if(i.campaignTag(),"long"!==this.type&&i.rewardDesc(),"small"===this.type)return i.imageList(),i.reviewNumDesc(),i.stayPlusList(),i.location(),i.featureTags(),i.promotionTags(),i.bookingTag(),i.priceTags(),i.taxDesc(),i.nameEn(),i.checkInDesc(),i.stockDesc(),i.discountType(),e;var n=["mapNearby","mapList"].includes(this.scene);return"normal"===this.type&&(i.promotionTags(),i.stayPlusList(),n||i.bookingTag(),i.checkInDesc(),i.checkInDesc(),i.stockDesc(),i.discountType(),n&&(i.nameEn(),i.featureTags(),i.priceTags(),i.originalPriceDesc(),"mapNearby"===this.scene&&i.bookingTag(),"mapList"===this.scene&&i.location())),e}},{key:"isAllInfoCard",get:function(){return["listHorizontal"].includes(this.scene)||"long"===this.type}},{key:"_t",get:function(){return this.t||(this===null||void 0===this?void 0:this.$t)||"undefined"!=typeof $klook&&(null==$klook?void 0:$klook.$t)||null}},{key:"_inhouse",get:function(){return(this===null||void 0===this?void 0:this.$inhouse)||"undefined"!=typeof $klook&&(null==$klook?void 0:$klook.$inhouse)||null}},{key:"imageList",get:function(){return this.formatCardInfo.hotel_info.image_list}},{key:"pricing",get:function(){return this.formatCardInfo.pricing}},{key:"renderHighlightTag",value:function(t,e){var i=this.$createElement;return t&&i("div",{class:"hotel-highlight-tag ".concat(e)},[i("span",[" ",t," "])])}},{key:"getCardHref",value:function(){return iW()?this.cleanHref:this.href}},{key:"onClick",value:function(t){return!this.$listeners.click&&this.href&&this.formatTarget?iV(this.getCardHref(),this.formatTarget):this.$emit("click",t),t.preventDefault(),!1}},{key:"triggerClick",value:function(){var t=this;setTimeout(function(){t.$el.click()},200)}},{key:"mounted",value:function(){setTimeout(this.initEvent,500)}},{key:"beforeMount",value:function(){this._axios=this.$attrs.axios||(null==window?void 0:window.$axios)}},{key:"beforeDestroy",value:function(){"function"==typeof this._destroySwiper&&this._destroySwiper()}},{key:"initEvent",value:function(){var t=this;if(!!this.$el&&!!this.$el.querySelector){var e=this.$el.querySelector(".header-img-container"),i=this.$el.querySelector(".header-img-wrapper");e&&i&&(this._destroySwiper=iN({containerEl:e,wrapperEl:i,leftArrowEl:this.$el.querySelector(".header-left-arrow"),rightArrowEl:this.$el.querySelector(".header-right-arrow"),onChange:function(e){return t.imageIndex=e-1},platform:this.platform||"mobile"})),iq(this.$el,this.isMobile,this.type,this.scene)}}}]),r}(w.Vue);iX([(0,w.Prop)({type:Object,default:function(){return{}}})],i4.prototype,"cardInfo",void 0),iX([(0,w.Prop)({type:[Number,String],default:""})],i4.prototype,"width",void 0),iX([(0,w.Prop)({type:[Number,String],default:""})],i4.prototype,"height",void 0),iX([(0,w.Prop)({type:String,default:"normal"})],i4.prototype,"type",void 0),iX([(0,w.Prop)({type:String,default:"desktop"})],i4.prototype,"platform",void 0),iX([(0,w.Prop)({type:String,default:""})],i4.prototype,"layout",void 0),iX([(0,w.Prop)({type:String,default:""})],i4.prototype,"href",void 0),iX([(0,w.Prop)({type:String,default:""})],i4.prototype,"target",void 0),iX([(0,w.Prop)({type:Boolean,default:!1})],i4.prototype,"noLazy",void 0),iX([(0,w.Prop)({type:String,default:""})],i4.prototype,"scene",void 0),iX([(0,w.Prop)({type:Boolean,default:!1})],i4.prototype,"showRightIcon",void 0),iX([(0,w.Prop)({type:Boolean,default:!1})],i4.prototype,"showFavorite",void 0),iX([(0,w.Prop)({type:Boolean,default:!1})],i4.prototype,"showMap",void 0),iX([(0,w.Prop)({type:String,default:""})],i4.prototype,"favoriteSpm",void 0),iX([(0,w.Prop)({type:Function,default:null})],i4.prototype,"t",void 0),iX([(0,w.Provide)("_t")],i4.prototype,"_t",null);var i5=i4=iX([(0,w.Component)({components:{CardTag:iO}})],i4),i9=function(t,e,i,n,r,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var u,d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){var p=d.render;d.render=function(t,e){return u.call(e),p(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}}return i};let i3=i9({render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.26786 2.20748C5.96823 1.92148 5.49349 1.93252 5.20748 2.23214C4.94748 2.50453 4.93297 2.92164 5.15759 3.21011L5.23214 3.29252L10.165 8L5.23214 12.7075C4.95976 12.9675 4.92587 13.3835 5.13684 13.6821L5.20748 13.7679C5.46749 14.0402 5.88348 14.0741 6.18207 13.8632L6.26786 13.7925L11.7679 8.54252C12.0492 8.27392 12.0748 7.84114 11.8446 7.54269L11.7679 7.45748L6.26786 2.20748Z",fill:"currentColor"}})])},staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0);var i6=i$(function(t){var e=iM.default;function i(){t.exports=i=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,i){return t[e]=i}}function p(t,e,i,n){var r=Object.create((e&&e.prototype instanceof v?e:v).prototype);return a(r,"_invoke",{value:function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return $()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=function t(e,i){var n=i.method,r=e.iterator[n];if(void 0===r)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=void 0,t(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,h;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,h):a:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,h)}(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=f(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,new O(n||[]))}),r}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var h={};function v(){}function y(){}function m(){}var g={};d(g,l,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(P([])));b&&b!==r&&o.call(b,l)&&(g=b);var x=m.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach(function(e){d(t,e,function(t){return this._invoke(e,t)})})}function w(t,i){var n;a(this,"_invoke",{value:function(r,a){function s(){return new i(function(n,s){!function n(r,a,s,l){var c=f(t[r],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==e(d)&&o.call(d,"__await")?i.resolve(d.__await).then(function(t){n("next",t,s,l)},function(t){n("throw",t,s,l)}):i.resolve(d).then(function(t){u.value=t,s(u)},function(t){return n("throw",t,s,l)})}l(c.arg)}(r,a,n,s)})}return n=n?n.then(s,s):s()}})}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:$}}function $(){return{value:void 0,done:!0}}return y.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:y,configurable:!0}),y.displayName=d(m,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,d(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},n.awrap=function(t){return{__await:t}},k(w.prototype),d(w.prototype,c,function(){return this}),n.AsyncIterator=w,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new w(p(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(x),d(x,u,"Generator"),d(x,l,function(){return this}),d(x,"toString",function(){return"[object Generator]"}),n.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},n}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports});iP(i6);var i8=i6();try{regeneratorRuntime=i8}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i8:Function("r","regeneratorRuntime = r")(i8)}var i7=function(t){iZ(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,i=iK(e);return t=n?Reflect.construct(i,arguments,iK(this).constructor):i.apply(this,arguments),iY(this,t)});function o(){var t;return iR(this,o),t=r.apply(this,arguments),t.currentFavorite=t.isFavorite,t.loading=!1,t}return iA(o,[{key:"attrs",get:function(){return this.currentFavorite?{fill:"#FF5B00"}:{fill:"black","fill-opacity":"0.38"}}},{key:"action",value:function(t){var e,n,r,o;return iJ(this,void 0,void 0,i8.mark(function a(){var s,l,c=this;return i8.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),t.stopPropagation(),a.next=4,function(t,e,n){var r,o,a;return iJ(this,void 0,void 0,i8.mark(function s(){var l,c,u,d,p,f,h,v,y,m,g;return i8.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(null===(r=t.$store)||void 0===r?void 0:r.state){s.next=2;break}return s.abrupt("return",!1);case 2:if(c=(l=null===(o=t.$store)||void 0===o?void 0:o.state).auth.isLoggedIn,u=l.klook,c){s.next=30;break}if(s.prev=4,d=u.platform,p=u.platformMp,f=u.isOpenHarmony,h=u.language,v=u.currency,y=u.utilConfig.whiteLabelUtilConfig,!(p||f)){s.next=9;break}throw n=!0,Error("unable login");case 9:if(!y){s.next=11;break}return s.abrupt("return",y.wlLogin({redirectUrl:window.location.href}));case 11:return s.next=13,Promise.all([i.e("45926"),i.e("22875"),i.e("68718")]).then(i.bind(i,92593));case 13:return m=s.sent.loginWithSDK,s.next=17,new Promise(function(e,i){var n;m({aid:null===(n=t.$cookies)||void 0===n?void 0:n.get("aid"),isMP:!1,isKlookApp:!1,platform:d,language:h,currency:v,bizName:"HOTEL",purpose:"Booking",market:u.market,cancel:i,success:e}).then(function(t){if(!t)return i(Error("no support login with SDK"))})});case 17:if(!(!(g="function"==typeof e)&&e)){s.next=21;break}return setTimeout(t.$router.go,100),s.abrupt("return",!1);case 21:return s.next=23,null===(a=t.$store)||void 0===a?void 0:a.dispatch("auth/getProfile");case 23:g&&e(),s.next=30;break;case 26:return s.prev=26,s.t0=s.catch(4),n&&("function"==typeof n?n():window.location.href=t.$href("/signin")),s.abrupt("return",!1);case 30:return s.abrupt("return",!0);case 31:case"end":return s.stop()}},s,null,[[4,26]])}))}(this,!0);case 4:if(a.sent){a.next=6;break}return a.abrupt("return");case 6:if(!this.loading){a.next=8;break}return a.abrupt("return");case 8:this.loading=!0,s=null===(n=null===(e=this.cardInfo)||void 0===e?void 0:e.hotel_info)||void 0===n?void 0:n.hotel_id,l=(null===(r=this.cardInfo)||void 0===r?void 0:r.deep_link)||"";try{l=new URL(l,location.origin).toString()}catch(t){}null===(o=this.$parent._axios)||void 0===o||o.$post(this.currentFavorite?"/v2/platformbffsrv/wishlist/favorites/joint/remove":"/v2/platformbffsrv/wishlist/favorites/joint/put",{object_id:"11".concat(Array.from({length:8-s.toString().length},function(){return 0}).join("")).concat(s),object_type:"act-102",deeplink:l}).then(function(t){var e="";t.success?c.currentFavorite=!c.currentFavorite:e=(null==t?void 0:t.error.message)||"",c.$emit("saved",{hotel_id:s,status:c.currentFavorite,message:e})}).finally(function(){c.loading=!1});case 13:case"end":return a.stop()}},a,this)}))}}]),o}(w.Vue);iX([(0,w.Prop)({type:Boolean,default:!1})],i7.prototype,"isFavorite",void 0),iX([(0,w.Prop)({type:Object,default:function(){return{}}})],i7.prototype,"cardInfo",void 0);var nt=i7=iX([(0,w.Component)({components:{}})],i7);let ne=i9({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"favorite-wrap"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},on:{click:this.action}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 8.83152C1.01005 5.32375 3.72586 2.40002 7.1749 2.40002C9.14088 2.40002 10.876 3.35709 12 4.82508C13.124 3.35709 14.8591 2.40002 16.8251 2.40002C20.2806 2.40002 23 5.3346 23 8.85119C23 8.87112 22.9989 8.93926 22.998 8.99535L22.9971 9.05216C22.9968 9.07005 22.9966 9.08644 22.9964 9.1C22.9962 9.1109 22.9961 9.11908 22.996 9.1244C22.996 9.12518 22.9961 9.12596 22.9961 9.12675C22.9961 12.0246 21.6774 14.5235 19.7977 16.6271C17.9223 18.7259 15.4432 20.4845 12.9968 21.9294C12.3778 22.295 11.6073 22.2898 10.9934 21.916C8.56088 20.4349 6.09711 18.6407 4.22674 16.5103C2.35263 14.3756 1.03161 11.8525 1.00056 8.93868C1.00009 8.90205 1 8.86662 1 8.83401L1 8.83152ZM22.9961 9.12675C22.996 9.12854 22.996 9.12801 22.9961 9.12675C22.9961 9.12674 22.9961 9.12699 22.9961 9.12675ZM2.75124 8.83529C2.75125 8.86487 2.75134 8.89168 2.75167 8.91731L2.75169 8.91935C2.77669 11.2873 3.8451 13.4259 5.54512 15.3623C7.24907 17.3032 9.54444 18.9896 11.9069 20.428C11.9674 20.4648 12.0427 20.4653 12.1035 20.4293C14.4791 19.0262 16.7852 17.375 18.4894 15.4677C20.1878 13.567 21.243 11.4655 21.2448 9.13288C21.2448 9.12702 21.2448 9.12235 21.2448 9.12074C21.2448 9.11557 21.2449 9.11025 21.2449 9.10635C21.245 9.09784 21.2451 9.0867 21.2453 9.07461C21.2457 9.05011 21.2462 9.01746 21.2467 8.98479C21.2472 8.95178 21.2478 8.9186 21.2482 8.89204C21.2486 8.86091 21.2488 8.84927 21.2488 8.85119C21.2488 6.20524 19.223 4.14409 16.8251 4.14409C15.2055 4.14409 13.7664 5.07431 12.9917 6.5007C12.5693 7.27848 11.4307 7.27848 11.0083 6.5007C10.2336 5.07431 8.79453 4.14409 7.1749 4.14409C4.78177 4.14409 2.75942 6.1969 2.75124 8.83529Z",fill:"white"}}),this._v(" "),e("path",this._b({attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.596 20.4029C12.2885 20.582 11.9083 20.5794 11.6032 20.3962C7.09725 17.6904 2.65247 13.9419 2.60008 9.0408C2.59977 9.01696 2.59961 8.99308 2.59961 8.96916L2.59961 8.96266L2.59961 8.95324C2.60787 6.10574 4.83097 3.80005 7.57208 3.80005C9.58395 3.80005 11.3168 5.04212 12.0996 6.82885C12.8825 5.04212 14.6153 3.80005 16.6271 3.80005C19.3734 3.80005 21.5996 6.11434 21.5996 8.96916C21.5996 9.05476 21.5976 9.13988 21.5937 9.22446H21.5959C21.5959 14.0799 17.1275 17.7634 12.596 20.4029Z"}},"path",this.attrs,!1))])])},staticRenderFns:[]},void 0,nt,void 0,!1,void 0,!1,void 0,void 0,void 0);var ni=function(t){iZ(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=iK(e);return t=i?Reflect.construct(n,arguments,iK(this).constructor):n.apply(this,arguments),iY(this,t)});function r(){var t;return iR(this,r),t=n.apply(this,arguments),t.throttleResize=tW(function(){t.onResize()},200),t.fontSize=14,t.showText=t.text,t.showEllipsis=!1,t.firstLoad=!0,t}return iA(r,[{key:"className",get:function(){return{"hotel-ellipsis":!0,"has-ellipsis":this.showEllipsis,hasSuffix:this.hasSuffix}}},{key:"maxHeight",get:function(){return this.row?this.fontSize*(this.lineHeight||1.5)*this.row:0}},{key:"hasSuffix",get:function(){return this.suffix||this.$slots.suffix}},{key:"style",get:function(){if(!!this.row)return this.hasSuffix?{maxHeight:this.maxHeight?"".concat(this.maxHeight,"px"):void 0,overflow:"hidden",wordBreak:"break-word",lineHeight:1.5}:{overflow:"hidden","text-overflow":"ellipsis","white-space":"wrap",display:"-webkit-box","-webkit-line-clamp":this.row,"-webkit-box-orient":"vertical"}}},{key:"init",value:function(){var t=this.fontSize;if(this.setFontSize(),this.showEllipsis=!1,this.firstLoad=!0,this.showText===this.text&&t===this.fontSize)return this.sliceText();this.showText=this.text}},{key:"mounted",value:function(){this.init(),this.resize&&window.addEventListener("resize",this.throttleResize)}},{key:"beforeDestroy",value:function(){this.resize&&window.removeEventListener("resize",this.throttleResize)}},{key:"setFontSize",value:function(){var t;this.fontSize=this.initFontSize||parseInt((null===(t=window.getComputedStyle)||void 0===t?void 0:t.call(window,this.$el).fontSize)||"14")||0}},{key:"onResize",value:function(){this.init()}},{key:"sliceText",value:function(){var t=this;if(!!this.row&&!!this.hasSuffix)this.$nextTick(function(){var e=t.$el.scrollHeight;if(e<=t.maxHeight&&t.firstLoad){t.firstLoad=!1,t.showEllipsis=!1;return}t.firstLoad=!1,t.showEllipsis=!0,e>2*t.maxHeight?t.showText=t.showText.slice(0,-Math.floor(t.showText.length/2)):e>t.maxHeight&&(t.showText=t.showText.slice(0,-1))})}},{key:"initChange",value:function(){this.init()}},{key:"showTextChange",value:function(){this.sliceText()}}]),r}(w.Vue);iX([(0,w.Prop)({type:String,default:""})],ni.prototype,"text",void 0),iX([(0,w.Prop)({type:Number,default:0})],ni.prototype,"row",void 0),iX([(0,w.Prop)({type:String,default:"..."})],ni.prototype,"ellipseStr",void 0),iX([(0,w.Prop)({type:String,default:""})],ni.prototype,"suffix",void 0),iX([(0,w.Prop)({type:Boolean,default:!0})],ni.prototype,"resize",void 0),iX([(0,w.Prop)({type:Number,default:null})],ni.prototype,"initFontSize",void 0),iX([(0,w.Prop)({type:Number,default:null})],ni.prototype,"lineHeight",void 0),iX([(0,w.Watch)("text"),(0,w.Watch)("suffix")],ni.prototype,"initChange",null),iX([(0,w.Watch)("showText"),(0,w.Watch)("fontSize")],ni.prototype,"showTextChange",null);var nn=ni=iX([(0,w.Component)({components:{}})],ni);let nr=i9({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.className,style:this.style},[this._t("prefix"),this.showText?this._t("content",[e("span",{staticClass:"text"},[this._v(this._s(this.showText))])],{showText:this.showText}):this._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:this.showEllipsis,expression:"showEllipsis"}],staticClass:"ellipsis"},[this._v(this._s(this.ellipseStr))]),this._t("suffix",[e("span",{staticClass:"suffix"},[this._v(this._s(this.suffix))])])],2)},staticRenderFns:[]},void 0,nn,"data-v-feb655a6",!1,void 0,!1,void 0,void 0,void 0);var no=function(t){iZ(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=iK(e);return t=i?Reflect.construct(n,arguments,iK(this).constructor):n.apply(this,arguments),iY(this,t)});function r(){return iR(this,r),n.apply(this,arguments)}return iA(r,[{key:"isGuestCheckout",get:function(){var t;return null===(t=this.$store)||void 0===t?void 0:t.getters.isGuestCheckout}},{key:"render",value:function(){var t=arguments[0],e=this.type,i=this.platform,n=this.scene,r=this.cardLayout,o=this.pricing.has_stock;return t("div",{class:"hotel-card hotel-card-v3 hotel-card-".concat(e," hotel-card-").concat(i," hotel-card-").concat(n," hotel-card-").concat(r," ").concat(o?"":"card-sold-out"," ").concat(this.isAllInfoCard&&this.cardInfo.rate_short_code?"hotel-card-shortcode":""),on:{click:this.onClick},style:this.cardStyle,attrs:{target:this.formatTarget}},[this.renderHotelHeader(),t("div",{class:"hotel-card-main"},[t("div",{class:"hotel-body-section"},[this.renderHotelInfo()]),t("div",{class:"hotel-bottom-section"},[this.$scopedSlots.bottomLeft?this.$scopedSlots.bottomLeft():this.renderHotelTag(),"  ",this.renderPlaceHolder(),this.renderPriceInfo()])]),this.isAllInfoCard&&!this.isMobile&&this.renderRateShortCount()])}},{key:"renderHotelHeader",value:function(){return(0,this.$createElement)("div",{class:"hotel-card-header"},[this.renderStayPlusTag(),this.renderImageHeader(),this.renderAdd2Favor(),this.renderImageCount(),this.isAllInfoCard&&this.isMobile&&this.renderRateShortCount()])}},{key:"renderStayPlusTag",value:function(){var t=this.$createElement,e=this.formatCardInfo.stay_plus_list;return e&&e.length&&e[0].icon&&t("div",{class:"hotel-stayplus-tag"},[t("img",{attrs:{src:e[0].icon}})])||null}},{key:"renderAdd2Favor",value:function(){var t=this,e=this.$createElement;return this.showFavorite&&!this.isGuestCheckout&&e("favorite-svg",[{class:"hotel-add2favor",attrs:{isFavorite:this.formatCardInfo.wish,cardInfo:this.formatCardInfo},on:{saved:function(e){return t.$emit("saved",e,t.$el)}}},{directives:[{name:"galileo-click-tracker",value:{spm:"HotelsWishLIST"}}]},{attrs:{"data-spm-virtual-item":"__virtual?trg=manual","data-spm-module":this.favoriteSpm}}].reduce(function(t,e){for(var i in e)if(t[i]){if(-1!==tO.indexOf(i))t[i]=tC({},t[i],e[i]);else if(-1!==tP.indexOf(i)){var n=t[i]instanceof Array?t[i]:[t[i]],r=e[i]instanceof Array?e[i]:[e[i]];t[i]=[].concat(n,r)}else if(-1!==t$.indexOf(i))for(var o in e[i])if(t[i][o]){var a=t[i][o]instanceof Array?t[i][o]:[t[i][o]],s=e[i][o]instanceof Array?e[i][o]:[e[i][o]];t[i][o]=[].concat(a,s)}else t[i][o]=e[i][o];else if("hook"===i)for(var l in e[i])t[i][l]=t[i][l]?tL(t[i][l],e[i][l]):e[i][l];else t[i]=e[i]}else t[i]=e[i];return t},{}))}},{key:"renderImageSingle",value:function(){return(0,this.$createElement)("div",{class:"hotel-image-single"},[this.renderImage(this.imageList[0],0,this.noLazy,"horizontal"===this.cardLayout?750:350)])}},{key:"renderImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:375;return(0,this.$createElement)("k-image",{attrs:{scene:"HotelCard",src:t,config:{width:n},priority:i},key:e})}},{key:"renderRateShortCount",value:function(){var t=this.$createElement,e=this.cardInfo.rate_short_code;return e&&t("div",{class:"hotel-rate-short-code"},[t("span",[e])])}},{key:"renderImageHeader",value:function(){return"horizontal"===this.cardLayout?this.renderImageSingle():this.renderImageWrap()}},{key:"renderImageWrap",value:function(){var t=this,e=this.$createElement,i=this.imageList||[];return i.length>=2&&(i=[i[i.length-1]].concat(i2(i),[i[0]])),e("div",{class:"hotel-image-swipe"},[e("div",{class:"header-img-container"},[e("div",{class:"header-img-wrapper",style:{transform:"translate3d(".concat(i.length>1?"-100%":"0px",", 0px, 0px)")}},[i.map(function(e,n){return t.renderImage(e,n,t.noLazy&&n===(i.length>1?1:0))})])]),!this.isMobile&&i.length>1&&e("div",[e("div",{class:"card-flex header-left-arrow"},[e("arrow-svg")]),e("div",{class:"card-flex header-right-arrow"},[e("arrow-svg")])])])}},{key:"renderImageCount",value:function(){var t=this.$createElement;return this.imageList.length>1&&t("div",{class:"image-pagination"},[this.imageIndex+1,"/",this.imageList.length])}},{key:"renderHotelInfo",value:function(){var t=this.$createElement,e=this.formatCardInfo.campaign_tag;return t("div",{class:"hotel-info"},[e&&t("card-tag",{attrs:{tag:e}}),this.renderHotelName(),this.renderReview(),this.renderLocation()])}},{key:"renderHotelName",value:function(){var t=this,e=this.$createElement,i=this.type;this.isMobile,this.scene;var n=this.formatCardInfo.hotel_info,r=n.name,o=n.local_name,a=n.desc,s=this.isAllInfoCard&&o;return e("div",{class:"hotel-info-name"},[e("div",{class:"hotel-name-section"},[e("ellipsis",{class:{"hotel-name":!0,"has-english":s},attrs:{text:s?o:r,lineHeight:1.5,initFontSize:"long"===this.type?18:14,row:this.isAllInfoCard?0:2},scopedSlots:{content:function(i){var n=i.showText;return s?e("span",{class:"text"},[n]):e("h3",{class:"text"},[e("a",{attrs:{href:t.cleanHref},on:{contextmenu:t.onHrefRightClick,click:function(t){return t.preventDefault()}}},[n])])}}},[s?e("h3",{slot:"prefix",class:"prefix"},[e("a",{attrs:{href:this.cleanHref},on:{contextmenu:this.onHrefRightClick,click:function(t){return t.preventDefault()}}},[r])]):"",e("template",{slot:"suffix"},[this.renderHotelNameTagWithStar()])]),this.showRightIcon&&e("div",{class:"hotel-right-icon",on:{click:function(){return t.$emit("right-icon-click")}}},[e("arrow-svg")])]),"small"===i&&a&&e("div",{class:"hotel-smallcard-name-tag"},[e("div",[a])]),!s&&o&&e("div",{class:"hotel-name-english"},[o])])}},{key:"renderHotelNameTagWithStar",value:function(){var t=this,e=this.$createElement,i=this.formatCardInfo.hotel_info.desc;this.formatCardInfo.hotel_info.star;var n="small"===this.type,r=this.formatCardInfo.head_tag_list,o=!!this.formatCardInfo.ad;return e("span",{class:"hotel-name-tag-star"},[this.renderStar(),r&&r.length?e("span",{class:"hotel-name-tags"},[" ",r.map(function(i){return e("card-tag",{attrs:{tag:i,platform:t.platform}})})," "]):null,i&&!n&&e("span",{class:"hotel-name-desc"},[e("span",[i])]),o&&this.renderADTag()])}},{key:"renderStar",value:function(){var t=this.$createElement,e=this.formatCardInfo.hotel_info.star;return e>=2&&t("span",{class:"hotel-stars"},[Array.from({length:e},function(e,i){return t("img",{key:i,attrs:{src:"https://res.klook.com/image/upload/v1678947231/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/System%20Icon/Hotel/%E9%85%92%E5%BA%97%E6%98%9F%E7%BA%A7/icon_operational_star_fill_l.png",alt:""}})})])}},{key:"renderADTag",value:function(){var t=this.$createElement,e=this.formatCardInfo.ad;return t("klk-poptip",{attrs:{content:e.content,placement:"bottom",maxWidth:430,offset:15,dark:!0,flip:!0,flipOptions:{fallbackPlacements:["top"],rootBoundary:"viewport",padding:80}}},[t("span",{class:"hotel-ad-tag",style:{color:e.title_color,backgroundColor:e.bg_color}},[e.title])])}},{key:"renderReview",value:function(){var t=this.$createElement,e=this.formatCardInfo.hotel_info,i=e.avg_score,n=e.max_score,r=e.score_desc,o=e.review_num_desc,a=+i;return a&&t("div",{class:"hotel-review"},[a&&t("div",{class:"hotel-review-score"},[t("span",[i]),t("span",{class:"slash"},["/"]),t("span",[n])]),r&&t("div",{class:"hotel-review-desc"},[r]),o&&t("div",{class:"hotel-review-count"},[o])])||null}},{key:"renderLocation",value:function(){var t,e=this.$createElement,i=this.formatCardInfo.hotel_info.location,n=this.formatCardInfo.hotel_info;n.hotel_id,n.name,n.image_list;var r=n.latitude,o=n.longitude;return i&&e("ellipsis",{class:"hotel-location",attrs:{text:i.desc,row:2}},[i.icon&&e("img",{slot:"prefix",attrs:{src:i.icon}}),this.showMap&&r&&o&&e("span",{slot:"suffix",class:"view-map",on:{click:this.viewMap}},[null===(t=this._t)||void 0===t?void 0:t.call(this,"29523")])])}},{key:"viewMap",value:function(t){var e=this.formatCardInfo.hotel_info,i=e.hotel_id,n=e.name,r=e.image_list,o=e.latitude,a=e.longitude;this.$emit("view-map",{hotel_id:i,name:n,image_list:r,latitude:o,longitude:a}),t.preventDefault(),t.stopPropagation()}},{key:"renderHotelTag",value:function(){var t=this.$createElement,e=this.formatCardInfo,i=e.feature_tag_list,n=e.book_tag,r=e.promo_tag_list,o=e.stock_tag,a=i&&i.length>0,s=r&&r.length>0,l="long"===this.type?"medium":"small";return(a||n||o||s)&&t("div",{class:"hotel-tag-section"},[a&&t("div",{class:"hotel-tag-feature hotel-tag-wrap"},[i.map(function(e,i){return t("card-tag",{key:i,attrs:{tag:e}})})])||null,o&&t("div",{class:"hotel-tag-price-tip hotel-tag-wrap"},[t("card-tag",{attrs:{tag:o,size:l}})]),n&&t("div",{class:"hotel-tag-booking hotel-tag-wrap"},[t("card-tag",{attrs:{tag:n,size:l}})]),s&&t("div",{class:"hotel-tag-promo hotel-tag-wrap"},[r.map(function(e,i){return t("card-tag",{key:i,attrs:{tag:e,size:l}})})])])}},{key:"renderPriceInfo",value:function(){var t,e,i,n=this.$createElement,r=this.pricing,o=r.format_price,a=r.currency_symbol,s=r.original_price_desc,l=r.tax_desc,c=r.check_in_desc,u=r.discount_type,d=r.has_stock,p=r.reward_desc,f=r.post_format_tax_price,h=r.pay_later_desc,v="long"===this.type;return d?n("div",{class:"hotel-price-info"},[this.renderHotelPriceTag(),n("div",{class:"price-info"},[n("div",{class:"price-info-value"},[n("span",{class:"price-origin"},[s]),n("span",{class:"price-sale"},[n("i",[a]),n("b",{class:"price-amount"},[o," "])])]),l&&n("div",{class:"tax-desc"},[n("span",[l]),f&&n("span",{class:"tax-desc-price"},["".concat(a).concat(f)])])]),p&&n("div",{class:"reward-desc"},[p]),h&&n("div",{class:"pay-later-desc"},[h]),v&&n("div",{class:"price-button"},[n("klk-button",{attrs:{size:"large"}},[null===(t=this._t)||void 0===t?void 0:t.call(this,"hotel.view_detail")," "])]),c&&n("div",{class:"date-tip"},[c]),"login"===u&&n("div",{class:"login-tip"},[null===(e=this._t)||void 0===e?void 0:e.call(this,"19280")])]):n("div",{class:"hotel-price-info-sold-out"},[null===(i=this._t)||void 0===i?void 0:i.call(this,"sold_out")])}},{key:"renderHotelPriceTag",value:function(){var t=this.$createElement,e=this.formatCardInfo.hotel_info.hotel_id,i=this.pricing.price_tag_list,n=i?i.length:0;return i&&n&&t("div",{class:["price-tag"]},[i.map(function(i,r){var o="reward"===i.type||"Explorer"===i.id,a=function(){return t("card-tag",{key:r,attrs:{tag:i,type:"common",oid:e}})};return n>=3&&o?t("div",{class:"member-price-tag"},[" ",a()]):a()})])||null}},{key:"renderPlaceHolder",value:function(){return(0,this.$createElement)("div",{class:"hotel-placeholder"})}},{key:"onHrefRightClick",value:function(t){console.log("Context menu opened!",event),this.isRightClick=!0}}]),r}(i5),na=no=iX([(0,w.Component)({components:{KImage:tz,ArrowSvg:i3,FavoriteSvg:ne,Ellipsis:nr}})],no),ns=function(t){iZ(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=iK(e);return t=i?Reflect.construct(n,arguments,iK(this).constructor):n.apply(this,arguments),iY(this,t)});function r(){return iR(this,r),n.apply(this,arguments)}return iA(r)}(na),nl=ns=iX([(0,w.Component)({})],ns);let nc=i9({},void 0,nl,"data-v-c106cd74",void 0,void 0,!1,void 0,void 0,void 0);var nu=function(t){iZ(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=iK(e);return t=i?Reflect.construct(n,arguments,iK(this).constructor):n.apply(this,arguments),iY(this,t)});function r(){return iR(this,r),n.apply(this,arguments)}return iA(r,[{key:"cardLayout",get:function(){return this.layout||(["listHorizontal","mapNearby","mapList"].includes(this.scene)||"long"===this.type?"horizontal":"vertical")}},{key:"style",get:function(){return{width:+this.width?"".concat(parseFloat(this.width),"px"):void 0,height:+this.height?"".concat(parseFloat(this.height),"px"):void 0}}},{key:"render",value:function(){var t=arguments[0];return t("klk-skeleton",{attrs:{animate:!0,mode:this.skeletonMode},class:"card-skeleton card-skeleton-".concat(this.cardLayout," card-skeleton-").concat(this.type," card-skeleton-").concat(this.scene),style:this.style},[t("klk-skeleton-block",{class:"header"}),t("div",{class:"content"},[t("klk-skeleton-block"),t("klk-skeleton-block"),"horizontal"===this.cardLayout&&t("klk-skeleton-block"),"long"===this.type&&t("klk-skeleton-block")])])}}]),r}(w.Vue);iX([(0,w.Prop)({type:[Number,String],default:""})],nu.prototype,"width",void 0),iX([(0,w.Prop)({type:[Number,String],default:""})],nu.prototype,"height",void 0),iX([(0,w.Prop)({type:String,default:"normal"})],nu.prototype,"type",void 0),iX([(0,w.Prop)({type:String,default:"desktop"})],nu.prototype,"platform",void 0),iX([(0,w.Prop)({type:String,default:""})],nu.prototype,"layout",void 0),iX([(0,w.Prop)({type:String,default:""})],nu.prototype,"scene",void 0),iX([(0,w.Prop)({type:String,default:"light"})],nu.prototype,"skeletonMode",void 0);var nd=nu=iX([(0,w.Component)({components:{}})],nu),np=function(t){iZ(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=iK(e);return t=i?Reflect.construct(n,arguments,iK(this).constructor):n.apply(this,arguments),iY(this,t)});function r(){return iR(this,r),n.apply(this,arguments)}return iA(r)}(nd),nf=np=iX([(0,w.Component)({})],np);let nh=i9({},void 0,nf,"data-v-b733c68e",void 0,void 0,!1,void 0,void 0,void 0);var nv=S.default.extend({name:"HotelCard",props:["platform","isSkeleton","type","width","height","cardInfo","href","target","soldOutText","noLazy","scene","layout","showRightIcon","showFavorite","showMap","favoriteSpm","skeletonMode","isAb","t"],components:{InnerCardV3:nc,CardSkeletonV2:nh},render:function(t){var e,i=this,n=this.$props;if(n.isAb,this.isSkeleton)return t("card-skeleton-v2",{props:n});var r={default:function(){return i.$slots.default},header:function(){return i.$slots.header},contentBottom:function(){return i.$slots.contentBottom}};return(this.$slots.bottomLeft||this.$slots["bottom-left"])&&(r.bottomLeft=function(){return i.$slots.bottomLeft||i.$slots["bottom-left"]}),(null===(e=this.cardInfo)||void 0===e?void 0:e.hotel_info)&&t("inner-card-v3",{props:n,scopedSlots:r,on:this.$listeners})}}),ny=function(t){B(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=V(e);return t=i?Reflect.construct(n,arguments,V(this).constructor):n.apply(this,arguments),H(this,t)});function r(){var t;return I(this,r),t=n.apply(this,arguments),t.debouncedHandleResize=$()(t.handleResize,200),t.screenPlatform="mobile",t}return F(r,[{key:"mounted",value:function(){this.handleResize(),window.addEventListener("resize",this.debouncedHandleResize)}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.debouncedHandleResize)}},{key:"handleResize",value:function(){var t=window.innerWidth,e="md";t<768?e="sm":t>=768&&t<992?e="md":t>=992&&t<1200?e="lg":t>=1200&&(e="xl"),"sm"===e&&this.setScreenPlatform("mobile"),("md"===e||"lg"===e)&&this.setScreenPlatform("tablet"),"xl"===e&&this.setScreenPlatform("desktop")}},{key:"setScreenPlatform",value:function(t){this.screenPlatform=t}}]),r}(w.Vue),nm=ny=z([w.Component],ny),ng=function(t){B(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=V(e);return t=i?Reflect.construct(n,arguments,V(this).constructor):n.apply(this,arguments),H(this,t)});function r(){return I(this,r),n.apply(this,arguments)}return F(r,[{key:"isMobile",get:function(){return"desktop"!==this.screenPlatform}},{key:"spm",get:function(){var t;return null===(t=this.ihtAttrs)||void 0===t?void 0:t.cardModule}},{key:"getCardProps",value:function(t,e,i){var n,r,o,a=this.isMobile?"_self":"_blank";return{href:t.deep_link,platform:this.isMobile?"mobile":"desktop",target:a,cardInfo:t,isAb:!!(null===(n=this.listResult)||void 0===n?void 0:n.is_new_card_style),"data-spm-module":"".concat(null===(r=this.ihtAttrs)||void 0===r?void 0:r.cardModule,"?oid=hotel_").concat(null===(o=t.hotel_info)||void 0===o?void 0:o.hotel_id,"&idx=").concat(e,"&len=").concat(i)}}}]),r}(nm);z([(0,w.Prop)({type:Object,default:null})],ng.prototype,"ihtAttrs",void 0),z([(0,w.Prop)({type:Array,default:null})],ng.prototype,"list",void 0),z([(0,w.Prop)({type:String,default:null})],ng.prototype,"title",void 0),z([(0,w.Prop)({type:Object,default:null})],ng.prototype,"listResult",void 0);var n_=ng=z([(0,w.Component)({components:{CardSwiper:tx,CardSwiperItem:tS,Card:nv}})],ng);let nb=function(t,e,i,n,r,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var u,d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){var p=d.render;d.render=function(t,e){return u.call(e),p(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}}return i}({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hotel-response-card-swiper"},[t.title?i("h2",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n    ")]):t._e(),t._v(" "),i("CardSwiper",{attrs:{"controller-offset":12}},t._l(t.list,function(e,n){return i("CardSwiperItem",{key:n,staticClass:"klk-col-md-3 klk-col-lg-3 klk-col-xl-4 klk-col-sm-1-5"},[i("card",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:t.spm,enable:!!t.spm},expression:"{spm: spm, enable: !!spm}"}],staticClass:"klk-card-swiper-item"},"card",t.getCardProps(e,n,t.list.length),!1))],1)}),1)],1)},staticRenderFns:[]},void 0,n_,"data-v-44046d9a",!1,void 0,!1,void 0,void 0,void 0)},77138:function(t,e,i){let n;i.d(e,{Z:()=>lU});var r,o,a,s,l,c,u,d,p,f,h,v,y,m,g,_,b,x,k,w,S,C,O,P,$,L,E,T,j,I,R,M,D,F,A,B,N,H,V,z,W,q,U,Z,G,Y,K,X=i("95334"),J=i("52513"),Q=(0,J.c)(function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(Q);var tt=(0,J.c)(function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return Q(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Q(t,e)}},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(tt);var te=i("27484"),ti=i.n(te),tn=(0,J.c)(function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(tn);var tr=(0,J.c)(function(t){t.exports=function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(tr);var to=(0,J.c)(function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(to);var ta=(0,J.c)(function(t){t.exports=function(t,e){return tn(t)||tr(t,e)||tt(t,e)||to()},t.exports.__esModule=!0,t.exports.default=t.exports}),ts=(0,J.u)(ta),tl=function(t,e){return t===e||t!=t&&e!=e},tc=function(t,e){for(var i=t.length;i--;)if(tl(t[i][0],e))return i;return -1},tu=Array.prototype.splice;function td(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}td.prototype.clear=function(){this.__data__=[],this.size=0},td.prototype.delete=function(t){var e=this.__data__,i=tc(e,t);return!(i<0)&&(i==e.length-1?e.pop():tu.call(e,i,1),--this.size,!0)},td.prototype.get=function(t){var e=this.__data__,i=tc(e,t);return i<0?void 0:e[i][1]},td.prototype.has=function(t){return tc(this.__data__,t)>-1},td.prototype.set=function(t,e){var i=this.__data__,n=tc(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};var tp="object"==typeof J.h&&J.h&&J.h.Object===Object&&J.h,tf="object"==typeof self&&self&&self.Object===Object&&self,th=tp||tf||Function("return this")(),tv=th.Symbol,ty=Object.prototype,tm=ty.hasOwnProperty,tg=ty.toString,t_=tv?tv.toStringTag:void 0,tb=function(t){var e=tm.call(t,t_),i=t[t_];try{t[t_]=void 0;var n=!0}catch(t){}var r=tg.call(t);return n&&(e?t[t_]=i:delete t[t_]),r},tx=Object.prototype.toString,tk=tv?tv.toStringTag:void 0,tw=function(t){var e;if(null==t)return void 0===t?"[object Undefined]":"[object Null]";return tk&&tk in Object(t)?tb(t):(e=t,tx.call(e))},tS=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},tC=function(t){if(!tS(t))return!1;var e=tw(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},tO=th["__core-js_shared__"];var tP=(r=/[^.]+$/.exec(tO&&tO.keys&&tO.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",t$=Function.prototype.toString,tL=function(t){if(null!=t){try{return t$.call(t)}catch(t){}try{return t+""}catch(t){}}return""},tE=/^\[object .+?Constructor\]$/,tT=Object.prototype,tj=Function.prototype.toString,tI=tT.hasOwnProperty,tR=RegExp("^"+tj.call(tI).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tM=function(t){var e;return!!tS(t)&&(e=t,!tP||!(tP in e))&&(tC(t)?tR:tE).test(tL(t))},tD=function(t,e){var i,n,r=(i=t,n=e,null==i?void 0:i[n]);return tM(r)?r:void 0},tF=tD(th,"Map"),tA=tD(Object,"create"),tB=Object.prototype.hasOwnProperty,tN=Object.prototype.hasOwnProperty;function tH(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}tH.prototype.clear=function(){this.__data__=tA?tA(null):{},this.size=0},tH.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},tH.prototype.get=function(t){var e=this.__data__;if(tA){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return tB.call(e,t)?e[t]:void 0},tH.prototype.has=function(t){var e=this.__data__;return tA?void 0!==e[t]:tN.call(e,t)},tH.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=tA&&void 0===e?"__lodash_hash_undefined__":e,this};var tV=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},tz=function(t,e){var i=t.__data__;return tV(e)?i["string"==typeof e?"string":"hash"]:i.map};function tW(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}tW.prototype.clear=function(){this.size=0,this.__data__={hash:new tH,map:new(tF||td),string:new tH}},tW.prototype.delete=function(t){var e=tz(this,t).delete(t);return this.size-=e?1:0,e},tW.prototype.get=function(t){return tz(this,t).get(t)},tW.prototype.has=function(t){return tz(this,t).has(t)},tW.prototype.set=function(t,e){var i=tz(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};function tq(t){var e=this.__data__=new td(t);this.size=e.size}tq.prototype.clear=function(){this.__data__=new td,this.size=0},tq.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},tq.prototype.get=function(t){return this.__data__.get(t)},tq.prototype.has=function(t){return this.__data__.has(t)},tq.prototype.set=function(t,e){var i=this.__data__;if(i instanceof td){var n=i.__data__;if(!tF||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new tW(n)}return i.set(t,e),this.size=i.size,this};function tU(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new tW;++e<i;)this.add(t[e])}tU.prototype.add=tU.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},tU.prototype.has=function(t){return this.__data__.has(t)};var tZ=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1},tG=function(t,e,i,n,r,o){var a=1&i,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,p=!0,f=2&i?new tU:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var h=t[d],v=e[d];if(n)var y=a?n(v,h,d,e,t,o):n(h,v,d,t,e,o);if(void 0!==y){if(y)continue;p=!1;break}if(f){if(!tZ(e,function(t,e){var a,s;if(a=f,s=e,!a.has(s)&&(h===t||r(h,t,i,n,o)))return f.push(e)})){p=!1;break}}else if(!(h===v||r(h,v,i,n,o))){p=!1;break}}return o.delete(t),o.delete(e),p},tY=th.Uint8Array,tK=function(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i},tX=function(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i},tJ=tv?tv.prototype:void 0,tQ=tJ?tJ.valueOf:void 0,t0=function(t,e,i,n,r,o,a){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!o(new tY(t),new tY(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return tl(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=tK;case"[object Set]":var l=1&n;if(s||(s=tX),t.size!=e.size&&!l)break;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var u=tG(s(t),s(e),n,r,o,a);return a.delete(t),u;case"[object Symbol]":if(tQ)return tQ.call(t)==tQ.call(e)}return!1},t1=function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t},t2=Array.isArray,t4=function(t,e,i){var n=e(t);return t2(t)?n:t1(n,i(t))},t5=function(t,e){for(var i=-1,n=null==t?0:t.length,r=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[r++]=a)}return o},t9=Object.prototype.propertyIsEnumerable,t3=Object.getOwnPropertySymbols,t6=t3?function(t){return null==t?[]:t5(t3(t=Object(t)),function(e){return t9.call(t,e)})}:function(){return[]},t8=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n},t7=function(t){return null!=t&&"object"==typeof t},et=function(t){return t7(t)&&"[object Arguments]"==tw(t)},ee=Object.prototype,ei=ee.hasOwnProperty,en=ee.propertyIsEnumerable,er=et(function(){return arguments}())?et:function(t){return t7(t)&&ei.call(t,"callee")&&!en.call(t,"callee")},eo=function(){return!1},ea=(0,J.c)(function(t,e){var i=e&&!e.nodeType&&e,n=i&&t&&!t.nodeType&&t,r=n&&n.exports===i?th.Buffer:void 0,o=r?r.isBuffer:void 0;t.exports=o||eo}),es=/^(?:0|[1-9]\d*)$/,el=function(t,e){var i=typeof t;return!!(e=null==e?0x1fffffffffffff:e)&&("number"==i||"symbol"!=i&&es.test(t))&&t>-1&&t%1==0&&t<e},ec=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=0x1fffffffffffff},eu={};eu["[object Float32Array]"]=eu["[object Float64Array]"]=eu["[object Int8Array]"]=eu["[object Int16Array]"]=eu["[object Int32Array]"]=eu["[object Uint8Array]"]=eu["[object Uint8ClampedArray]"]=eu["[object Uint16Array]"]=eu["[object Uint32Array]"]=!0,eu["[object Arguments]"]=eu["[object Array]"]=eu["[object ArrayBuffer]"]=eu["[object Boolean]"]=eu["[object DataView]"]=eu["[object Date]"]=eu["[object Error]"]=eu["[object Function]"]=eu["[object Map]"]=eu["[object Number]"]=eu["[object Object]"]=eu["[object RegExp]"]=eu["[object Set]"]=eu["[object String]"]=eu["[object WeakMap]"]=!1;var ed=(0,J.c)(function(t,e){var i=e&&!e.nodeType&&e,n=i&&t&&!t.nodeType&&t,r=n&&n.exports===i&&tp.process,o=function(){try{var t=n&&n.require&&n.require("util").types;if(t)return t;return r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=o}),ep=ed&&ed.isTypedArray;var ef=ep?(o=ep,function(t){return o(t)}):function(t){return t7(t)&&ec(t.length)&&!!eu[tw(t)]},eh=Object.prototype.hasOwnProperty,ev=function(t,e){var i=t2(t),n=!i&&er(t),r=!i&&!n&&ea(t),o=!i&&!n&&!r&&ef(t),a=i||n||r||o,s=a?t8(t.length,String):[],l=s.length;for(var c in t)(e||eh.call(t,c))&&!(a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||el(c,l)))&&s.push(c);return s},ey=Object.prototype,em=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ey)};var eg=(a=Object.keys,s=Object,function(t){return a(s(t))}),e_=Object.prototype.hasOwnProperty,eb=function(t){if(!em(t))return eg(t);var e=[];for(var i in Object(t))e_.call(t,i)&&"constructor"!=i&&e.push(i);return e},ex=function(t){var e;return null!=(e=t)&&ec(e.length)&&!tC(e)?ev(t):eb(t)},ek=function(t){return t4(t,ex,t6)},ew=Object.prototype.hasOwnProperty,eS=function(t,e,i,n,r,o){var a=1&i,s=ek(t),l=s.length;if(l!=ek(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:ew.call(e,u)))return!1}var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var f=!0;o.set(t,e),o.set(e,t);for(var h=a;++c<l;){var v=t[u=s[c]],y=e[u];if(n)var m=a?n(y,v,u,e,t,o):n(v,y,u,t,e,o);if(!(void 0===m?v===y||r(v,y,i,n,o):m)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o.delete(t),o.delete(e),f},eC=tD(th,"DataView"),eO=tD(th,"Promise"),eP=tD(th,"Set"),e$=tD(th,"WeakMap"),eL="[object Map]",eE="[object Promise]",eT="[object Set]",ej="[object WeakMap]",eI="[object DataView]",eR=tL(eC),eM=tL(tF),eD=tL(eO),eF=tL(eP),eA=tL(e$),eB=tw;(eC&&eB(new eC(new ArrayBuffer(1)))!=eI||tF&&eB(new tF)!=eL||eO&&eB(eO.resolve())!=eE||eP&&eB(new eP)!=eT||e$&&eB(new e$)!=ej)&&(eB=function(t){var e=tw(t),i="[object Object]"==e?t.constructor:void 0,n=i?tL(i):"";if(n)switch(n){case eR:return eI;case eM:return eL;case eD:return eE;case eF:return eT;case eA:return ej}return e});var eN=eB,eH="[object Arguments]",eV="[object Array]",ez="[object Object]",eW=Object.prototype.hasOwnProperty,eq=function(t,e,i,n,r,o){var a=t2(t),s=t2(e),l=a?eV:eN(t),c=s?eV:eN(e);l=l==eH?ez:l,c=c==eH?ez:c;var u=l==ez,d=c==ez,p=l==c;if(p&&ea(t)){if(!ea(e))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new tq),a||ef(t)?tG(t,e,i,n,r,o):t0(t,e,l,i,n,r,o);if(!(1&i)){var f=u&&eW.call(t,"__wrapped__"),h=d&&eW.call(e,"__wrapped__");if(f||h){var v=f?t.value():t,y=h?e.value():e;return o||(o=new tq),r(v,y,i,n,o)}}return!!p&&(o||(o=new tq),eS(t,e,i,n,r,o))};function eU(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var eZ={trigger:"click",placement:"bottom-start",arrow:!1,zIndex:99,showDelay:0,tabindex:-1,"max-width":1e3,"max-height":1e3,offset:[0,5]},eG=function(t,e){var i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=[t,e];if(2===n.length&&n.every(function(t){return"Date"===Object.prototype.toString.call(t).slice(8,-1)})){var r=ts(n.map(function(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}),2),o=r[0]-r[1];return i&&(o=Math.abs(o)),Math.floor(o/864e5)}return 0};function eY(t){var e=this;return[{field:"adult_num",getLocale:function(t){return 1===t?e.$t("168447"):e.$t("168442",{num:t})}},{field:"child_num",getLocale:function(t){return 1===t?e.$t("168446"):e.$t("168441",{num:t})}},{field:"room_num",getLocale:function(t){return 1===t?e.$t("168444"):e.$t("168440",{num:t})}}].reduce(function(e,i){var n=i.field,r=i.getLocale,o=t[n];return o?e.concat(r(o)):e},[]).join(", ")||this.$t("15753")}var eK=function(){var t=[1,2],e=ti()();return e.daysInMonth()-e.get("date")>=7?t.unshift(0):t.push(3),t.map(function(t){return e.add(t,"month").format("YYYY-MM")})};function eX(t){return[this.$t("47269"),this.$t("47270"),this.$t("47271"),this.$t("47272"),this.$t("47273"),this.$t("47274"),this.$t("47275"),this.$t("47276"),this.$t("47277"),this.$t("47278"),this.$t("47279"),this.$t("47280")][+t.slice(5)-1]}function eJ(t){var e=this,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=t.flexible_date_list,r=t.check_in,o=t.check_out;if(n){var a=t.flexible_date_list,s=t.flexible_type,l=t.flexible_day,c=a.split(",").map(function(t){return eX.call(e,t)}).join(", ");return 1===s?this.$t("47343",{month:c}):l>1?this.$t("47349",{month:c,no:l}):this.$t("47346",{month:c,no:l})}if(r&&o){var u=[r,o].map(function(t){return ti()(t)}),d=ti()(u[1]).diff(u[0],"day"),p=u.map(function(t){return e0.call(e,t)});return(this.customFormatDate?this.customFormatDate(p,u):p.join(" - "))+(i?'<span class="travel-date-diff">\n            '.concat(d>1?this.$t("168434",{num:d}):this.$t("101491"),"\n          </span>"):"")}return this.$t("47308")}function eQ(t){var e=e0.call(this,t[0])+" - ";if(t[1]){var i=ti()(t[1]).diff(t[0],"day");if(i>28)return this.$t("168458",{num:28});if(i>0)return e+e0.call(this,t[1])+" (".concat(i>1?this.$t("168434",{num:i}):this.$t("101491"),")")}return e+this.$t("79979")}function e0(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];!ti().isDayjs(t)&&(t=ti()(t));var i=e?this.$t("168909"):this.$t("168908");return t.format(i)}var e1={location:"YourLocation",search_history:"SearchHistory_LIST",popular:"PopularDestination_LIST",suggestion:"Hotel_SearchSuggest_LIST",suggest_inner:"Hotel_Popular_Destination_LIST"},e2=function(t){return t||"NA"},e4=function(t){return e1[t]||""},e5=function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s={SearchCardName:e2(t.title),ISDestinationPOI:e.includes("inner"),IsisExclude:a,DestinationType:e2(t.type_desc),TagType:e2(null===(i=t.tag_info)||void 0===i?void 0:i.id),SearchDestinationCityID:e2(t.city_id),SearchDestinationType:e2(t.stype),SearchDestinationTypeID:e2(t.svalue)},l={};return e.includes("suggest")&&(l.SearchKeyword=o),"object"===(0,J.i)(t)&&"".concat(e1[e],"?oid=city_").concat(e2(t.city_id),"&idx=").concat(n,"&len=").concat(r,"&ext=").concat(encodeURIComponent(JSON.stringify(Object.assign(s,l))))},e9=function(t){return new Promise(function(e){return setTimeout(e,t)})},e3=function(){function t(e){(0,J.e)(this,t),this.locationKeys=["title","svalue","stype","override","city_id"],this.list=e||[],this.init()}return(0,J.f)(t,[{key:"init",value:function(){var t=ti()(),e=!0;return this.list=JSON.parse(window.localStorage.getItem("HOTEL_QUERY_LIST")||"[]").filter(function(i){var n=ts(i.time,1)[0];return i.location.svalue&&!t.isAfter(ti()(n),"day")||(e=!1)}),!e&&window.localStorage.setItem("HOTEL_QUERY_LIST",JSON.stringify(this.list)),this.list}},{key:"update",value:function(t){var e=this;return t?(this.list.forEach(function(i,n){var r;if(r=e.getLocationData(i),function t(e,i,n,r,o){return e===i||(null!=e&&null!=i&&(t7(e)||t7(i))?eq(e,i,n,r,t,o):e!=e&&i!=i)}(r,e.getLocationData(t)))e.list.splice(n,1)}),this.list.unshift(JSON.parse(JSON.stringify(t)))>5&&this.list.pop(),localStorage.setItem("HOTEL_QUERY_LIST",JSON.stringify(this.list)),this.list):(localStorage.removeItem("HOTEL_QUERY_LIST"),this.list=[],[])}},{key:"getLocationData",value:function(t){var e={};return this.locationKeys.forEach(function(i){!e[i]&&(e[i]=t.location[i])}),{location:e,time:t.time,params:t.params}}}]),t}(),e6=function(t){return ti()(t).toDate()},e8=(0,J.c)(function(t){t.exports=function(t,e,i){return(e=(0,J.t)(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.__esModule=!0,t.exports.default=t.exports}),e7=(0,J.u)(e8),it=/^2\d{3}-(0[1-9]|1[0-2])-([0-2]\d|3[0-1])$/,ie=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.isAutoSelected=!1,t.isSupportEveryChange=!1,t}return(0,J.f)(r,[{key:"isArrayDates",get:function(){return Array.isArray(this.calendarInfo)}},{key:"dateRange",get:function(){var t=this.calendarInfo||[];if(!this.isArrayDates){var e=this.calendarInfo||{};t=[e.check_in,e.check_out]}var i=t.filter(function(t){return t&&it.test(t)}).map(function(t){return e6(t)});return 2===i.length?i:[]},set:function(t){if(t=Array.isArray(t)?t:[],this.$emit("single-change",1===t.length?t[0]:null),2===t.length){var e=ts([this.dateRange,t].map(function(t){return t.map(function(t){return ti()(t).format("YYYY-MM-DD")})}),2),i=e[0],n=e[1];i.toString()!==n.toString()&&this.$emit("change",this.isArrayDates?n:Object.assign({},this.calendarInfo,{check_in:n[0],check_out:n[1]}))}}},{key:"finalMinDate",get:function(){return this.minDate?ti()(this.minDate).toDate():new Date}},{key:"finalMaxDate",get:function(){var t,e,i,n=(null===(i=null===(e=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===e?void 0:e.hotel)||void 0===i?void 0:i.dateRange)||365;if(this.maxDate){if("number"!=typeof this.maxDate||!(this.maxDate<9999))return ti()(this.maxDate).toDate();n=this.maxDate}return ti()(this.finalMinDate).add(n,"d").toDate()}},{key:"isMobile",get:function(){return"mobile"===this.platform}},{key:"datePickerProps",get:function(){var t,e=this;return e7(t={type:"date-range",isSoldOut:this.isSoldOut,width:this.isMobile?"auto":void 0,syncAllDate:!0},this.isMobile?"verticalScroll":"doublePanel",!0),e7(t,"minDate",this.finalMinDate),e7(t,"maxDate",this.finalMaxDate),e7(t,"defaultViewDate",this.finalMinDate),e7(t,"isSelectable",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(1===i.length){var n=eG(t,ts(i,1)[0],!1);if(0===n)return!1;if(n>e.maxLos)return e.$toast(e.$t("168458",{num:e.maxLos}),e.$el),!1}return!0}),t}},{key:"onEveryChange",value:function(t){this.isSupportEveryChange=!0,this.dateRange=t,2===t.length&&(this.isAutoSelected&&this.$emit("update",t.map(function(t){return ti()(t).format("YYYY-MM-DD")})),this.isAutoSelected=!0)}},{key:"onChange",value:function(t){!this.isSupportEveryChange&&(this.dateRange=t)}},{key:"render",value:function(t){var e=this;return t("klk-date-picker",{ref:"datePicker",class:["hotel-calendar","hotel-calendar-"+(this.isMobile?"mobile":"desktop")],props:Object.assign({date:this.dateRange},this.datePickerProps),on:Object.assign(Object.assign({},this.$listeners),{everyChange:this.onEveryChange,change:this.onChange}),scopedSlots:Object.assign(Object.assign({},this.$scopedSlots),{"date-append":this.dailyPriceInfo?function(i){var n=i.date,r=i.selected,o=i.disabled,a=e.dailyPriceInfo[ti()(n).format("YYYY-MM-DD")];return e.customRenderPrice?e.customRenderPrice(a,t,n,r,o):a}:void 0})})}}]),r}(X.Vue);(0,J._)([(0,X.Model)("change",{type:[Object,Array],default:function(){return[]}})],ie.prototype,"calendarInfo",void 0),(0,J._)([(0,X.Prop)({type:String})],ie.prototype,"platform",void 0),(0,J._)([(0,X.Prop)({type:Object,default:null})],ie.prototype,"dailyPriceInfo",void 0),(0,J._)([(0,X.Prop)({type:Function})],ie.prototype,"isSoldOut",void 0),(0,J._)([(0,X.Prop)({type:Function})],ie.prototype,"customRenderPrice",void 0),(0,J._)([(0,X.Prop)({type:[Date,String,Number],default:function(){return new Date}})],ie.prototype,"minDate",void 0),(0,J._)([(0,X.Prop)({type:[Number,Date,String]})],ie.prototype,"maxDate",void 0),(0,J._)([(0,X.Prop)({type:[Date,null]})],ie.prototype,"singleCheckIn",void 0),(0,J._)([(0,X.Prop)({type:Number,default:1})],ie.prototype,"minLos",void 0),(0,J._)([(0,X.Prop)({type:Number,default:28})],ie.prototype,"maxLos",void 0);var ii=ie=(0,J._)([(0,X.Component)({name:"hotel-calendar",inheritAttrs:!1})],ie);let ir=(0,J.g)({},void 0,ii,void 0,void 0,void 0,!1,void 0,void 0,void 0);var io=(0,J.c)(function(t){t.exports=function(t){if(Array.isArray(t))return Q(t)},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(io);var ia=(0,J.c)(function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(ia);var is=(0,J.c)(function(t){t.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(is);var il=(0,J.c)(function(t){t.exports=function(t){return io(t)||ia(t)||tt(t)||is()},t.exports.__esModule=!0,t.exports.default=t.exports}),ic=(0,J.u)(il),iu=["adult_num","room_num","child_num","age"],id=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.guestInfo={},t.isChange=!1,t.componentHash="",t.unwatchMap={},t}return(0,J.f)(r,[{key:"isMobile",get:function(){return"mobile"===this.platform}},{key:"setGuestInfo",value:function(t,e,i){this.$set(t,e,+i),this.isChange=!0,this.syncChange&&this.$nextTick(this.commitGuestInfo)}},{key:"commitGuestInfo",value:function(){var t=this,e=Object.assign({},this.options,Object.keys(this.guestInfo).reduce(function(e,i){return e[i]=t.guestInfo[i].value,e},{}));return iu.forEach(function(i){!t.guestInfo.hasOwnProperty(i)&&delete e[i]}),this.$emit("change",e),e}},{key:"initGuestConfig",value:function(){var t=this;if(this.isChange)return this.isChange=!1;var e=this.options,i=e.room_num,n=e.adult_num,r=e.child_num,o=e.age,a={room_num:{max:8,min:1,value:+i||1},adult_num:{max:10,min:1,value:+n||2},child_num:{max:8,min:0,value:+r||0},age:Object.defineProperty(Object.assign(r>0&&this.options.age?o.split(",").slice(0,r).map(Number):[],{max:17,min:0}),"value",{get:function(){return this.toString()}})};for(var s in a)if("continue"===function(){var e=t[s.replace("_num","")];if(!e)return"continue";var i=(0,J.i)(e);if("string"===i){if("hide"===e)return delete a[s],"continue";"disabled"===e&&(e={max:0,min:0})}else if("object"!==i||!["max","min"].every(function(t){return!e.hasOwnProperty(t)||e[t]>-1}))return"continue";Object.assign(a[s],e)}())continue;this.componentHash=String(new Date().getTime()).slice(-5),this.guestInfo=a,this.guestInfo.age&&this.guestInfo.child_num&&this.guestInfo.child_num.max!==this.guestInfo.child_num.min?this.unwatchMap.child=this.unwatchMap.child||this.$watch("guestInfo.child_num.value",function(e){var i=t.guestInfo.age,n=i.length;n<e?i.push.apply(i,ic(Array(e-n).fill(t.defaultChildAge))):i.splice(e)}):this.unwatchMap.child&&(this.unwatchMap.child(),delete this.unwatchMap.child),[this.guestInfo.room_num,this.guestInfo.adult_num].every(function(t){return t&&t.max!==t.min})?this.unwatchMap.room=this.unwatchMap.room||this.$watch("guestInfo.room_num.value",function(e){var i;e>Number(null===(i=t.guestInfo.adult_num)||void 0===i?void 0:i.value)&&(t.guestInfo.adult_num.value=e)}):this.unwatchMap.room&&(this.unwatchMap.room(),delete this.unwatchMap.room)}},{key:"beforeDestroy",value:function(){var t=Object.values(this.unwatchMap);t.length&&(t.forEach(function(t){return t()}),this.unwatchMap={})}},{key:"getLocale",value:function(t){var e=this;switch(t){case"adult_num":return{label:this.$t("17642"),increase:function(t){return e.$t("168437",{num:t})},decrease:function(t){return e.$t("168436",{num:t})}};case"child_num":return{label:this.$t("168457"),increase:function(t){return e.$t("168435",{num:t})}};case"room_num":return{label:this.$t("17641"),increase:function(t){return e.$t("168439",{num:t})},decrease:function(t){return e.$t("168438",{num:t})}};case"age":return{label:this.$t("168456")}}return{label:""}}},{key:"remindToast",value:function(t,e,i){var n,r,o=this.$el,a=null===(n=this.$parent)||void 0===n?void 0:n.$options.name;if("klk-bottom-sheet"===a?o=this.$parent.$el.querySelector(".klk-bottom-sheet-inner"):"klk-poptip"===a&&(o=this.$parent.$el.querySelector(".klk-poptip-popper")),i){var s=null===(r=e[t])||void 0===r?void 0:r.call(e,i);s&&this.$toast(s,o)}}},{key:"renderNum",value:function(t){var e,i=this,n=this.$createElement,r=this.guestInfo[t],o=this.getLocale(t);return n("section",{key:t,class:["hotel-guest-item","child_num"===t&&!r.value&&"no-child"]},[n("b",[o.label]),n("div",{class:"counter-wraper"},[r.max<=r.min?r.value:n("klk-counter",{attrs:{size:"small",max:r.max,min:"adult_num"===t&&(null===(e=this.guestInfo.room_num)||void 0===e?void 0:e.value)||r.min,value:r.value},on:{"disabled-click":function(t){return i.remindToast(t,o,r.value)},change:this.setGuestInfo.bind(this,r,"value")}})])])}},{key:"renderAge",value:function(){var t=this,e=this.$createElement,i=this.guestInfo,n=i.age,r=i.child_num;if(!(null==r?void 0:r.value)||!(null==n?void 0:n.length))return null;var o=n.max,a=n.min,s=o<=a;return e("div",{class:"hotel-child-age"},[e("p",[e("b",[this.$t("168456")])]),e("div",{class:"age-tip"},[this.$t("168454")]),e("div",{class:"age-select"},[e("klk-collapse",{attrs:{size:"small",accordion:!0}},[n.map(function(i,r){return e("klk-collapse-item",{key:r,attrs:{name:r},scopedSlots:{header:function(n){var o=n.expand,a=n.toggle;return e("p",{class:"collapse-age-header",on:{click:function(e){s||a(),setTimeout(function(){var i,n=null===(i=e.target)||void 0===i?void 0:i.offsetTop;n&&t.$emit("collapse-change",n)},400)}}},[e("span",[t.$t("168453",{num:r+1})]),e("span",[e("span",{class:s&&"disabled"},[i>0?t.$t("168452",{num:i}):t.$t("168451")]),!s&&e("klk-icon",{class:"svg-icon",attrs:{type:o?"icon_navigation_chevron_up":"icon_navigation_chevron_down",size:20}})])])},default:s?void 0:function(s){var l=s.toggle;return e("klk-tag-group",{attrs:{checkable:!0,value:i},on:{input:function(e){t.setGuestInfo(n,r,e),l()}}},[Array.from({length:o+1-a},function(t,i){var n=a+i;return e("klk-tag",{class:"age-tag",attrs:{value:n},key:i},[n||"<1"])})])}}})})])])])}},{key:"render",value:function(){var t=this,e=arguments[0];return e("div",{class:["hootel-guest-content","platform-".concat(this.isMobile?"mobile":"desktop")],key:this.componentHash},[Object.keys(this.guestInfo).map(function(e){return"age"===e?t.renderAge():t.renderNum(e)})])}}]),r}(X.Vue);(0,J._)([(0,X.Model)("change",{type:Object,default:function(){return{}}})],id.prototype,"options",void 0),(0,J._)([(0,X.Prop)({type:String})],id.prototype,"platform",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],id.prototype,"syncChange",void 0),(0,J._)([(0,X.Prop)({type:Number,default:8})],id.prototype,"defaultChildAge",void 0),(0,J._)([(0,X.Prop)({type:[String,Object]})],id.prototype,"room",void 0),(0,J._)([(0,X.Prop)({type:[String,Object]})],id.prototype,"age",void 0),(0,J._)([(0,X.Prop)({type:[String,Object]})],id.prototype,"adult",void 0),(0,J._)([(0,X.Prop)({type:[String,Object]})],id.prototype,"child",void 0),(0,J._)([(0,X.Watch)("$props",{immediate:!0,deep:!0})],id.prototype,"initGuestConfig",null);var ip=id=(0,J._)([(0,X.Component)({name:"hotel-guest",inheritAttrs:!1})],id);let ih=(0,J.g)({},void 0,ip,"data-v-461f31ba",void 0,void 0,!1,void 0,void 0,void 0);function iv(){return(iv=Object.assign?Object.assign.bind():function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}i("93854");var iy=["attrs","props","domProps"],im=["class","style","directives"],ig=["on","nativeOn"],i_=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}},ib=function(t){return t.reduce(function(t,e){for(var i in e)if(t[i]){if(-1!==iy.indexOf(i))t[i]=iv({},t[i],e[i]);else if(-1!==im.indexOf(i)){var n=t[i]instanceof Array?t[i]:[t[i]],r=e[i]instanceof Array?e[i]:[e[i]];t[i]=[].concat(n,r)}else if(-1!==ig.indexOf(i))for(var o in e[i])if(t[i][o]){var a=t[i][o]instanceof Array?t[i][o]:[t[i][o]],s=e[i][o]instanceof Array?e[i][o]:[e[i][o]];t[i][o]=[].concat(a,s)}else t[i][o]=e[i][o];else if("hook"===i)for(var l in e[i])t[i][l]=t[i][l]?i_(t[i][l],e[i][l]):e[i][l];else t[i]=e[i]}else t[i]=e[i];return t},{})},ix=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.isMobile=!1,t.tabName="calendarOptions",t.calendarOptions={check_in:"",check_out:""},t.flexibleOptions={flexible_type:1,flexible_date_list:"",flexible_day:2},t.isChange=!1,t.otherOptions={},t.monthOption=[],t.innerDailyPriceInfo=null,t.singleCheckIn=null,t}return(0,J.f)(r,[{key:"finalDailyPriceInfo",get:function(){return this.dailyPriceInfo||this.innerDailyPriceInfo}},{key:"getDailyPriceInfo",value:function(){var t=this;if("function"==typeof this.fetchDailyPrice){var e=this.fetchDailyPrice();"object"===(0,J.i)(e)&&"function"==typeof e.then&&e.then(function(e){e.length&&"object"===(0,J.i)(e[0])&&e[0].hasOwnProperty("date")&&(t.innerDailyPriceInfo=e.reduce(function(t,e){var i=e.date,n=e.price_desc;return t[i]=n,t},{}))})}}},{key:"isFlexibleTab",get:function(){return"flexibleOptions"===this.tabName}},{key:"diffDay",get:function(){if(this.isValid){var t=this.calendarOptions,e=t.check_in,i=t.check_out;if(e&&i)return ti()(i).diff(e,"day")}return 0}},{key:"diffDayText",get:function(){if(!this.singleCheckIn&&!!this.diffDay){var t=this.diffDay,e=t>1?this.$t("168434",{num:t}):this.$t("101491");return" ( ".concat(e," )")}}},{key:"confirmBtnDisabled",get:function(){return"flexibleOptions"!==this.tabName&&(!!this.singleCheckIn||(!this.allowNotSelect||!!this.diffDay)&&(!this.diffDay||!this.isValid||this.diffDay<this.minLos||this.diffDay>this.maxLos))}},{key:"clearableBtnDisabled",get:function(){var t;return"flexibleOptions"===this.tabName?!(null===(t=this.flexibleOptions.flexible_date_list)||void 0===t?void 0:t.length):!(this.singleCheckIn||this.isValid)}},{key:"finalMinDate",get:function(){return this.minDate?ti()(this.minDate).startOf("d").toDate():ti()().startOf("d").toDate()}},{key:"finalMaxDate",get:function(){var t,e,i,n=(null===(i=null===(e=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===e?void 0:e.hotel)||void 0===i?void 0:i.dateRange)||365;if(this.maxDate){if("number"!=typeof this.maxDate||!(this.maxDate<9999))return ti()(this.maxDate).endOf("d").toDate();n=this.maxDate}return ti()(this.finalMinDate).add(n,"d").endOf("d").toDate()}},{key:"isValid",get:function(){return e6(this.calendarOptions.check_in)>=this.finalMinDate&&e6(this.calendarOptions.check_out)<=this.finalMaxDate}},{key:"finalCalendarOptions",get:function(){return this.isValid?this.calendarOptions:{check_in:"",check_out:""}}},{key:"mounted",value:function(){var t=this;setTimeout(function(){t.monthOption=eK(),t.$once("hook:beforeDestroy",t.$watch("options",t.initDateOption,{immediate:!0}))},500)}},{key:"initDateOption",value:function(t,e){if(this.isChange)return this.isChange=!1;t=t||this.options;var i=this.options,n=i.check_in,r=i.check_out,o=i.calendar_type,a=i.flexible_day,s=i.flexible_date_list,l=i.flexible_type,c=(0,J.j)(i,["check_in","check_out","calendar_type","flexible_day","flexible_date_list","flexible_type"]);if(this.otherOptions=c,!e||!!Object.entries(this[this.tabName]).some(function(e){var i=ts(e,2),n=i[0];return i[1]!==t[n]})){if(this.calendarOptions={check_in:void 0===n?"":n,check_out:void 0===r?"":r},this.flexible){if(this.tabName=2===o?"flexibleOptions":"calendarOptions",s&&s.length){var u=ti()();s=s.split(",").filter(function(t){return!ti()(t).isBefore(u,"month")}).toString()}this.flexibleOptions={flexible_type:void 0===l?1:l,flexible_date_list:s||this.monthOption.slice(0,2).toString(),flexible_day:+(void 0===a?"":a)||2}}}}},{key:"clearDates",value:function(){this["calendarOptions"!==this.tabName?"setFlexible":"setCalendar"]()}},{key:"setFlexible",value:function(t){this.isChange=!0,Object.assign(this.flexibleOptions,t||{flexible_type:1,flexible_date_list:"",flexible_day:2}),t&&this.$emit("update")}},{key:"setCalendar",value:function(t){var e;if(this.isChange=!0,this.calendarOptions=t||{check_in:"",check_out:""},null===(e=this.showSelectedTip)||void 0===e||e.call(this),!this.hasConfirm){if(this.calendarOptions.check_out){var i=this.$refs.poptipCalendar;null==i||i.hide()}}}},{key:"onSingleChange",value:function(t){var e;this.singleCheckIn=t,null===(e=this.showSelectedTip)||void 0===e||e.call(this),this.$emit("single-change",t)}},{key:"confirmIsChange",value:function(){return!this.isChange&&(this.options.calendar_type||1)!==("flexibleOptions"===this.tabName?2:1)&&(this.isChange=!0),this.isChange}},{key:"getPostData",value:function(){var t;return"flexibleOptions"!==this.tabName?t=Object.assign({},this.calendarOptions):this.flexibleOptions.flexible_date_list?2!==(t=Object.assign(Object.assign({},this.flexibleOptions),{calendar_type:2})).flexible_type&&delete t.flexible_day:t={},Object.assign(t,this.otherOptions)}},{key:"commitTravelDate",value:function(){if(!!this.confirmIsChange())this.$emit("change",this.getPostData())}},{key:"selectFlexibleMonth",value:function(t){var e=this.flexibleOptions.flexible_date_list;if(e){var i=e.split(","),n=i.indexOf(t);if(n>-1){if(1===i.length)return;i.splice(n,1)}else i.push(t);e=i.sort(function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=ts(e.map(function(t){return+t.replace("-","")}),2);return n[0]-n[1]}).toString()}else e=t;this.setFlexible({flexible_date_list:e})}},{key:"renderTab",value:function(){var t=this,e=this.$createElement;return this.flexible&&e("div",{class:"calendar-type-tab",attrs:{"data-spm-module":"SearchDate?trg=manual"}},[e("div",ib([{},{directives:[{name:"galileo-click-tracker",value:{spm:"SearchDate.SearchMode"}}]},{attrs:{"data-spm-item":"SearchMode"},class:["calendar-type-btn",{active:!this.isFlexibleTab}],on:{click:function(e){t.tabName="calendarOptions",e.stopPropagation()}}}]),[this.$t("47257")]),e("div",ib([{},{directives:[{name:"galileo-click-tracker",value:{spm:"SearchDate.SearchMode"}}]},{attrs:{"data-spm-item":"SearchMode"},class:["calendar-type-btn",{active:this.isFlexibleTab}],on:{click:function(e){t.tabName="flexibleOptions",e.stopPropagation()}}}]),[this.$t("47265")])])}},{key:"renderFlexible",value:function(){var t=this,e=this.$createElement,i=2===this.flexibleOptions.flexible_type;return this.flexible&&e("div",{style:"display: ".concat(this.isFlexibleTab?"":"none"),class:"flexible-container",attrs:{"data-spm-module":"SearchDate?trg=manual"}},[e("p",{class:"flexible-tip"},[this.flexibleOptions.flexible_date_list?[this.$t("47266")+" ",e("b",[this.flexibleOptions.flexible_date_list.split(",").map(function(e){return eX.call(t,e)}).join(", ")])]:this.$t("12022")]),e("div",{class:"flex-tag-list"},[this.monthOption.map(function(i){return e("div",ib([{key:i},{directives:[{name:"galileo-click-tracker",value:{spm:"SearchDate.FlexibleMonth"}}]},{attrs:{"data-spm-item":"FlexibleMonth"},class:["flex-tag-item row-column3",{active:t.flexibleOptions.flexible_date_list&&t.flexibleOptions.flexible_date_list.includes(i)}],on:{click:function(e){e.stopPropagation(),t.selectFlexibleMonth(i)}}}]),[e("p",{class:"ellipsis"},[eX.call(t,i)]),e("p",{class:"c-gray ellipsis"},[i.slice(0,4)])])})]),this.flexibleOptions.flexible_date_list&&[e("p",{class:"flexible-tip"},[[this.$t("47268"),this.$t("47267")][this.flexibleOptions.flexible_type-1],"\xa0",e("b",[[this.$t("47281"),this.$t("47283")][this.flexibleOptions.flexible_type-1]])]),1===this.flexibleOptions.flexible_type&&e("p",{class:"c-gray gray-tip"},[this.$t("47307")]),e("div",{class:"flex-tag-list"},[[this.$t("47281"),this.$t("47283")].map(function(i,n){return e("div",ib([{key:n},{directives:[{name:"galileo-click-tracker",value:{spm:"SearchDate.FlexiblePeriod"}}]},{attrs:{"data-spm-item":"FlexiblePeriod"},class:["flex-tag-item row-column2",{active:t.flexibleOptions.flexible_type-1===n}],on:{click:function(e){e.stopPropagation(),t.setFlexible({flexible_type:n+1})}}}]),[e("span",[i])])})]),[e("p",{class:"flexible-tip",style:{marginTop:"40px",display:i?void 0:"none"}},[this.$t("47268"),e("b",[" "+(this.flexibleOptions.flexible_day>1?this.$t("168434",{num:this.flexibleOptions.flexible_day}):this.$t("101491"))])]),e("div",{class:"flex-tag-list flexible-dayly-list",style:{display:i?void 0:"none"}},[Array.from({length:7},function(i,n){return e("div",ib([{key:n},{directives:[{name:"galileo-click-tracker",value:{spm:"SearchDate.FlexibleStayNight"}}]},{attrs:{"data-spm-item":"FlexibleStayNight"},class:["flex-tag-item ellipsis row-column".concat(t.hasConfirm?4:7),{active:t.flexibleOptions.flexible_day===n+1}],on:{click:function(e){e.stopPropagation(),t.setFlexible({flexible_day:n+1})}}}]),[n>0?t.$t("168434",{num:n+1}):t.$t("101491")])})])]]])}},{key:"renderCalendar",value:function(t){var e=this,i=t.scopedSlots,n=t.on;return(0,this.$createElement)(ir,ib([{ref:"simpleCalendar"},{attrs:Object.assign(Object.assign({},this.$attrs),{dailyPriceInfo:this.finalDailyPriceInfo,platform:this.isMobile?"mobile":"desktop",calendarInfo:this.finalCalendarOptions,minLos:this.minLos,maxLos:this.maxLos,minDate:this.finalMinDate,maxDate:this.finalMaxDate})},{style:{display:this.isFlexibleTab?"none":void 0,margin:"0 -16px"},attrs:{singleCheckIn:this.singleCheckIn}},{on:Object.assign(Object.assign({},void 0===n?{}:n),{change:this.setCalendar,update:function(t){e.setCalendar({check_in:t[0],check_out:t[1]}),e.$emit("update",t)},"single-change":this.onSingleChange,"view-change":function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.$emit.apply(e,["view-change"].concat(i))}})},{scopedSlots:Object.assign({},void 0===i?{}:i)}]))}}]),r}(X.Vue);(0,J._)([(0,X.Model)("change",{type:Object,default:function(){return{}}})],ix.prototype,"options",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],ix.prototype,"flexible",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],ix.prototype,"clearable",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],ix.prototype,"allowNotSelect",void 0),(0,J._)([(0,X.Prop)({type:Function,default:null})],ix.prototype,"fetchDailyPrice",void 0),(0,J._)([(0,X.Prop)({type:Object,default:null})],ix.prototype,"dailyPriceInfo",void 0),(0,J._)([(0,X.Prop)({type:Object,default:function(){return{"data-spm-module":"SearchDate?trg=manual","data-spm-virtual-item":"__virtual"}}})],ix.prototype,"ihtAttrs",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!1})],ix.prototype,"hasConfirm",void 0),(0,J._)([(0,X.Prop)({type:Number,default:1})],ix.prototype,"minLos",void 0),(0,J._)([(0,X.Prop)({type:Number,default:28})],ix.prototype,"maxLos",void 0),(0,J._)([(0,X.Prop)({type:[Date,String,Number],default:function(){return new Date}})],ix.prototype,"minDate",void 0),(0,J._)([(0,X.Prop)({type:[Number,Date,String]})],ix.prototype,"maxDate",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!1})],ix.prototype,"loading",void 0),(0,J._)([(0,X.Prop)({type:Function,default:null})],ix.prototype,"customFormatDate",void 0);var ik=ix=(0,J._)([(0,X.Component)({inheritAttrs:!1})],ix),iw=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.showCalendar=!1,t.hoveringDate=null,t}return(0,J.f)(r,[{key:"mergedPoptipProps",get:function(){return Object.assign({},eZ,this.poptipProps,this.ihtAttrs)}},{key:"valueDesc",get:function(){var t=this.hasConfirm?this.options:this.monthOption.length?this[this.tabName]:this.options;return eJ.call(this,t)}},{key:"selectedDateTip",get:function(){return this.singleCheckIn?eQ.call(this,[this.singleCheckIn,this.hoveringDate]):this.isValid?eQ.call(this,[this.calendarOptions.check_in,this.calendarOptions.check_out]):this.$t("168459")}},{key:"show",value:function(){this.$el.firstChild.click()}},{key:"onConfirm",value:function(){var t,e;this.commitTravelDate(),null===(e=null===(t=this.$refs.poptipCalendar)||void 0===t?void 0:t.hide)||void 0===e||e.call(t),this.$emit("confirm",this.getPostData())}},{key:"onPoptipShow",value:function(){this.showCalendar=!0,this.$emit("show",this.calendarOptions),this.getDailyPriceInfo()}},{key:"onPoptipHide",value:function(){var t=this;this.singleCheckIn=null,setTimeout(function(){t.showCalendar=!1},200),!this.hasConfirm&&this.commitTravelDate(),this.$emit("hide")}},{key:"renderSelectedDateTip",value:function(){return(0,this.$createElement)("div",{class:"hotel-calendar-desktop-extra-tip"},[this.selectedDateTip])}},{key:"galileoSpm",get:function(){var t,e,i=null===(e=null===(t=this.mergedPoptipProps)||void 0===t?void 0:t["data-spm-module"])||void 0===e?void 0:e.split("?")[0];return{spm:i,enable:!!i,enforce:"post"}}},{key:"render",value:function(){var t=this,e=arguments[0],i="function"==typeof this.$scopedSlots.default;return e("klk-poptip",ib([{ref:"poptipCalendar"},{directives:[{name:"galileo-click-tracker",value:this.galileoSpm}]},{},{attrs:Object.assign({},this.mergedPoptipProps)},{attrs:{width:680},class:["poptip-calendar",!i&&"hotel-selector-item"],on:{show:this.onPoptipShow,hide:this.onPoptipHide}}]),[i?this.$scopedSlots.default({valueDesc:this.valueDesc}):[e("p",{class:"hotel-selector-item_name"},[this.$t("168433")]),e("div",{class:"hotel-selector-item_value",domProps:{innerHTML:this.valueDesc}})],e("client-only",{slot:"content"},[this.loading?e("div",{style:"width: 680px; height: 440px; position: relative"},[e("klk-loading")]):this.showCalendar&&[this.renderTab(),this.renderCalendar({scopedSlots:{footer:this.$scopedSlots.tip?function(){var e,i;return null===(i=(e=t.$scopedSlots).tip)||void 0===i?void 0:i.call(e)}:void 0},on:{hover:function(e){t.hoveringDate=e}}}),this.renderFlexible()],!this.loading&&!this.hasConfirm&&!this.isFlexibleTab&&this.renderSelectedDateTip(),!this.loading&&(this.hasConfirm||this.clearable)&&e("div",{class:"calendar-footer"},[this.hasConfirm&&e("klk-button",{attrs:{type:"primary",disabled:this.confirmBtnDisabled},nativeOn:{click:this.onConfirm},style:"min-width: 240px"},[this.$t("28850"),!this.isFlexibleTab&&this.diffDayText]),this.hasConfirm&&!this.isFlexibleTab&&e("span",{class:"extra-tip"},[this.selectedDateTip]),this.clearable&&e("klk-button",{attrs:{type:"text",disabled:this.clearableBtnDisabled},on:{click:this.clearDates}},[this.$t("47258")])])])])}}]),r}(ik);(0,J._)([(0,X.Prop)({type:Object,default:function(){return{}}})],iw.prototype,"poptipProps",void 0);var iS=iw=(0,J._)([(0,X.Component)({name:"poptip-calendar"})],iw);let iC=(0,J.g)({},void 0,iS,"data-v-6f88dac0",void 0,void 0,!1,void 0,void 0,void 0);var iO=i("20144"),iP=i("32320"),i$=i("18551"),iL=(0,J.c)(function(t){var e=J.r.default;function i(){t.exports=i=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,i){return t[e]=i}}function p(t,e,i,n){var r=Object.create((e&&e.prototype instanceof v?e:v).prototype);return a(r,"_invoke",{value:function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return $()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=function t(e,i){var n=i.method,r=e.iterator[n];if(void 0===r)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=void 0,t(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,h;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,h):a:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,h)}(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=f(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,new O(n||[]))}),r}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var h={};function v(){}function y(){}function m(){}var g={};d(g,l,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(P([])));b&&b!==r&&o.call(b,l)&&(g=b);var x=m.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach(function(e){d(t,e,function(t){return this._invoke(e,t)})})}function w(t,i){var n;a(this,"_invoke",{value:function(r,a){function s(){return new i(function(n,s){!function n(r,a,s,l){var c=f(t[r],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==e(d)&&o.call(d,"__await")?i.resolve(d.__await).then(function(t){n("next",t,s,l)},function(t){n("throw",t,s,l)}):i.resolve(d).then(function(t){u.value=t,s(u)},function(t){return n("throw",t,s,l)})}l(c.arg)}(r,a,n,s)})}return n=n?n.then(s,s):s()}})}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:$}}function $(){return{value:void 0,done:!0}}return y.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:y,configurable:!0}),y.displayName=d(m,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,d(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},n.awrap=function(t){return{__await:t}},k(w.prototype),d(w.prototype,c,function(){return this}),n.AsyncIterator=w,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new w(p(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(x),d(x,u,"Generator"),d(x,l,function(){return this}),d(x,"toString",function(){return"[object Generator]"}),n.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},n}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports});(0,J.u)(iL);var iE=iL();try{regeneratorRuntime=iE}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=iE:Function("r","regeneratorRuntime = r")(iE)}var iT=function(t,e,i){var n=i.historyList.filter(function(t){var e,i;return"location"!==t.location.stype&&(null===(e=t.time)||void 0===e?void 0:e[0])&&(null===(i=t.time)||void 0===i?void 0:i[1])}).slice(0,2),r=1===n.length;return n.length>0&&[t("p",{class:"destination-title"},[e,t(iP.Z,{class:"history-clear",attrs:{size:20},nativeOn:{click:function(){i.$emit("clear-history")}}})]),t("div",{class:"destination-group"},[n.map(function(e,o){var a;return t("div",ib([{class:["destination-group-item","search-history",{single:r}]},{directives:[{name:"galileo-click-tracker",value:{spm:e4("search_history")}}]},{attrs:{"data-spm-virtual-item":"__virtual","data-spm-module":e5(e.location,"search_history",o,n.length)},on:{click:function(t){i.$emit("select-history",e)}}}]),[t("p",{class:"history-name text-ellipsis"},[e.location.title]),t("p",{class:"history-params text-ellipsis"},[eY.call(i,e.params)]),",",(null===(a=e.time)||void 0===a?void 0:a.length)===2&&t("p",{class:"history-params text-ellipsis"},[e.time.map(function(t){return e0.call(i,t)}).join(" - ")])])})])]},ij=function(t,e,i){var n="location"===e.type,r=e.content.map(function(r,o){var a=r.image?function(t,e,i,n){var r=!(arguments.length>4)||void 0===arguments[4]||arguments[4],o=!(arguments.length>5)||void 0===arguments[5]||arguments[5],a=t||"";if(e&&t){var s=e+"fl_lossy.progressive,q_85/";a=(a=a.replace(e,s)).replace(s,s+(o?"c_fill,":"")+"w_"+i+(n>0?",h_"+n+"/":"/")),r&&a.indexOf("res.klook.com")>0&&(a=a.replace(/.(jpg|png|jpeg|gif)$/,".webp"))}return a}(r.image,"image/upload/",375,212,!1):"";return t("span",ib([{key:"".concat(e.type,"-").concat(o),class:"destination-group-item destination-location ".concat(n?"text-ellipsis":"")},{directives:[{name:"galileo-click-tracker",value:{spm:e4(e.type),enable:e4(e.type),eventData:function(){return i$.iI.fromObject({destination_id:r.svalue?parseInt(String(r.svalue),10):-1})}}}]},{attrs:{"data-spm-virtual-item":"__virtual","data-spm-module":e5(r,e.type,o,e.content.length)},on:{click:function(t){return i.chooseLocation(r,!0,t)}},style:{backgroundImage:r.image?"url(".concat(a,")"):"unset"}}]),[r.icon_url&&t("img",{attrs:{src:r.icon_url}}),t("span",[r.title])])});return[t("p",{class:"destination-title"},[e.section_title]),t("div",{class:"destination-group ".concat(e.type)},[r])]},iI=iO.default.extend({name:"Recommend",inject:{getDestinationContext:{default:null}},render:function(t){var e,i=(null===(e=this.getDestinationContext)||void 0===e?void 0:e.call(this))||this.$parent;if(!i||!i.destinationList)return null;var n=i.destinationList.map(function(e,n){var r="search_history"===e.type?i.historyList.length>0&&iT(t,e.section_title,i):e.content.length>0&&ij(t,e,i);return r&&t("section",{key:"".concat(e.type,"-").concat(n),class:"destination-wrapper"},[r])}).filter(Boolean);return n.length>0?t("div",[n]):null}}),iR=iO.default.extend({name:"Suggest",inject:{getDestinationContext:{default:null}},render:function(t){var e,i=(null===(e=this.getDestinationContext)||void 0===e?void 0:e.call(this))||this.$parent;if(!i||!i.searchList)return null;var n=function(t){var e=new Set;if(e.add(t),t.length>1){var i=Array.from(new Set(t.split(/[,\.<>\\\s\(\)&'"\[\]\{\}\^\|*@\-\+%\$!=;\?:`~#%]+/g))).filter(Boolean);e.add(i.join("|"))}var n=Array.from(e).map(function(t){try{return RegExp("(".concat(t,")"),"gi")}catch(t){}}).filter(function(t){return t});return function(t){var e,i=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return eU(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eU(t,e)}}(t))){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{!a&&null!=i.return&&i.return()}finally{if(s)throw o}}}}(n);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(t.match(r))return t.replace(r,'<span class="hightlight-keyword">$1</span>')}}catch(t){i.e(t)}finally{i.f()}return t}}(i.searchList.keyword),r=i.searchList.map(function(e,r){var o,a=!!(null===(o=e.child_list)||void 0===o?void 0:o.length);return t("div",ib([{class:"search-suggest flex-container",key:r},!a&&{attrs:{"data-spm-virtual-item":"__virtual","data-spm-module":e5(e,"suggestion",r,i.searchList.length,i.searchList.keyword)},directives:[{name:"galileo-click-tracker",value:{spm:e4("suggestion"),eventData:function(){return i$.$k.fromObject({search_query:i.searchList.keyword||"",search_destination_id:String(e.svalue),suggest_product_name:e.title||""})}}}],on:{click:function(t){i.chooseLocation(e,!0,t)}}}]),[t("img",{class:"flex-none",attrs:{src:e.icon_url,width:"20",height:"20"}}),t("div",{class:"flex-grow"},[t("div",ib([{class:"flex-container"},{directives:[{name:"galileo-click-tracker",value:{spm:e4("suggestion")}}]},{attrs:{"data-spm-module":a&&e5(e,"suggestion",r,i.searchList.length,i.searchList.keyword,!0)}}]),[t("div",{class:"flex-grow flex-container"},[t("p",ib([{class:"search-suggest-title text-ellipsis"},{domProps:{innerHTML:n(e.title)}}])),e.tag_info&&t("klk-label",{class:"flex-none",attrs:{size:"small"},style:{marginLeft:"8px",color:e.tag_info.text_color,backgroundColor:e.tag_info.bg_color,border:e.tag_info.border_color&&"1px solid ".concat(e.tag_info.border_color)}},[e.tag_info.name])]),t("span",{class:"search-suggest-desc c-gray flex-none text-ellipsis"},[e.type_desc])]),e.secondary_title&&t("p",ib([{class:"search-suggest-desc-second flex-none text-ellipsis"},{domProps:{innerHTML:n(e.secondary_title)}}])),a?e.child_list.map(function(n,r){return t("div",ib([{attrs:{ket:r},class:"search-suggest-desc text-ellipsis"},{directives:[{name:"galileo-click-tracker",value:{spm:e4("suggest_inner")}}]},{attrs:{"data-spm-virtual-item":"__virtual","data-spm-module":e5(n,"suggest_inner",r,e.child_list.length,i.searchList.keyword)},on:{click:function(t){return i.chooseLocation(n,!0,t)}}}]),[n.title])}):t("p",{class:"search-suggest-desc c-gray text-ellipsis"},[e.sub_title])])])});return t("div",[r])}}),iM=iO.default.extend({name:"DestinationContent",inject:{getDestinationContext:{default:null}},render:function(t){var e,i,n,r,o,a=(null===(e=this.getDestinationContext)||void 0===e?void 0:e.call(this))||this.$parent,s=[],l=a.keyword,c=null===(i=a.destinationList)||void 0===i?void 0:i.some(function(t){var e,i;return"search_history"===t.type?(null===(e=a.historyList)||void 0===e?void 0:e.filter(function(t){var e,i;return"location"!==t.location.stype&&(null===(e=t.time)||void 0===e?void 0:e[0])&&(null===(i=t.time)||void 0===i?void 0:i[1])}).length)>0:(null===(i=t.content)||void 0===i?void 0:i.length)>0}),u=(null===(r=(n=a.$scopedSlots).content)||void 0===r?void 0:r.call(n,{destinationList:a.destinationList,chooseLocation:a.chooseLocation.bind(a)}))||(c?t(iI):null);return u&&s.push(t("div",{ref:"destinationRecommend",style:l&&"display: none;"},[u])),l&&s.push((null===(o=a.searchList)||void 0===o?void 0:o.length)>0?t(iR):t("p",a.timmer?a.$t("80356"):a.searchError?[a.$t("168460"),t("klk-link",{style:"margin-left: 8px",props:{underline:!1},on:{click:function(){return a.searchSuggest(l)}}},a.$t("16582"))]:a.$t("168462",{search_term:l}))),s.length>0&&t("transition",{props:{name:"fade-in"}},[t("div",{class:"poptip-destination-modal",ref:"modalContent",attrs:{"data-spm-page":a.spmStr},directives:[{name:"show",value:a.showLayer}]},s)])}}),iD=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.keyword="",t.showLayer=!1,t.searchList=[],t.destinationList=[],t.searchError=!1,t.timmer=null,t}return(0,J.f)(r,[{key:"spmStr",get:function(){var t="object"===(0,J.i)(this.spmPage)?this.spmPage:{name:this.spmPage},e=t.name,i=t.oid,n=t.ext,r="";return e&&(r+="".concat(e,"?trg=manual"),i&&(r+="&oid=".concat(i)),"object"===(0,J.i)(n)&&(r+="&ext=".concat(decodeURIComponent(JSON.stringify(n))))),r}},{key:"inputLabel",get:function(){return"string"==typeof this.label?this.label:this.$t("88925")}},{key:"destinationValue",get:function(){return this.options.override||this.options.title||""}},{key:"inputPlaceholder",get:function(){return"string"==typeof this.placeholder?this.placeholder:this.$t("88914")}},{key:"mounted",value:function(){var t,e;return(0,J.k)(this,void 0,void 0,iE.mark(function i(){var n,r,o,a,s,l,c,u=this;return iE.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n=this.needLocation,r=this.getCityList){i.next=3;break}return i.abrupt("return");case 3:if(o=this.geoPosition,!(!this.options.svalue&&n&&(!o.longitude||!o.latitude)&&navigator.geolocation)){i.next=8;break}return i.next=7,new Promise(function(t){navigator.geolocation.getCurrentPosition(function(e){var i=e.coords;t({longitude:i.longitude,latitude:i.latitude})},function(){t({})},{timeout:3e3,maximumAge:6e4}),setTimeout(function(){t({})},3e3)});case 7:o=i.sent;case 8:return this.$emit("geo-position",o),i.next=11,r(o);case 11:if(i.t0=i.sent,i.t0){i.next=14;break}i.t0=[];case 14:this.destinationList=i.t0,(null===(t=this.destinationList)||void 0===t?void 0:t.length)&&(!this.options.svalue&&o.longitude&&o.latitude&&(a="location",(null===(e=null==(s=this.destinationList.find(function(t){return t.type===a}))?void 0:s.content)||void 0===e?void 0:e.length)&&this.chooseLocation(s.content[0],!1)),l=this.$watch("showLayer",function(t){t&&setTimeout(function(){var t,e=null===(t=u.$refs.destinationRecommend)||void 0===t?void 0:t.querySelectorAll(".destination-group .show_all_icon");(null==e?void 0:e.length)&&e.forEach(function(t){var e=t.parentElement,i=e.scrollHeight;e.style.maxHeight=i+"px";if(i>98){t.classList.remove("f_hidden");for(var n=e.children||[],r=n.length-2;r>1&&t.offsetTop>=98;)n[r].classList.add("f_hidden"),r--}}),u.$off("hook:beforeDestroy",c),c()},350)}),c=function(){l(),c=l=null},this.$once("hook:beforeDestroy",c));case 16:case"end":return i.stop()}},i,this)}))}},{key:"chooseLocation",value:function(t){var e=t.svalue,i=t.stype,n=t.title,r=t.city_id,o=t.latlng,a=t.override,s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=arguments.length>2?arguments[2]:void 0;l&&l instanceof Event&&l.stopPropagation(),this.$emit("change",Object.assign(Object.assign({},this.options),{svalue:e,stype:void 0===i?"city":i,latlng:o,title:n,override:a,city_id:void 0===r?"":r}),s)}},{key:"searchSuggest",value:function(t){var e=this;this.timmer&&clearTimeout(this.timmer),this.searchList.length&&(this.searchList=[]),t?this.timmer=setTimeout(function(){e.suggest(t.trim()).then(function(t){var i;e.keyword&&(null===(i=null==t?void 0:t.suggests)||void 0===i?void 0:i.length)&&(e.searchList=Object.assign(t.suggests,{keyword:t.keyword})),e.searchError=!1,e.timmer=null},function(t){t&&"cancel"!==t.message&&(e.searchError=!0,e.timmer=null)})},300):this.timmer=null}}]),r}(X.Vue);(0,J._)([(0,X.Model)("change",{type:Object,default:function(){return{stype:"",svalue:"",override:"",city_id:"",title:"",latlng:""}}})],iD.prototype,"options",void 0),(0,J._)([(0,X.Prop)({type:Object,default:function(){return{}}})],iD.prototype,"geoPosition",void 0),(0,J._)([(0,X.Prop)({type:Boolean})],iD.prototype,"needLocation",void 0),(0,J._)([(0,X.Prop)({type:Function})],iD.prototype,"getCityList",void 0),(0,J._)([(0,X.Prop)({type:Function})],iD.prototype,"suggest",void 0),(0,J._)([(0,X.Prop)({type:[String,Boolean],default:!0})],iD.prototype,"label",void 0),(0,J._)([(0,X.Prop)({type:String})],iD.prototype,"placeholder",void 0),(0,J._)([(0,X.Prop)({type:Array,default:function(){return[]}})],iD.prototype,"historyList",void 0),(0,J._)([(0,X.Prop)({type:Object,default:function(){return{"data-spm-module":"SearchDestination?trg=manual","data-spm-virtual-item":"__virtual?trg=manual"}}})],iD.prototype,"ihtAttrs",void 0),(0,J._)([(0,X.Prop)({type:[Object,String],default:"HotelAPI_SearchStart"})],iD.prototype,"spmPage",void 0),(0,J._)([(0,X.Ref)()],iD.prototype,"searchInput",void 0),(0,J._)([(0,X.Watch)("keyword")],iD.prototype,"searchSuggest",null);var iF=iD=(0,J._)([(0,X.Component)({inheritAttrs:!1,components:{Recommend:iI,Suggest:iR},provide:function(){var t=this;return{getDestinationContext:function(){return t}}}})],iD),iA=i("61292"),iB=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){return(0,J.e)(this,r),n.apply(this,arguments)}return(0,J.f)(r,[{key:"galileoSpm",get:function(){var t,e,i=null===(e=null===(t=this.ihtAttrs)||void 0===t?void 0:t["data-spm-module"])||void 0===e?void 0:e.split("?")[0];return{spm:i,enforce:"post",enable:!!i}}},{key:"show",value:function(){this.$el.firstChild.click()}},{key:"hide",value:function(){var t=document.activeElement;t&&t.blur()}},{key:"focusIn",value:function(t){var e,i,n,r,o=this;this.showLayer?(null===(i=this.searchInput)||void 0===i||i.focus(),(null===(n=this.modalContent)||void 0===n?void 0:n.contains(t.target))?t.stopPropagation():(null===(r=this.$inhouse)||void 0===r||r.track("action",this.$el),this.searchInput||this.hide())):(this.showLayer=!0,this.$emit("show"),null===(e=this.$inhouse)||void 0===e||e.track("action",this.$el),this.spmStr&&this.modalContent&&setTimeout(function(){var t;null===(t=o.$inhouse)||void 0===t||t.track("pageview",o.modalContent,{force:!0})},200),this.searchInput&&("location"===this.options.stype&&(this.searchInput.value=""),this.searchInput.select()))}},{key:"focusOut",value:function(t){var e=this;if(this.$el.contains(document.activeElement))return;if(this.showLayer=!1,this.$emit("hide"),!!this.searchInput)this.searchInput.value!==this.destinationValue&&(this.searchList.length&&["stype","svalue"].some(function(t){return e.searchList[0][t]!==e.options[t]})?this.chooseLocation(this.searchList[0],!1):this.searchInput.value=this.destinationValue),this.keyword=""}},{key:"mounted",value:function(){var t=this;setTimeout(function(){var e,i=t.searchInput||t.$el,n=function(){clearTimeout(e),e=setTimeout(t.focusOut,130)},r=t.$watch("options",function(){t.showLayer&&t.hide(),t.searchInput&&(t.searchInput.value=t.destinationValue)},{immediate:!0});i.addEventListener("blur",n),t.$once("hook:beforeDestroy",function(){r(),i.removeEventListener("blur",n),e=r=i=n=null})},300)}}]),r}(iF);(0,J._)([(0,X.Ref)()],iB.prototype,"modalContent",void 0),iB=(0,J._)([(0,X.Component)({name:"poptip-destination",components:{DestinationContent:iM}})],iB);var iN=(0,iA.Uu)(iB,{spm:"HotelAPI_SearchStart",popupStyle:iA.UI.Popover,watchKey:["showLayer"]});let iH=(0,J.g)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._b({staticClass:"poptip-destination hotel-selector-item",class:{"no-label":!t.label},attrs:{tabindex:"-1"},on:{mouseup:t.focusIn}},"div",t.ihtAttrs,!1),[t._t("default",[t.label?i("p",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.galileoSpm,expression:"galileoSpm"}],staticClass:"hotel-selector-item_name"},[t._v(t._s(t.inputLabel))]):i("klk-icon",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.galileoSpm,expression:"galileoSpm"}],staticClass:"destination-icon",attrs:{size:20,type:"icon_travel_location_fill"}}),t._v(" "),t.suggest?i("input",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.galileoSpm,expression:"galileoSpm"}],ref:"searchInput",staticClass:"hotel-selector-item_value poptip-destination-input",attrs:{type:"search",autocomplete:"off",placeholder:t.inputPlaceholder},on:{input:function(e){t.keyword=e.target.value}}}):i("p",{staticClass:"hotel-selector-item_value",class:{placeholder:!t.destinationValue}},[t._v("\n      "+t._s(t.destinationValue||t.inputPlaceholder)+"\n    ")])],{valueDesc:t.destinationValue}),t._v(" "),i("destination-content")],2)},staticRenderFns:[]},void 0,iN,"data-v-4bc15840",!1,void 0,!1,void 0,void 0,void 0);var iV=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){return(0,J.e)(this,r),n.apply(this,arguments)}return(0,J.f)(r,[{key:"guestLabel",get:function(){var t=this.$attrs.room;return t&&("hide"===t||(null==t?void 0:t.display)==="hide")?this.$t("15753"):this.$t("196535")}},{key:"valueDesc",get:function(){return eY.call(this,this.options)}}]),r}(X.Vue);(0,J._)([(0,X.Prop)({type:Object,default:function(){return{"data-spm-module":"SearchGuestAndRoom?trg=manual","data-spm-virtual-item":"__virtual"}}})],iV.prototype,"ihtAttrs",void 0),(0,J._)([(0,X.Model)("change",{type:Object,default:function(){return{room_num:1,adult_num:2,child_num:0,age:""}}})],iV.prototype,"options",void 0);var iz=iV=(0,J._)([(0,X.Component)({inheritAttrs:!1,components:{Guest:ih}})],iV),iW=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){return(0,J.e)(this,r),n.apply(this,arguments)}return(0,J.f)(r,[{key:"galileoSpm",get:function(){var t,e,i=null===(e=null===(t=this.mergedPoptipProps)||void 0===t?void 0:t["data-spm-module"])||void 0===e?void 0:e.split("?")[0];return{spm:i,enforce:"post",enable:!!i}}},{key:"confirm",value:function(){this.$refs.poptip.hide(),this.$refs.guest.commitGuestInfo()}},{key:"showConfirmBtn",get:function(){return[this.$attrs.syncChange,this.$attrs["sync-change"]].includes(!1)}},{key:"scroll2view",value:function(t){this.$el.querySelector(".klk-poptip-popper-inner").scroll({top:t,behavior:"smooth"})}},{key:"mergedPoptipProps",get:function(){return Object.assign({},eZ,this.poptipProps,this.ihtAttrs)}},{key:"show",value:function(){this.$el.firstChild.click()}}]),r}(iz);(0,J._)([(0,X.Prop)({type:Object,default:function(){return{}}})],iW.prototype,"poptipProps",void 0);var iq=iW=(0,J._)([(0,X.Component)({inheritAttrs:!1,name:"poptip-guest"})],iW);let iU=(0,J.g)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("klk-poptip",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.galileoSpm,expression:"galileoSpm"}],ref:"poptip",staticClass:"poptip-guests",class:{"hotel-selector-item":!t.$scopedSlots.default},attrs:{width:400,"max-height":592},on:{show:function(e){return t.$emit("show")},hide:function(e){return t.$emit("hide")}},scopedSlots:t._u([{key:"content",fn:function(){return[i("client-only",[i("guest",t._b({ref:"guest",attrs:{options:t.options},on:{change:function(e){return t.$emit("change",e)},"collapse-change":t.scroll2view}},"guest",t.$attrs,!1)),t._v(" "),t.showConfirmBtn?i("div",{staticClass:"guest-footer"},[i("klk-button",{attrs:{size:"small"},on:{click:t.confirm}},[t._v(t._s(t.$t("28850")))])],1):t._e()],1)]},proxy:!0}])},"klk-poptip",Object.assign({},t.mergedPoptipProps),!1),[t._t("default",[i("p",{staticClass:"hotel-selector-item_name"},[t._v(t._s(t.guestLabel))]),t._v(" "),i("p",{staticClass:"hotel-selector-item_value"},[t._v(t._s(t.valueDesc))])],{valueDesc:t.valueDesc})],2)},staticRenderFns:[]},void 0,iq,"data-v-e7bf49c4",!1,void 0,!1,void 0,void 0,void 0);var iZ=i("53286"),iG=i("8212"),iY=["check_in","check_out","calendar_type","flexible_date_list","flexible_day","flexible_type"],iK=["destination","calendar","guest"],iX=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.destinationEmptyRemind=!1,t.geoPosition={},t.historyQueryList=[],t.isChange=!1,t.showUpdate=!1,t}return(0,J.f)(r,[{key:"updateSearchBotton",value:function(t){this.needUpdate&&(this.showUpdate=t)}},{key:"autoShowNext",value:function(t){if(!this.isChange){var e=iK.indexOf(t);if(~e){for(;++e<iK.length;)if(this.show(iK[e]))return}}}},{key:"show",value:function(t){if(t){if("string"==typeof t&&iK.includes(t)){var e=this.$refs[t];return e&&setTimeout(e.show,50)}}else this.drawerVisible=!!this.fixedTop}},{key:"updateSearchHistory",value:function(t){var e;this.historyQueryList=null===(e=this.selector)||void 0===e?void 0:e.update(t)}},{key:"onSearch",value:function(t){var e,i;return(0,J.k)(this,void 0,void 0,iE.mark(function n(){var r,o,a,s,l,c,u,d,p,f,h,v,y,m,g=this;return iE.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.$el.querySelector(".poptip-destination-modal")){n.next=3;break}return n.next=3,e9(150);case 3:if(!this.destinationConfig){n.next=14;break}if(o=(r=this.destinationInfo).svalue,r.stype,this.fixedTop){n.next=11;break}if(this.destinationEmptyRemind=!this.$scopedSlots["destination-content"]&&!o,!this.destinationEmptyRemind){n.next=9;break}return n.abrupt("return",setTimeout(this.show,50,"destination"));case 9:n.next=12;break;case 11:this.drawerVisible=!1;case 12:this.isChange=!0,this.needHistory&&2!==this.calendarInfo.calendar_type&&(!this.shouldSaveHistory||this.shouldSaveHistory(this.destinationInfo))&&(l=(s=this.calendarInfo).check_in,c=s.check_out,l&&c&&this.updateSearchHistory({time:[l,c],params:this.guestInfo,location:this.destinationInfo}));case 14:u=Object.assign({},this.paramsInfo),this.calendarConfig&&!1!==this.calendarConfig.flexible&&iY.forEach(function(t){delete u[t]}),d=Object.assign(u,this.calendarInfo,this.guestInfo,this.geoPosition,this.destinationInfo),this.$emit("search",d),t&&t.stopPropagation(),p=(null==t?void 0:t.currentTarget)||(null===(i=null===(e=this.$refs)||void 0===e?void 0:e.searchButton)||void 0===i?void 0:i.$el),f=d.check_in&&d.check_out||void 0,this.$inhouse&&(v=(h=this.destinationInfo).type_desc,y=h.tag_info,m=h.title,this.$inhouse.updateBinding(p,{ext:JSON.stringify({SearchDestinationCityID:d.city_id,SearchDestinationType:d.stype,SearchDestinationTypeID:d.svalue,SearchLeadTime:f&&ti()(d.check_in).diff(ti()().format("YYYY-MM-DD"),"day"),SearchNights:f&&ti()(d.check_out).diff(ti()(d.check_in),"day"),SearchRoom:d.room_num,SearchGuestAdult:d.adult_num,SearchGuestChild:d.child_num,ISDestinationPOI:!1,IsisExclude:!1,DestinationType:e2(v),TagType:e2(null==y?void 0:y.id),SearchCardName:e2(m)})}),setTimeout(function(){g.$inhouse.track("action",p)},10)),this.updateSearchBotton(!1);case 23:case"end":return n.stop()}},n,this)}))}},{key:"selectDestination",value:function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.destinationEmptyRemind=!1,this.destinationInfo=t,e&&this.updateSearchBotton(!0),this.fixedTop?this.onSearch():this.autoNext&&e&&this.autoShowNext("destination")}},{key:"selectHistory",value:function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=JSON.parse(JSON.stringify(t)),n=i.params,r=i.location,o=ts(i.time,2),a=o[0],s=o[1];this.selectDestination(r,!1),this.guestInfo=n,this.calendarInfo={check_in:a,check_out:s},e&&this.updateSearchBotton(!0),this.updateSearchHistory(t)}},{key:"initParams",value:function(){var t=this;if(this.isChange)return this.isChange=!1;var e=void 0;Object.entries(this.getDefaultParams()).forEach(function(i){var n=ts(i,2),r=n[0],o=n[1];Object.keys(o).forEach(function(i){var n=t.paramsInfo[i];n!==e?(i.includes("_num")&&(n=Number(n)),o[i]=n):o[i]===e&&delete o[i]}),t[r]=o})}},{key:"mounted",value:function(){this.destinationConfig&&this.needHistory&&(this.selector=new e3,this.historyQueryList=this.selector.list,!this.fixedTop&&!this.destinationInfo.svalue&&this.historyQueryList.length&&this.selectHistory(this.historyQueryList[0],!1),this.$emit("mounted",this.$refs.destination))}},{key:"getDefaultParams",value:function(){var t={};if(this.calendarConfig&&(t.calendarInfo={check_in:void 0,check_out:void 0,calendar_type:void 0,flexible_type:void 0,flexible_date_list:void 0,flexible_day:void 0}),this.guestConfig){var e=t.guestInfo={room_num:1,adult_num:2,child_num:0,age:""};for(var i in e)"hide"===this.guestConfig[i.replace("_num","")]&&delete e[i]}return this.destinationConfig&&(t.destinationInfo={stype:"",svalue:"",override:"",title:"",city_id:"",latlng:""},this.destinationConfig.needLocation&&(t.geoPosition={longitude:void 0,latitude:void 0})),t}},{key:"getListeners",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(this.$listeners).forEach(function(n){var r=t+"-";0===n.indexOf(r)&&(i[n.replace(r,"")]=e.$listeners[n])}),i}},{key:"conentVnode",get:function(){var t=this,e=this.$createElement;return[this.destinationConfig&&e("klk-poptip",{attrs:{dark:!0,content:this.$t("168450"),value:this.destinationEmptyRemind,placement:"top-start",trigger:"none"},class:"poptip-destination"},[e("destination",ib([{ref:"destination",attrs:{options:this.destinationInfo,geoPosition:this.geoPosition,historyList:this.historyQueryList}},{attrs:Object.assign({},this.destinationConfig,this.$attrs)},{},{on:this.getListeners("destination",{change:this.selectDestination,"clear-history":this.updateSearchHistory,"select-history":function(e){return t.selectHistory(e,!0)},"geo-position":function(e){return t.$emit("created",t.geoPosition=e)}})},{scopedSlots:{default:this.$scopedSlots.destination,content:this.$scopedSlots["destination-content"]}}]))]),["calendar","guest"].map(function(i){var n=t[i+"Config"];if(n){var r=i+"Info";return e(i,ib([{},{attrs:Object.assign({},n,t.$attrs)},{ref:i,attrs:{options:t[r]},key:i},{on:t.getListeners(i,{change:function(e){t[r]=e;var n="guest"===i;t.autoNext&&"calendar"===i&&(e.check_in||e.flexible_date_list)&&(n=!0,e.check_in&&t.autoShowNext("calendar")),t.updateSearchBotton(n)},update:function(e){t.updateSearchBotton(!0),t.autoNext&&"calendar"===i&&Array.isArray(e)&&t.autoShowNext("guest")}})},{scopedSlots:"function"==typeof t.$scopedSlots[i]?{default:t.$scopedSlots[i]}:{}}]))}}),e("klk-button",ib([{class:"hotel-selector-button",ref:"searchButton"},{directives:[{name:"galileo-click-tracker",value:{spm:"SearchButton"}}]},{attrs:{"data-spm-module":"SearchButton?trg=manual","data-spm-virtual-item":"__virtual?trg=manual&typ=entry",type:"primary",size:"large"},nativeOn:{click:this.onSearch}}]),[this.needUpdate?this.showUpdate?e(iZ.Z):e(iG.Z):this.showIcon&&e(iG.Z),this.needUpdate&&this.showUpdate?this.$t("195094"):this.$t("168432")])]}}]),r}(X.Vue);(0,J._)([(0,X.Prop)({type:Boolean,default:!1})],iX.prototype,"needHistory",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!1})],iX.prototype,"needUpdate",void 0),(0,J._)([(0,X.Prop)({type:Function})],iX.prototype,"shouldSaveHistory",void 0),(0,J._)([(0,X.Prop)({type:Object,default:function(){return null}})],iX.prototype,"destinationConfig",void 0),(0,J._)([(0,X.Prop)({type:Object,default:function(){return{}}})],iX.prototype,"guestConfig",void 0),(0,J._)([(0,X.Prop)({type:Object,default:function(){return{}}})],iX.prototype,"calendarConfig",void 0),(0,J._)([(0,X.Model)("search",{type:Object,default:function(){return{}}})],iX.prototype,"paramsInfo",void 0),(0,J._)([(0,X.Watch)("paramsInfo",{immediate:!0})],iX.prototype,"initParams",null);var iJ=iX=(0,J._)([(0,X.Component)({inheritAttrs:!1,data:function(){return this.getDefaultParams()},components:{IconRefresh:iZ.Z,IconSearch:iG.Z}})],iX),iQ=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){return(0,J.e)(this,r),n.apply(this,arguments)}return(0,J.f)(r,[{key:"render",value:function(){var t=arguments[0];return t("div",{class:"hotel-selector hotel-selector-desktop"},[this.conentVnode])}}]),r}(iJ);(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],iQ.prototype,"autoNext",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],iQ.prototype,"needUpdate",void 0),(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],iQ.prototype,"showIcon",void 0);var i0=iQ=(0,J._)([(0,X.Component)({name:"selector-desktop",components:{Calendar:iC,Guest:iU,Destination:iH}})],iQ);let i1=(0,J.g)({},void 0,i0,"data-v-3eefecfa",void 0,void 0,!1,void 0,void 0,void 0);var i2=i("10378"),i4=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.inputValue="",t}return(0,J.f)(r,[{key:"galileoSpm",get:function(){var t,e,i=null===(e=null===(t=this.ihtAttrs)||void 0===t?void 0:t["data-spm-module"])||void 0===e?void 0:e.split("?")[0];return{spm:i,enable:!!i}}},{key:"hide",value:function(){this.showLayer=!1,this.$emit("hide")}},{key:"clearKeywords",value:function(){this.keyword=this.inputValue="",this.searchInput.focus()}},{key:"optionsChange",value:function(t){var e=t.stype;this.showLayer&&this.hide(),this.inputValue="location"===e?"":this.destinationValue,this.keyword=""}},{key:"show",value:function(){var t,e=this;this.showLayer=!0,this.$emit("show"),null===(t=this.$inhouse)||void 0===t||t.track("action",this.$el),setTimeout(function(){var t,i;e.bottomSheet||window.scrollTo(0,0),e.spmStr&&(null===(t=e.$inhouse)||void 0===t||t.track("pageview",e.$refs.pageLayer.$el,{force:!0})),null===(i=e.searchInput)||void 0===i||i.focus()},350)}}]),r}(iF);(0,J._)([(0,X.Prop)({type:Boolean,default:!1})],i4.prototype,"bottomSheet",void 0),(0,J._)([(0,X.Watch)("options",{immediate:!0})],i4.prototype,"optionsChange",null),i4=(0,J._)([(0,X.Component)({name:"layer-destination",components:{PageLayer:function(){return Promise.resolve().then(i.bind(i,93854))},IconSearch:iG.Z,IconPosition:i2.Z}})],i4);var i5=(0,iA.Uu)(i4,{spm:"HotelAPI_SearchStart",popupStyle:iA.UI.BottomSheet,watchKey:["showLayer"]});let i9=(0,J.g)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.galileoSpm,expression:"galileoSpm"}],staticClass:"layer-destination",class:{"hotel-selector-item":!t.$scopedSlots.default,"no-label":!t.label},on:{click:t.show}},"div",t.ihtAttrs,!1),[t._t("default",[i("IconSearch"),t._v(" "),i("p",{staticClass:"selector_item_value",class:{placeholder:!t.destinationValue}},[t._v("\n      "+t._s(t.destinationValue||t.inputPlaceholder)+"\n    ")])],{valueDesc:t.destinationValue}),t._v(" "),i("client-only",[i(t.bottomSheet?"klk-bottom-sheet":"page-layer",{ref:"pageLayer",tag:"component",attrs:{visible:t.showLayer,title:t.$t("168448"),"delay-time":0,height:"90%",transfer:"","header-bottom":"","data-spm-page":t.spmStr},on:{"update:visible":function(e){t.showLayer=e},close:t.hide}},[t._t("header-right",null,{slot:"header-right",chooseLocation:t.chooseLocation}),t._v(" "),i("div",{staticClass:"destination_container",class:{"layer-destination-container":!t.bottomSheet}},[t.suggest?i("div",{staticClass:"destination_search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"searchInput",staticClass:"destination_search_input",attrs:{placeholder:t.inputPlaceholder,autocomplete:"off",type:"text"},domProps:{value:t.inputValue},on:{input:[function(e){if(!e.target.composing)t.inputValue=e.target.value},function(e){t.keyword=e.target.value}]}}),t._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t.inputValue,expression:"inputValue"}],staticClass:"destination_search_clear",attrs:{xmlns:"http://www.w3.org/2000/svg",size:20,viewBox:"0 0 24 24"},on:{click:t.clearKeywords}},[i("path",{attrs:{fill:"#D1D1D1",d:"M19 12c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7 7 3.134 7 7zm-8.97-3.03c-.293-.293-.767-.293-1.06 0-.293.292-.293.768 0 1.06L10.94 12l-1.97 1.97c-.293.292-.293.768 0 1.06.293.293.767.293 1.06 0L12 13.06l1.97 1.97c.293.293.767.293 1.06 0 .293-.292.293-.768 0-1.06L13.06 12l1.97-1.97c.293-.292.293-.768 0-1.06-.293-.293-.767-.293-1.06 0L12 10.94l-1.97-1.97z"}})])]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.keyword,expression:"!keyword"}],ref:"destinationRecommend"},[t._t("content",[t.destinationList.length?i("recommend"):t._e()],null,{chooseLocation:t.chooseLocation,destinationList:t.destinationList})],2),t._v(" "),t.keyword?[t.searchList&&t.searchList.length?i("suggest"):i("div",{staticClass:"suggest-empty"},[t.timmer?i("klk-loading",{attrs:{showOverlay:!1}}):t.searchError?[i("img",{attrs:{src:"https://res.klook.com/image/upload/Group_3880_b3obts.png",width:"170",alt:"error image"}}),t._v(" "),i("p",[t._v(t._s(t.$t("168460")))]),t._v(" "),i("klk-button",{on:{click:function(e){return t.searchSuggest(t.keyword)}}},[t._v(t._s(t.$t("16582")))])]:[i("img",{attrs:{src:"https://res.klook.com/image/upload/v1657158870/pcdpb2gqttqatpagckq5.png",width:"130",alt:"empty image"}}),t._v(" "),i("p",[t._v(t._s(t.$t("168462",{search_term:t.keyword})))])]],2)]:t._e()],2)],2)],1)],2)},staticRenderFns:[]},void 0,i5,"data-v-331d6b48",!1,void 0,!1,void 0,void 0,void 0);var i3=i("5002"),i6=null,i8=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.isMobile=!0,t.showCalendar=!1,t.showSelectTip=!1,t}return(0,J.f)(r,[{key:"onClose",value:function(){this.showCalendar=!1,this.singleCheckIn=null,this.$emit("hide"),this.confirmIsChange()&&(this.isChange=!1,this.initDateOption())}},{key:"onConfirm",value:function(){this.commitTravelDate(),this.showCalendar=!1,this.$emit("confirm",this.getPostData())}},{key:"valueDesc",get:function(){return eJ.call(this,this.options)}},{key:"galileoSpm",get:function(){var t,e,i=null===(e=null===(t=this.ihtAttrs)||void 0===t?void 0:t["data-spm-module"])||void 0===e?void 0:e.split("?")[0];return{spm:i,enable:!!i}}},{key:"selectedDateTip",get:function(){return this.singleCheckIn?this.$t("79979"):this.isValid?eQ.call(this,[this.calendarOptions.check_in,this.calendarOptions.check_out]):this.$t("168459")}},{key:"isShowSelectedTip",value:function(t){return!!this.singleCheckIn&&this.singleCheckIn===t||!!this.isChange&&!!this.calendarOptions.check_out&&e6(this.calendarOptions.check_out).setHours(0)===t.valueOf()||!1}},{key:"showSelectedTip",value:function(){var t=this;clearTimeout(i6),this.showSelectTip=!0,i6=setTimeout(function(){t.showSelectTip=!1},3e3),this.$nextTick(function(){var t=document.querySelector(".hotel-calendar-mobile .hotel-calendar-date-selected-tip");t&&!(null==t?void 0:t.style.transform)&&t.__vue__.updatePopper()})}},{key:"show",value:function(){this.showCalendar=!0,this.$emit("show",this.calendarOptions),this.getDailyPriceInfo()}},{key:"render",value:function(){var t=this,e=arguments[0],i="function"==typeof this.$scopedSlots.default;return e("div",ib([{class:["layer-calendar",!i&&"hotel-selector-item"]},{directives:[{name:"galileo-click-tracker",value:this.galileoSpm}]},{},{attrs:this.ihtAttrs},{on:{click:this.show}}]),[i?this.$scopedSlots.default({valueDesc:this.valueDesc}):[e(i3.Z),e("p",{class:"selector_item_value",domProps:{innerHTML:this.valueDesc}})],e("client-only",[e("klk-bottom-sheet",{attrs:{transfer:!0,height:"90%",visible:this.showCalendar,delayTime:0},on:{close:this.onClose}},[e("div",{slot:"header"},[this.renderTab()]),this.loading?e("klk-loading"):this.showCalendar&&[this.renderCalendar({scopedSlots:{day:function(i){var n=i.date,r=i.selected;if(t.showSelectTip&&r&&t.isShowSelectedTip(n)){var o=ti()(n),a=[e("span",{class:"klk-date-picker-date-main"},[e("span",{class:"klk-date-picker-date-inner"},[e("klk-poptip",{class:"hotel-calendar-date-selected-tip",props:{dark:!0,placement:"top",value:!0,trigger:"none",content:t.selectedDateTip,offset:[0,12],flip:!0,preventOverflow:!0,arrow:!1}},o.format("D"))])])];return t.finalDailyPriceInfo&&t.finalDailyPriceInfo[o.format("YYYY-MM-DD")]&&a.push(e("span",{class:"klk-date-picker-date-append"},t.finalDailyPriceInfo[o.format("YYYY-MM-DD")])),a}},footer:this.$scopedSlots.tip?function(){var e,i;return null===(i=(e=t.$scopedSlots).tip)||void 0===i?void 0:i.call(e)}:void 0},on:{}}),this.renderFlexible()],!this.loading&&e("div",ib([{slot:"footer"},{directives:[{name:"galileo-click-tracker",value:"SearchDate"}]},{class:"calendar-footer",attrs:{"data-spm-module":"SearchDate?trg=manual"}}]),[this.clearable&&e("klk-button",{attrs:{type:"text",disabled:this.clearableBtnDisabled},on:{click:this.clearDates}},[this.$t("47258")]),e("klk-button",{attrs:{type:"primary",block:!this.clearable,disabled:this.confirmBtnDisabled},nativeOn:{click:this.onConfirm},style:"min-width: 240px"},[this.$t("28850"),"flexibleOptions"!==this.tabName&&this.diffDayText])])])])])}},{key:"mounted",value:function(){var t=this,e=this.$watch("showCalendar",function(i){i&&t.$nextTick(function(){var i,n,r=null===(n=null===(i=t.$refs.simpleCalendar)||void 0===i?void 0:i.$refs)||void 0===n?void 0:n.datePicker;r&&setTimeout(function(){r.scrollToCurrentMonth()},200),e(),e=null})})}}]),r}(ik);(0,J._)([(0,X.Prop)({type:Boolean,default:!0})],i8.prototype,"hasConfirm",void 0);var i7=i8=(0,J._)([(0,X.Component)({name:"layer-calendar",components:{IconCalendar:i3.Z}})],i8);let nt=(0,J.g)({},void 0,i7,"data-v-c9c66fc4",void 0,void 0,!1,void 0,void 0,void 0);var ne=i("17779"),ni=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.showLayer=!1,t}return(0,J.f)(r,[{key:"galileoSpm",get:function(){var t,e,i=null===(e=null===(t=this.ihtAttrs)||void 0===t?void 0:t["data-spm-module"])||void 0===e?void 0:e.split("?")[0];return{spm:i,enable:!!i}}},{key:"show",value:function(){this.showLayer=!0,this.$emit("show")}},{key:"scroll2view",value:function(t){this.$refs.guest.$el.parentElement.scroll({top:t,behavior:"smooth"})}},{key:"cancel",value:function(){this.showLayer=!1,this.$emit("hide");var t=this.$refs.guest;this.$emit("hide"),t&&t.isChange&&(t.isChange=!1,t.initGuestConfig())}},{key:"confirm",value:function(){this.showLayer=!1,this.$emit("hide"),this.$refs.guest.commitGuestInfo()}}]),r}(iz),nn=ni=(0,J._)([(0,X.Component)({inheritAttrs:!1,name:"layer-guest",components:{IconUser:ne.Z}})],ni);let nr=(0,J.g)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.galileoSpm,expression:"galileoSpm"}],staticClass:"layer-guest",class:{"hotel-selector-item":!t.$scopedSlots.default},on:{click:t.show}},"div",t.ihtAttrs,!1),[t._t("default",[i("IconUser"),t._v(" "),i("p",{staticClass:"selector_item_value"},[t._v(t._s(t.valueDesc))])],{valueDesc:t.valueDesc}),t._v(" "),i("client-only",[i("klk-bottom-sheet",{attrs:{title:t.guestLabel,"header-divider":"",transfer:"",height:"70%",visible:t.showLayer,"delay-time":0},on:{close:t.cancel}},[i("guest",t._b({ref:"guest",attrs:{"sync-change":!1,platform:"mobile",options:t.options},on:{change:function(e){return t.$emit("change",e)},"collapse-change":t.scroll2view}},"guest",t.$attrs,!1)),t._v(" "),i("klk-button",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"SearchGuestAndRoomConfirm"},expression:"{spm: 'SearchGuestAndRoomConfirm'}"}],staticClass:"conmirm-button",attrs:{slot:"footer",block:"","data-spm-virtual-item":"__virtual","data-spm-module":"SearchGuestAndRoomConfirm?trg=manual"},on:{click:t.confirm},slot:"footer"},[t._v("\n        "+t._s(t.$t("11976"))+"\n      ")])],1)],1)],2)},staticRenderFns:[]},void 0,nn,"data-v-25f1825c",!1,void 0,!1,void 0,void 0,void 0);var no=function(t){(0,J.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,J.b)(e);return t=i?Reflect.construct(n,arguments,(0,J.b)(this).constructor):n.apply(this,arguments),(0,J.d)(this,t)});function r(){var t;return(0,J.e)(this,r),t=n.apply(this,arguments),t.drawerVisible=!1,t}return(0,J.f)(r,[{key:"searchCancel",value:function(){if(this.drawerVisible=!1,!this.isChange)this.initParams(),this.$emit("cancel")}},{key:"renderCalendarDesc",value:function(){var t=this.$createElement,e=eJ.call(this,this.paramsInfo,!1);return e.includes(" - ")?e.split(" - ").map(function(e){return t("div",{class:"date-item"},[e])}):e}},{key:"render",value:function(){var t,e=this,i=arguments[0],n=this.conentVnode;this.fixedTop&&(t=this.conentVnode[0].componentOptions.children[0],n=this.conentVnode.slice(1),t.data.scopedSlots.default=function(t){var e=t.valueDesc;return i("div",{class:"entrance-desc destination-entrance"},[i("klk-icon",{attrs:{type:"icon_edit_search_s",size:"16",color:"#8A8A8A"}}),e])});var r=i("div",{class:"hotel-selector hotel-selector-mobile"},[n]);return this.fixedTop?i("div",{class:"hotel-drawer-selector-mobile"},[i("div",{class:"drawer-selector-container"},[i("div",{class:"drawer-selector-wraper"},[i("div",{class:"entrance-desc selector-entrance",on:{click:function(){return e.drawerVisible=!e.drawerVisible}}},[this.renderCalendarDesc()]),i("span",{class:"split-line"},["|"]),t])]),i("client-only",[i("klk-drawer",ib([{class:"selector-drawer",style:"z-index: 15; top: ".concat(this.fixedTop,"px"),attrs:{visible:this.drawerVisible,direction:"top"}},{on:{close:this.searchCancel}}]),[r])])]):r}}]),r}(iJ);(0,J._)([(0,X.Prop)({type:Number,default:0})],no.prototype,"fixedTop",void 0),no=(0,J._)([(0,X.Component)({name:"selector-mobile",components:{Calendar:nt,Guest:nr,Destination:i9}})],no);var na=i("74101"),ns=i("7283"),nl=i("57848"),nc=i("89301"),nu=i("33153"),nd=i("26447"),np=i("9214"),nf=i("18985"),nh=i("28823"),nv=i("98167"),ny=i("41185"),nm=i("96486"),ng=i(34155),n_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function nb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nx(t,e){return t(e={exports:{}},e.exports),e.exports}var nk=nx(function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),nw=nb(nk),nS=nx(function(t){var e=nk.default;t.exports=function(t,i){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,i||"default");if("object"!==e(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nS);var nC=nx(function(t){var e=nk.default;t.exports=function(t){var i=nS(t,"string");return"symbol"===e(i)?i:String(i)},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nC);var nO=nb(nx(function(t){function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nC(n.key),n)}}t.exports=function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports})),nP=nb(nx(function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports})),n$=nx(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});nb(n$);var nL=nb(nx(function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n$(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports})),nE=nx(function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nE);var nT=nb(nx(function(t){var e=nk.default;t.exports=function(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return nE(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),nj=nb(nx(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));function nI(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}function nR(t,e,i,n){return new(i||(i=Promise))(function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((n=n.apply(t,e||[])).next())})}var nM=nx(function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nM);var nD=nx(function(t){t.exports=function(t){if(Array.isArray(t))return nM(t)},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nD);var nF=nx(function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nF);var nA=nx(function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return nM(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nM(t,e)}},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nA);var nB=nx(function(t){t.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nB);var nN=nb(nx(function(t){t.exports=function(t){return nD(t)||nF(t)||nA(t)||nB()},t.exports.__esModule=!0,t.exports.default=t.exports}));function nH(){return(nH=Object.assign?Object.assign.bind():function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}var nV=["attrs","props","domProps"],nz=["class","style","directives"],nW=["on","nativeOn"],nq=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}},nU=function(t){return t.reduce(function(t,e){for(var i in e)if(t[i]){if(-1!==nV.indexOf(i))t[i]=nH({},t[i],e[i]);else if(-1!==nz.indexOf(i)){var n=t[i]instanceof Array?t[i]:[t[i]],r=e[i]instanceof Array?e[i]:[e[i]];t[i]=[].concat(n,r)}else if(-1!==nW.indexOf(i))for(var o in e[i])if(t[i][o]){var a=t[i][o]instanceof Array?t[i][o]:[t[i][o]],s=e[i][o]instanceof Array?e[i][o]:[e[i][o]];t[i][o]=[].concat(a,s)}else t[i][o]=e[i][o];else if("hook"===i)for(var l in e[i])t[i][l]=t[i][l]?nq(t[i][l],e[i][l]):e[i][l];else t[i]=e[i]}else t[i]=e[i];return t},{})},nZ=nx(function(t){var e=nk.default;function i(){t.exports=i=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,i){return t[e]=i}}function p(t,e,i,n){var r=Object.create((e&&e.prototype instanceof v?e:v).prototype);return a(r,"_invoke",{value:function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return $()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=function t(e,i){var n=i.method,r=e.iterator[n];if(void 0===r)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=void 0,t(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,h;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,h):a:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,h)}(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=f(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,new O(n||[]))}),r}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var h={};function v(){}function y(){}function m(){}var g={};d(g,l,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(P([])));b&&b!==r&&o.call(b,l)&&(g=b);var x=m.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach(function(e){d(t,e,function(t){return this._invoke(e,t)})})}function w(t,i){var n;a(this,"_invoke",{value:function(r,a){function s(){return new i(function(n,s){!function n(r,a,s,l){var c=f(t[r],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==e(d)&&o.call(d,"__await")?i.resolve(d.__await).then(function(t){n("next",t,s,l)},function(t){n("throw",t,s,l)}):i.resolve(d).then(function(t){u.value=t,s(u)},function(t){return n("throw",t,s,l)})}l(c.arg)}(r,a,n,s)})}return n=n?n.then(s,s):s()}})}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:$}}function $(){return{value:void 0,done:!0}}return y.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:y,configurable:!0}),y.displayName=d(m,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,d(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},n.awrap=function(t){return{__await:t}},k(w.prototype),d(w.prototype,c,function(){return this}),n.AsyncIterator=w,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new w(p(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(x),d(x,u,"Generator"),d(x,l,function(){return this}),d(x,"toString",function(){return"[object Generator]"}),n.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},n}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports});nb(nZ);var nG=nZ();try{regeneratorRuntime=nG}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=nG:Function("r","regeneratorRuntime = r")(nG)}var nY=null,nK=null,nX=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nR(void 0,void 0,void 0,nG.mark(function i(){var n,r,o;return nG.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,null===(n=t.$axios)||void 0===n?void 0:n.$get("/v2/hotelapiserv/hotelapi/destination",{params:e,throwError:!0}).catch(function(){});case 2:return o=i.sent,i.abrupt("return",(null===(r=null==o?void 0:o.result)||void 0===r?void 0:r.destination)||[]);case 4:case"end":return i.stop()}},i)}))},nJ=nb(nx(function(t){t.exports=function(t,e,i){return(e=nC(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.__esModule=!0,t.exports.default=t.exports})),nQ=nx(function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports});nb(nQ);var n0=nx(function(t){t.exports=function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports});nb(n0);var n1=nx(function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});nb(n1);var n2=nb(nx(function(t){t.exports=function(t,e){return nQ(t)||n0(t,e)||nA(t,e)||n1()},t.exports.__esModule=!0,t.exports.default=t.exports}));function n4(){return document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop}var n5=Object.assign(function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];switch(e=t,Object.prototype.toString.call(e).slice(8,-1).toLocaleLowerCase()){case"object":return n5.obj2str.apply(n5,[t].concat(n));case"string":return n5.str2obj.apply(n5,[t].concat(n));default:return t}},{str2obj:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.slice(t.indexOf("?")+1).split("&").reduce(function(t,n){var r=n2(n.split("="),2),o=r[0],a=r[1];return e&&/^-?\d+(\.\d+)?$/.test(a)&&(a=+a),t[o]&&i?Array.isArray(t[o])?t[o].push(a):t[o]=[t[o],a]:t[o]=a,t},{})},obj2str:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="",r=function(e){var r=t[e];!r&&"number"!=typeof r&&(r=""),n+="&"+(i&&"object"===nw(r)?Array.isArray(r)?r.map(function(t){return n5.obj2str(nJ({},e,t),!1,!0)}).join("&"):n5.obj2str(r,!1,!0):"".concat(e,"=").concat(r.toString()))};for(var o in t)r(o);return n.replace(/^&/,e?"?":"")}}),n9=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.createElement("a");e.href=t,e.target="_blank",Object.assign(e.style,{opacity:0,position:"absolute",left:"-10000px"}),document.body.appendChild(e),e.click(),setTimeout(function(){return document.body.removeChild(e)})};function n3(t){var e=(t||"0").toString(),i="";if(e.includes(".")){var n=e.split(".");i="".concat(n[0].toString().replace(/(?=(?!(\b))(\d{3})+$)/g,","),".").concat(n[1])}else i=e.replace(/(?=(?!(\b))(\d{3})+$)/g,",");return i}var n6=function(t){var e=t.calendar_type,i=t.check_in,n=t.check_out,r=t.flexible_day;return{onlyDate:(!e||1===e&&!r)&&!!i&&!!n}},n8=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.paramsInfo={},t}return nO(r,[{key:"selectorOptions",get:function(){var t=this;return{needHistory:!0,calendarConfig:{maxDate:this.dateRange},destinationConfig:{needLocation:!0,suggest:this.getHotelSuggest||function(e){var i,n;return i=t,n=e,nY&&(nY("cancel"),nY=null),"string"==typeof n&&(n={keyword:n}),i.$axios.$get("/v2/hotelapiserv/hotelapi/suggest",{params:n,cancelToken:new i.$axios.CancelToken(function(t){nY=t})}).then(function(t){var e;return(nY=null,t.success&&Array.isArray(null===(e=t.result)||void 0===e?void 0:e.suggests))?t.result:{suggests:[]}})},getCityList:this.getDestinationList||function(e){return nX(t,e)}}}}},{key:"jumpListPage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";if(this.$router&&this.$route&&["HotelDetail","HotelSearchResult","HotelCityHub"].includes(this.$route.name)){var i=this.$route,n=i.name,r=i.params,o=i.query;this.$router[e]({query:Object.assign(Object.assign({},o),t),params:r,name:"push"===e?"HotelSearchResult":n})}else{var a=Object.assign({},t);Object.keys(a).forEach(function(t){var e=a[t];![void 0,null,!1].includes(e)&&(a[t]=window.encodeURIComponent(e))}),window.location.href=this.$href("/hotels/searchresult/?")+n5(a)}}}]),r}(X.Vue);nI([(0,X.Prop)({type:Function,default:null})],n8.prototype,"getHotelSuggest",void 0),nI([(0,X.Prop)({type:Function,default:null})],n8.prototype,"getDestinationList",void 0),nI([(0,X.Prop)({type:Number,default:365})],n8.prototype,"dateRange",void 0);var n7=n8=nI([(0,X.Component)({})],n8),rt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},re="object"==typeof n_&&n_&&n_.Object===Object&&n_,ri="object"==typeof self&&self&&self.Object===Object&&self,rn=re||ri||Function("return this")(),rr=function(){return rn.Date.now()},ro=rn.Symbol,ra=Object.prototype,rs=ra.hasOwnProperty,rl=ra.toString,rc=ro?ro.toStringTag:void 0,ru=function(t){var e=rs.call(t,rc),i=t[rc];try{t[rc]=void 0;var n=!0}catch(t){}var r=rl.call(t);return n&&(e?t[rc]=i:delete t[rc]),r},rd=Object.prototype.toString,rp=ro?ro.toStringTag:void 0,rf=function(t){var e;if(null==t)return void 0===t?"[object Undefined]":"[object Null]";return rp&&rp in Object(t)?ru(t):(e=t,rd.call(e))},rh=function(t){var e;return"symbol"==typeof t||null!=(e=t)&&"object"==typeof e&&"[object Symbol]"==rf(t)},rv=0/0,ry=/^\s+|\s+$/g,rm=/^[-+]0x[0-9a-f]+$/i,rg=/^0b[01]+$/i,r_=/^0o[0-7]+$/i,rb=parseInt,rx=function(t){if("number"==typeof t)return t;if(rh(t))return rv;if(rt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ry,"");var i=rg.test(t);return i||r_.test(t)?rb(t.slice(2),i?2:8):rm.test(t)?rv:+t},rk=Math.max,rw=Math.min,rS=function(t,e,i){var n,r,o,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof t)throw TypeError("Expected a function");function f(e){var i=n,o=r;return n=r=void 0,c=e,a=t.apply(o,i)}e=rx(e)||0,rt(i)&&(u=!!i.leading,o=(d="maxWait"in i)?rk(rx(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p);function h(t){var i=t-l,n=t-c;return void 0===l||i>=e||i<0||d&&n>=o}function v(){var t,i,n,r,a=rr();if(h(a))return y(a);s=setTimeout(v,(i=(t=a)-l,n=t-c,r=e-i,d?rw(r,o-n):r))}function y(t){return(s=void 0,p&&n)?f(t):(n=r=void 0,a)}function m(){var t,i=rr(),o=h(i);if(n=arguments,r=this,l=i,o){if(void 0===s){;return c=t=l,s=setTimeout(v,e),u?f(t):a}if(d)return clearTimeout(s),s=setTimeout(v,e),f(l)}return void 0===s&&(s=setTimeout(v,e)),a}return m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=r=s=void 0},m.flush=function(){return void 0===s?a:y(rr())},m},rC=function(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw TypeError("Expected a function");return rt(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),rS(t,e,{leading:n,maxWait:e,trailing:r})};function rO(){return(rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var rP=void 0!==ng&&null!=ng.versions&&null!=ng.versions.node,r$=function(t,e){void 0===e&&(e=!0);var i="#eee";return e&&(i+=" center/25% no-repeat url('"+(+t>480?"https://res.klook.com/image/upload/v1680841404/lstvhfq9iw4eajqsx1ny.png":"https://res.klook.com/image/upload/v1680841485/le80gkydszwtb6lligdp.png")+"')"),i},rL=function(t){var e={320:"",74:"small/",117:"medium/",800:"bigger/",1024:"xl/"},i=Object.keys(e).sort(function(t,e){return+t-+e}).find(function(e){return+e>t})||800;return e[i]},rE=function(t,e){if(!e||!e.width)return t;var i=parseInt(e.width),n=t;switch(!0){case/[p0|p1|osp|vfile]\.meituan\.net/.test(t):n=t.replace(/\.meituan\.net\/([\d\.]+\/)?/,".meituan.net/"+i+".0/");break;case/[pix8|pix6]\.agoda\.net/.test(t):n=t.includes("?")?t+="&s="+i+"x"+i:t+="?s="+i+"x"+i;break;case/[cf|q-xx]\.bstatic\.com/.test(t):n=t.replace(/xdata\/images\/(xphoto|hotel)(\/max\d+|\/\d+x\d+)?/,"xdata/images/$1/max"+i);break;case/i\.travelapi\.com/.test(t):n=""+t+(t.includes("?")?"&":"?")+"impolicy=resizecrop&rw="+i+"&ra=fit";break;case/photos\.hotelbeds\.com/.test(t):n=t.replace(/giata\/(small\/|medium\/|bigger\/|xl\/|original\/)?/,"giata/"+rL(i));break;case/dimg04\.c-ctrip\.com/.test(t):i=375===i?390:i,n=/_(R|W)_\d+_\d+/.test(t)?t.replace(/_(R|W)_\d+_\d+/,"_W_"+i+"_"+i):t.replace(/\.(\w+)$/,"_W_"+i+"_"+i+".$1")}return n},rT=[64,128,256,375,640,750,828,1080,1200,1920,2048,3840];function rj(t,e){if(!t)return t;if(e.width&&!e.height&&(e.width=rT.find(function(t){return t>=Number(e.width)})||e.width),!t.includes("res.klook.com"))return rE(t,e);if(t.includes("fl_lossy.progressive"))return t;var i=["fl_lossy.progressive","c_fill","f_auto"].concat(e.params||[]);return e.width&&i.push("w_"+e.width),e.height&&i.push("h_"+e.height),i.push("q_"+(e.quality||85)),t=t.replace("image/upload","image/upload/"+i.join(","))}var rI=function(){return performance?performance.now():Date.now()},rR=function(t,e){void 0===e&&(e=1);var i=window.$klook||(null==(r=t.__vue__)?void 0:r.$root);if(!!(null!=t&&t.src)&&!!(null!=i&&i.$sentry)){var n=t.dataset.visible;try{var r,o,a=i.$sentry.getCurrentHub().startTransaction({name:"ImgPerf",op:(null==(o=i.$route)?void 0:o.name)||"default"}),s=n?+((rI()-+n)/1e3).toFixed(1):0;if(a.setTag("img.host",new URL(t.src).hostname),a.setData("img.src",t.src),e){a.setHttpStatus(200),a.finish(a.startTimestamp+(s>0?s:0));return}fetch&&fetch(t.src,{method:"HEAD"}).then(function(t){return a.setHttpStatus(t.status)}).catch(function(t){a.setHttpStatus(0),a.setData("img.err",t.toString())}).finally(function(){a.finish(a.startTimestamp)})}catch(t){}}},rM=function(t,e){var i=new Image;i.fetchPriority="low",i.onload=function(){return"function"==typeof e&&e(!0)},i.onerror=function(){return"function"==typeof e&&e(!1)},i.src=t},rD=!1;if(!rP&&"function"==typeof IntersectionObserver){var rF=new IntersectionObserver(function(t){t.forEach(function(t){if(t.intersectionRatio<=0)return;var e=t.target,i=e.dataset.src;if(!!i){if(e.src===i){rF.unobserve(e);return}e.alt=e.dataset.alt||"",e.src=i,rF.unobserve(e)}})},{rootMargin:"500px",threshold:.1}),rA=new IntersectionObserver(function(t){t.forEach(function(t){if(!(t.intersectionRatio<=0)){var e,i=t.target;i.dataset.visible=null==(e=rI())?void 0:e.toFixed(1),rA.unobserve(i),!i.src&&(i.src=i.dataset.src,i.alt=i.dataset.alt||"",rF.unobserve(i))}})},{threshold:.1});O={observe:function(t,e){rA.observe(t),e&&rF.observe(t)},unObserve:function(t,e){rA.observe(t),e&&rF.observe(t)}}}var rB={name:"k-img",props:{width:{type:[String,Number]},height:{type:[String,Number]},priority:{type:Boolean},src:{type:String},config:{type:[Object,Boolean],default:null},loading:{type:String},placeholder:{type:Boolean,default:!0},alt:{type:String},zoom:{type:Number,default:3}},computed:{realSrc:function(){if(!1===this.config)return this.src;var t=Object.assign({},this.config||this.$props);return!t.width&&!t.height&&(t.width=this.width?this.width*this.zoom:void 0,t.height=this.height?this.height*this.zoom:void 0),rj.call(this,this.src,t)},isCustomLazy:function(){return!(this.priority||["lazy","eager"].includes(this.loading))}},created:function(){if(!!this.priority&&!!rP){var t="_vueMeta";this[t]=!0;for(var e=this.$parent,i=this.$root;e&&e!==i;)void 0===e[t]&&(e[t]=!1),e=e.$parent;this.$options.head=this.$metaInfo={link:[{rel:"preload",as:"image",href:this.realSrc,fetchpriority:"high"}]}}},render:function(t){if(!this.src)return null;var e=rO({decoding:"async"},this.$attrs,{src:this.realSrc}),i={objectFit:"cover",background:r$(this.width,this.placeholder),width:+this.width?this.width+"px":this.width||"100%",height:+this.height?this.height+"px":this.height||"100%"};this.isCustomLazy?(e.src=void 0,e["data-src"]=this.realSrc,e["data-alt"]=this.alt||""):(e.loading=this.loading,e.alt=this.alt||"");var n=t("img",{style:i,attrs:e,on:{load:this.onLoad,error:this.onError}});return n.isOnce=!0,n.isStatic=!0,n},methods:{onLoad:function(){var t=this;if("HotelCard"===this.$attrs.scene&&!this._preloaded){var e=this.$parent.$children.filter(function(e){return e.constructor===t.constructor}),i=e.findIndex(function(e){return e===t});[e[i-1],e[i+1]].forEach(function(t){return t&&t.preload()})}rD&&rR(this.$el)},onError:function(){rR(this.$el,0)},preload:function(){var t=this,e=this.$el;if(!!e&&e.src!==this.realSrc)this._preloaded=!0,rM(this.realSrc,function(){t.$el.src=t.realSrc,t.$el.alt=t.alt||""})}},mounted:function(){if(!!this.src)O?O.observe(this.$el,this.isCustomLazy):this.$el.src=this.realSrc},beforeDestroy:function(){if(!!this.src)O&&O.unObserve(this.$el,this.isCustomLazy)}};rB.install=function(t,e){t.component("k-image",rB),rD=e},(l=P||(P={})).deeplink="deeplink",l.direct="direct",(c=$||($={})).cold_start_to_inactive="cold_start_to_inactive",c.inactive_to_active="inactive_to_active",c.active_to_inactive="active_to_inactive",(u=L||(L={})).close="close",u.hide="hide",u.query_change="query_change",(d=E||(E={})).ios="ios",d.android="android",d.desktop="desktop",d.mobile="mobile",d.mp_alipay="mp_alipay",(p=T||(T={})).navigate="navigate",p.reload="reload",p.back_forward="back_forward",p.redirect="redirect",p.other="other",p.prerender="prerender",(f=j||(j={})).ios="ios",f.android="android",f.desktop="desktop",f.mobile="mobile",f.openharmony_shell="openharmony_shell",f.mp_alipay="mp_alipay",(h=I||(I={})).modal="modal",h.bottom_sheet="bottom_sheet",h.popover="popover",h.tooltip="tooltip",h.message_box="message_box",h.notification="notification",h.alert="alert",h.toast="toast",h.drawer="drawer",h.poptip="poptip",(v=R||(R={})).webview="webview",v.app="app",v.web="web",(y=M||(M={})).open="open",y.show="show",y.query_change="query_change",(m=D||(D={})).published="published",m.draft="draft",(g=F||(F={})).input="input",g.slide="slide";class rN{constructor(t){if(this.is_schema_type=!0,t)for(let e=Object.keys(t),i=0;i<e.length;++i){let n=e[i],r=t[n];null!=r&&t.hasOwnProperty(n)&&(this[n]=r)}}toJSON(){let t={};return null!=this.country_id&&(t.country_id=this.country_id),null!=this.card_tab_name&&(t.card_tab_name=this.card_tab_name),null!=this.product_id&&(t.product_id=this.product_id),null!=this.sub_category_id&&(t.sub_category_id=this.sub_category_id),null!=this.is_favorite&&(t.is_favorite=this.is_favorite),null!=this.card_index&&(t.card_index=this.card_index),null!=this.card_length&&(t.card_length=this.card_length),null!=this.ptp_original_destination_id&&(t.ptp_original_destination_id=this.ptp_original_destination_id),null!=this.ptp_arrival_destination_id&&(t.ptp_arrival_destination_id=this.ptp_arrival_destination_id),null!=this.ptp_original_station_id&&(t.ptp_original_station_id=this.ptp_original_station_id),null!=this.ptp_arrival_station_id&&(t.ptp_arrival_station_id=this.ptp_arrival_station_id),t}getSchema(){return"com.klook.galileo.ProductCardData:1.3.0"}static fromObject(t){let e=new this,i=t.country_id;null!=i&&(e.country_id=i);let n=t.card_tab_name;null!=n&&(e.card_tab_name=n);let r=t.product_id;null!=r&&(e.product_id=r);let o=t.sub_category_id;null!=o&&(e.sub_category_id=o);let a=t.is_favorite;null!=a&&(e.is_favorite=a);let s=t.card_index;null!=s&&(e.card_index=s);let l=t.card_length;null!=l&&(e.card_length=l);let c=t.ptp_original_destination_id;null!=c&&(e.ptp_original_destination_id=c);let u=t.ptp_arrival_destination_id;null!=u&&(e.ptp_arrival_destination_id=u);let d=t.ptp_original_station_id;null!=d&&(e.ptp_original_station_id=d);let p=t.ptp_arrival_station_id;return null!=p&&(e.ptp_arrival_station_id=p),e}static toObject(t){return this.fromObject(t).toJSON()}}class rH{constructor(t){if(this.is_schema_type=!0,t)for(let e=Object.keys(t),i=0;i<e.length;++i){let n=e[i],r=t[n];null!=r&&t.hasOwnProperty(n)&&(this[n]=r)}}toJSON(){let t={};return null!=this.product_id&&(t.product_id=this.product_id),null!=this.category_id&&(t.category_id=this.category_id),null!=this.ttd_package_id&&(t.ttd_package_id=this.ttd_package_id),null!=this.action_type&&(t.action_type=this.action_type),null!=this.tab_name&&(t.tab_name=this.tab_name),null!=this.sub_tab_name&&(t.sub_tab_name=this.sub_tab_name),null!=this.sub_category_id&&(t.sub_category_id=this.sub_category_id),null!=this.product_booking_count&&(t.product_booking_count=this.product_booking_count),null!=this.review_count&&(t.review_count=this.review_count),null!=this.review_rating&&(t.review_rating=this.review_rating),null!=this.display_price&&(t.display_price=this.display_price),null!=this.hotel_checkin_date_local&&(t.hotel_checkin_date_local=this.hotel_checkin_date_local),null!=this.hotel_checkout_date_local&&(t.hotel_checkout_date_local=this.hotel_checkout_date_local),null!=this.hotel_guest_adult&&(t.hotel_guest_adult=this.hotel_guest_adult),null!=this.hotel_guest_child&&(t.hotel_guest_child=this.hotel_guest_child),null!=this.hotel_number_night_stays&&(t.hotel_number_night_stays=this.hotel_number_night_stays),null!=this.buried_raw_id&&(t.buried_raw_id=this.buried_raw_id),null!=this.hotel_rate_plan_id&&(t.hotel_rate_plan_id=this.hotel_rate_plan_id),null!=this.additional_activity_id&&(t.additional_activity_id=this.additional_activity_id),null!=this.insurance_plancode&&(t.insurance_plancode=this.insurance_plancode),null!=this.map_card_type&&(t.map_card_type=this.map_card_type),null!=this.ttd_variant_type&&(t.ttd_variant_type=this.ttd_variant_type),null!=this.ttd_variant_value&&(t.ttd_variant_value=this.ttd_variant_value),null!=this.activity_type&&(t.activity_type=this.activity_type),null!=this.insurance_package_code&&(t.insurance_package_code=this.insurance_package_code),null!=this.car_group_type&&(t.car_group_type=this.car_group_type),null!=this.car_package_reference_id&&(t.car_package_reference_id=this.car_package_reference_id),null!=this.search_id&&(t.search_id=this.search_id),null!=this.car_supplier_id&&(t.car_supplier_id=this.car_supplier_id),null!=this.car_pickup_poi_id&&(t.car_pickup_poi_id=this.car_pickup_poi_id),null!=this.car_pickup_destination_id&&(t.car_pickup_destination_id=this.car_pickup_destination_id),null!=this.car_pickup_city_id&&(t.car_pickup_city_id=this.car_pickup_city_id),null!=this.car_pickup_date_time_local&&(t.car_pickup_date_time_local=this.car_pickup_date_time_local),null!=this.car_return_poi_id&&(t.car_return_poi_id=this.car_return_poi_id),null!=this.car_return_destination_id&&(t.car_return_destination_id=this.car_return_destination_id),null!=this.car_return_city_id&&(t.car_return_city_id=this.car_return_city_id),null!=this.car_return_date_time_local&&(t.car_return_date_time_local=this.car_return_date_time_local),null!=this.ttd_variant_type_id&&(t.ttd_variant_type_id=this.ttd_variant_type_id),null!=this.ttd_variant_value_id&&(t.ttd_variant_value_id=this.ttd_variant_value_id),null!=this.product_participant_count&&(t.product_participant_count=this.product_participant_count),null!=this.pat_standard_model_id&&(t.pat_standard_model_id=this.pat_standard_model_id),null!=this.pat_supplier_id&&(t.pat_supplier_id=this.pat_supplier_id),null!=this.pat_service_type&&(t.pat_service_type=this.pat_service_type),null!=this.airport_code&&(t.airport_code=this.airport_code),null!=this.pat_additional_service_type&&(t.pat_additional_service_type=this.pat_additional_service_type),null!=this.ptp_route_id_list&&(t.ptp_route_id_list=this.ptp_route_id_list),null!=this.ptp_seat_class&&(t.ptp_seat_class=this.ptp_seat_class),null!=this.ptp_original_destination_id&&(t.ptp_original_destination_id=this.ptp_original_destination_id),null!=this.ptp_arrival_destination_id&&(t.ptp_arrival_destination_id=this.ptp_arrival_destination_id),null!=this.ptp_original_station_id&&(t.ptp_original_station_id=this.ptp_original_station_id),null!=this.ptp_arrival_station_id&&(t.ptp_arrival_station_id=this.ptp_arrival_station_id),null!=this.ptp_departure_date_local&&(t.ptp_departure_date_local=this.ptp_departure_date_local),null!=this.ptp_return_date_local&&(t.ptp_return_date_local=this.ptp_return_date_local),null!=this.ptp_passengers_num&&(t.ptp_passengers_num=this.ptp_passengers_num),null!=this.ptp_flow_type&&(t.ptp_flow_type=this.ptp_flow_type),t}getSchema(){return"com.klook.galileo.ProductDetailData:1.9.0"}static fromObject(t){let e=new this,i=t.product_id;null!=i&&(e.product_id=i);let n=t.category_id;null!=n&&(e.category_id=n);let r=t.ttd_package_id;null!=r&&(e.ttd_package_id=r);let o=t.action_type;null!=o&&(e.action_type=o);let a=t.tab_name;null!=a&&(e.tab_name=a);let s=t.sub_tab_name;null!=s&&(e.sub_tab_name=s);let l=t.sub_category_id;null!=l&&(e.sub_category_id=l);let c=t.product_booking_count;null!=c&&(e.product_booking_count=c);let u=t.review_count;null!=u&&(e.review_count=u);let d=t.review_rating;null!=d&&(e.review_rating=d);let p=t.display_price;null!=p&&(e.display_price=p);let f=t.hotel_checkin_date_local;null!=f&&(e.hotel_checkin_date_local=f);let h=t.hotel_checkout_date_local;null!=h&&(e.hotel_checkout_date_local=h);let v=t.hotel_guest_adult;null!=v&&(e.hotel_guest_adult=v);let y=t.hotel_guest_child;null!=y&&(e.hotel_guest_child=y);let m=t.hotel_number_night_stays;null!=m&&(e.hotel_number_night_stays=m);let g=t.buried_raw_id;null!=g&&(e.buried_raw_id=g);let _=t.hotel_rate_plan_id;null!=_&&(e.hotel_rate_plan_id=_);let b=t.additional_activity_id;null!=b&&(e.additional_activity_id=b);let x=t.insurance_plancode;null!=x&&(e.insurance_plancode=x);let k=t.map_card_type;null!=k&&(e.map_card_type=k);let w=t.ttd_variant_type;null!=w&&(e.ttd_variant_type=w);let S=t.ttd_variant_value;null!=S&&(e.ttd_variant_value=S);let C=t.activity_type;null!=C&&(e.activity_type=C);let O=t.insurance_package_code;null!=O&&(e.insurance_package_code=O);let P=t.car_group_type;null!=P&&(e.car_group_type=P);let $=t.car_package_reference_id;null!=$&&(e.car_package_reference_id=$);let L=t.search_id;null!=L&&(e.search_id=L);let E=t.car_supplier_id;null!=E&&(e.car_supplier_id=E);let T=t.car_pickup_poi_id;null!=T&&(e.car_pickup_poi_id=T);let j=t.car_pickup_destination_id;null!=j&&(e.car_pickup_destination_id=j);let I=t.car_pickup_city_id;null!=I&&(e.car_pickup_city_id=I);let R=t.car_pickup_date_time_local;null!=R&&(e.car_pickup_date_time_local=R);let M=t.car_return_poi_id;null!=M&&(e.car_return_poi_id=M);let D=t.car_return_destination_id;null!=D&&(e.car_return_destination_id=D);let F=t.car_return_city_id;null!=F&&(e.car_return_city_id=F);let A=t.car_return_date_time_local;null!=A&&(e.car_return_date_time_local=A);let B=t.ttd_variant_type_id;null!=B&&(e.ttd_variant_type_id=B);let N=t.ttd_variant_value_id;null!=N&&(e.ttd_variant_value_id=N);let H=t.product_participant_count;null!=H&&(e.product_participant_count=H);let V=t.pat_standard_model_id;null!=V&&(e.pat_standard_model_id=V);let z=t.pat_supplier_id;null!=z&&(e.pat_supplier_id=z);let W=t.pat_service_type;null!=W&&(e.pat_service_type=W);let q=t.airport_code;null!=q&&(e.airport_code=q);let U=t.pat_additional_service_type;null!=U&&(e.pat_additional_service_type=U);let Z=t.ptp_route_id_list;null!=Z&&(e.ptp_route_id_list=Z);let G=t.ptp_seat_class;null!=G&&(e.ptp_seat_class=G);let Y=t.ptp_original_destination_id;null!=Y&&(e.ptp_original_destination_id=Y);let K=t.ptp_arrival_destination_id;null!=K&&(e.ptp_arrival_destination_id=K);let X=t.ptp_original_station_id;null!=X&&(e.ptp_original_station_id=X);let J=t.ptp_arrival_station_id;null!=J&&(e.ptp_arrival_station_id=J);let Q=t.ptp_departure_date_local;null!=Q&&(e.ptp_departure_date_local=Q);let tt=t.ptp_return_date_local;null!=tt&&(e.ptp_return_date_local=tt);let te=t.ptp_passengers_num;null!=te&&(e.ptp_passengers_num=te);let ti=t.ptp_flow_type;return null!=ti&&(e.ptp_flow_type=ti),e}static toObject(t){return this.fromObject(t).toJSON()}}(_=A||(A={})).refunded="refunded",_.processing="processing",_.refund_failed="refund_failed";var rV=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},rz="object"==typeof n_&&n_&&n_.Object===Object&&n_,rW="object"==typeof self&&self&&self.Object===Object&&self,rq=rz||rW||Function("return this")(),rU=function(){return rq.Date.now()},rZ=/\s/,rG=function(t){for(var e=t.length;e--&&rZ.test(t.charAt(e)););return e},rY=/^\s+/,rK=rq.Symbol,rX=Object.prototype,rJ=rX.hasOwnProperty,rQ=rX.toString,r0=rK?rK.toStringTag:void 0,r1=function(t){var e=rJ.call(t,r0),i=t[r0];try{t[r0]=void 0;var n=!0}catch(t){}var r=rQ.call(t);return n&&(e?t[r0]=i:delete t[r0]),r},r2=Object.prototype.toString,r4=rK?rK.toStringTag:void 0,r5=function(t){var e;if(null==t)return void 0===t?"[object Undefined]":"[object Null]";return r4&&r4 in Object(t)?r1(t):(e=t,r2.call(e))},r9=function(t){var e;return"symbol"==typeof t||null!=(e=t)&&"object"==typeof e&&"[object Symbol]"==r5(t)},r3=0/0,r6=/^[-+]0x[0-9a-f]+$/i,r8=/^0b[01]+$/i,r7=/^0o[0-7]+$/i,ot=parseInt,oe=function(t){if("number"==typeof t)return t;if(r9(t))return r3;if(rV(t)){var e,i="function"==typeof t.valueOf?t.valueOf():t;t=rV(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)?e.slice(0,rG(e)+1).replace(rY,""):e;var n=r8.test(t);return n||r7.test(t)?ot(t.slice(2),n?2:8):r6.test(t)?r3:+t},oi=Math.max,on=Math.min,or=function(t,e,i){var n,r,o,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof t)throw TypeError("Expected a function");function f(e){var i=n,o=r;return n=r=void 0,c=e,a=t.apply(o,i)}e=oe(e)||0,rV(i)&&(u=!!i.leading,o=(d="maxWait"in i)?oi(oe(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p);function h(t){var i=t-l,n=t-c;return void 0===l||i>=e||i<0||d&&n>=o}function v(){var t,i,n,r,a=rU();if(h(a))return y(a);s=setTimeout(v,(i=(t=a)-l,n=t-c,r=e-i,d?on(r,o-n):r))}function y(t){return(s=void 0,p&&n)?f(t):(n=r=void 0,a)}function m(){var t,i=rU(),o=h(i);if(n=arguments,r=this,l=i,o){if(void 0===s){;return c=t=l,s=setTimeout(v,e),u?f(t):a}if(d)return clearTimeout(s),s=setTimeout(v,e),f(l)}return void 0===s&&(s=setTimeout(v,e)),a}return m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=r=s=void 0},m.flush=function(){return void 0===s?a:y(rU())},m},oo=function(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw TypeError("Expected a function");return rV(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),or(t,e,{leading:n,maxWait:e,trailing:r})};function oa(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(n.key),n)}}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ol(t,e){return(ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function oc(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ou(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function od(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function op(t){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function of(t,e,i){(i?Reflect.getOwnMetadataKeys(e,i):Reflect.getOwnMetadataKeys(e)).forEach(function(n){var r=i?Reflect.getOwnMetadata(n,e,i):Reflect.getOwnMetadata(n,e);i?Reflect.defineMetadata(n,r,t,i):Reflect.defineMetadata(n,r,t)})}var oh=({__proto__:[]})instanceof Array,ov=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function oy(t){var e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=n.name||t._componentTag||t.name;var r=t.prototype;Object.getOwnPropertyNames(r).forEach(function(t){if("constructor"!==t){if(ov.indexOf(t)>-1){n[t]=r[t];return}var e=Object.getOwnPropertyDescriptor(r,t);void 0!==e.value?"function"==typeof e.value?(n.methods||(n.methods={}))[t]=e.value:(n.mixins||(n.mixins=[])).push({data:function(){var i,n,r;return i={},n=t,r=e.value,n in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}}):(e.get||e.set)&&((n.computed||(n.computed={}))[t]={get:e.get,set:e.set})}}),(n.mixins||(n.mixins=[])).push({data:function(){var e,i,n,r,o;return e=this,n=(i=t).prototype._init,i.prototype._init=function(){var t=this,i=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)!e.hasOwnProperty(n)&&i.push(n);i.forEach(function(i){Object.defineProperty(t,i,{get:function(){return e[i]},set:function(t){e[i]=t},configurable:!0})})},r=new i,i.prototype._init=n,o={},Object.keys(r).forEach(function(t){void 0!==r[t]&&(o[t]=r[t])}),o}});var o=t.__decorators__;o&&(o.forEach(function(t){return t(n)}),delete t.__decorators__);var a=Object.getPrototypeOf(t.prototype),s=a instanceof iO.default?a.constructor:iO.default,l=s.extend(n);if(function(t,e,i){Object.getOwnPropertyNames(e).forEach(function(n){if(om[n])return;var r=Object.getOwnPropertyDescriptor(t,n);if(!r||!!r.configurable){var o=Object.getOwnPropertyDescriptor(e,n);if(!oh){if("cid"===n)return;var a,s,l=Object.getOwnPropertyDescriptor(i,n);if(a=o.value,s=op(a),null!=a&&("object"===s||"function"===s)&&l&&l.value===o.value)return}Object.defineProperty(t,n,o)}})}(l,t,s),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys){;of(e=l,i=t),Object.getOwnPropertyNames(i.prototype).forEach(function(t){of(e.prototype,i.prototype,t)}),Object.getOwnPropertyNames(i).forEach(function(t){of(e,i,t)})}return l}var om={prototype:!0,arguments:!0,callee:!0,caller:!0};function og(t){return"function"==typeof t?oy(t):function(e){return oy(e,t)}}og.registerHooks=function(t){var e;ov.push.apply(ov,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(e=t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}())};var o_="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function ob(t){return void 0===t&&(t={}),function(e,i){var n;!function(t,e,i){if(o_&&!Array.isArray(t)&&"function"!=typeof t&&void 0===t.type){var n=Reflect.getMetadata("design:type",e,i);n!==Object&&(t.type=n)}}(t,e,i),(n=function(e,i){(e.props||(e.props={}))[i]=t},function(t,e,i){var r="function"==typeof t?t:t.constructor;!r.__decorators__&&(r.__decorators__=[]),"number"!=typeof i&&(i=void 0),r.__decorators__.push(function(t){return n(t,e,i)})})(e,i)}}function ox(t,e,i,n,r,o,a,s,l,c){let u;"boolean"!=typeof a&&(l=s,s=a,a=!1);let d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){let t=d.render;d.render=function(e,i){return u.call(i),t(e,i)}}else{let t=d.beforeCreate;d.beforeCreate=t?[].concat(t,u):[u]}}return i}var ok=(B=og({name:"klk-icon"}),N=ob({default:""}),H=ob(),V=ob(String),z=ob({type:String,default:"klk-icon-"}),B((U=od((q=function(t){(function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ol(t,e)})(s,t);var e,i,n,r,o,a=(e=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=os(e);return t=i?Reflect.construct(n,arguments,os(this).constructor):n.apply(this,arguments),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return oc(t)}(this,t)});function s(){var t;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,s);for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return ou(oc(t=a.call.apply(a,[this].concat(i))),"type",U,oc(t)),ou(oc(t),"size",Z,oc(t)),ou(oc(t),"color",G,oc(t)),ou(oc(t),"scope",Y,oc(t)),t}return n=s,r=[{key:"linkType",get:function(){return"#".concat(this.scope).concat(this.type)}},{key:"classes",get:function(){return"klk-icon klk-icon-".concat(this.type)}},{key:"styles",get:function(){var t={};return this.size&&(t.fontSize="".concat(parseFloat(this.size.toString()).toString(),"px")),this.color&&(t.color=this.color),t}},{key:"handleClick",value:function(t){this.$emit("click",t)}}],oa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(iO.default)).prototype,"type",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=od(q.prototype,"size",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=od(q.prototype,"color",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=od(q.prototype,"scope",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=q))||W),ow=ox({render:function(){var t=this.$createElement,e=this._self._c||t;return e("i",{class:this.classes,style:this.styles,on:{click:this.handleClick}},[e("svg",[e("use",{attrs:{"xlink:href":this.linkType}})])])},staticRenderFns:[]},void 0,ok,void 0,!1,void 0,!1,void 0,void 0,void 0),oS="undefined"==typeof window&&void 0!==i.g;function oC(t,e){return{name:t,functional:!0,render:(i,n)=>(n.data=n.data||{},n.data.props={name:t},n.data.on=n.data.on||{},!Object.isExtensible(n.data.on)&&(n.data.on=Object.assign({},n.data.on)),e&&(n.data.props.mode=e),i("transition",n.data,n.children))}}oS||function(){if(!K){(K=document.createElement("script")).src="https://cdn.klook.com/s/dist_web/klook-storybook/packages/klook-ui/dist/font_1602031_7yrmcdskhuj.js",K.type="text/javascript";var t=document.getElementsByTagName("head")[0];t&&t.appendChild(K)}}(),ow.install=function(t){t.component("klk-icon",ow)};let oO=oC("klk-fade-transition"),oP=oC("klk-slide-top-transition"),o$=oC("klk-slide-bottom-transition"),oL=oC("klk-slide-left-transition"),oE=oC("klk-slide-right-transition"),oT=oC("klk-scale-transition");var oj={name:"resize",inserted(t,e){let i,n=e.value,r=200,o=!0;"function"!=typeof e.value&&(n=e.value.value,r=e.value.debounce||r,o=null===e.value.quiet&&o);let a=()=>{clearTimeout(i),i=window.setTimeout(n,r)};window.addEventListener("resize",a,{passive:!0}),t._onResize=a,o&&a()},unbind(t,e){window.removeEventListener("resize",t._onResize)}};let oI=iO.default.prototype.$isServer;function oR(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function oM(t,e){if(t){for(var i=t.className,n=(e||"").split(" "),r=0,o=n.length;r<o;r++){var a=n[r];a&&(t.classList?t.classList.add(a):!oR(t,a)&&(i+=" "+a))}!t.classList&&(t.className=i)}}function oD(t,e){if(t&&e){for(var i=e.split(" "),n=" "+t.className+" ",r=0,o=i.length;r<o;r++){var a=i[r];a&&(t.classList?t.classList.remove(a):oR(t,a)&&(n=n.replace(" "+a+" "," ")))}!t.classList&&(t.className=n?n.trim():n)}}function oF(t,e,i){return t.addEventListener(e,i)}function oA(t,e,i){return t.removeEventListener(e,i)}function oB(t,e){if(!["number","string"].includes(typeof t))return t;if("string"==typeof t){if(t=t.trim(),!/(\d+|px)$/.test(t))return t;t=parseFloat(t)}if("number"==typeof t&&!Number.isNaN(t))return(t=e?t+e:t)+"px"}function oN(t){if(!t)return 0;let e=t.indexOf("px");return -1===e?0:Number(t.substring(0,e))}var oH={name:"klk-expand-transition",methods:{beforeEnter(t){t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.paddingTop="0",t.style.paddingBottom="0",t.style.height="0"},enter(t){t.style.display="block",t.style.overflow="hidden",t.style.height=t.scrollHeight+oN(t.dataset.oldPaddingTop)+oN(t.dataset.oldPaddingBottom)+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},afterEnter(t){t.style.display="",t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},beforeLeave(t){t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.display="block",0!==t.scrollHeight&&(t.style.height=t.scrollHeight+"px"),t.style.overflow="hidden"},leave(t){0!==t.scrollHeight&&setTimeout(()=>{t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0})},afterLeave(t){t.style.display="none",t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}},render(t){return t("transition",{props:{name:"klk-expand"},on:{"before-enter":this.beforeEnter,enter:this.enter,"after-enter":this.afterEnter,"before-leave":this.beforeLeave,leave:this.leave,"after-leave":this.afterLeave}},this.$slots.default)}};function oV(t,e){let i="function"==typeof e.value?e.value:e.value.callback,n=e.value.options||{passive:!0},r=e.value.target||window;if("undefined"===r)return;r instanceof Element?r=function(t){let e=t;for(;e&&"HTML"!==e.tagName&&1===e.nodeType;){let t=window.getComputedStyle(e).overflowY;if("scroll"===t||"auto"===t)return e;e=e.parentNode}return window}(r):r!==window&&(r=document.querySelector(r));let o=function(t){i(r,t)};t._onScroll&&r!==t._onScroll.target&&oz(t),r.addEventListener("scroll",o,n),t._onScroll={callback:o,options:n,target:r}}function oz(t,e){let{callback:i,options:n,target:r}=t._onScroll;r&&r.removeEventListener("scroll",i,n)}var oW={name:"scroll",inserted:oV,update:oV,unbind:oz};function oq(t){return"klk-elevation-"+t}var oU={name:"elevation",inserted(t,{value:e},i){oM(t,oq(e))},update(t,{value:e,oldValue:i}){!(e===i&&oR(t,oq(i)))&&(oD(t,oq(i)),oM(t,oq(e)))},unbind(t,{value:e}){oD(t,oq(e))}};let oZ=[],oG="@@clickoutsideContext",oY=0;function oK(t,e,i){return function(r={},o={}){!(!i||!i.context||!r.target||!o.target||t.contains(r.target)||t.contains(o.target)||t===r.target||i.context.popperEl&&(i.context.popperEl.contains(r.target)||i.context.popperEl.contains(o.target)))&&(e.expression&&t[oG].methodName&&i.context[t[oG].methodName]?i.context[t[oG].methodName](n):t[oG].bindingFn&&t[oG].bindingFn(n))}}iO.default.prototype.$isServer||oF(document,"mousedown",t=>n=t),iO.default.prototype.$isServer||oF(document,"mouseup",t=>{oZ.forEach(e=>{var i;return null===(i=e[oG])||void 0===i?void 0:i.documentHandler(t,n)})});var oX={name:"click-outside",bind(t,e,i){oZ.push(t);let n=oY++;t[oG]={id:n,documentHandler:oK(t,e,i),methodName:e.expression,bindingFn:e.value}},update(t,e,i){t[oG].documentHandler=oK(t,e,i),t[oG].methodName=e.expression,t[oG].bindingFn=e.value},unbind(t){var e;let i=oZ.length;for(let n=0;n<i;n++)if(oZ[n][oG].id===(null===(e=t[oG])||void 0===e?void 0:e.id)){oZ.splice(n,1);break}delete t[oG]}},oJ="bottom",oQ="right",o0="left",o1="auto",o2=["top",oJ,oQ,o0],o4="start",o5="viewport",o9="popper",o3=o2.reduce(function(t,e){return t.concat([e+"-"+o4,e+"-end"])},[]),o6=[].concat(o2,[o1]).reduce(function(t,e){return t.concat([e,e+"-"+o4,e+"-end"])},[]),o8=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function o7(t){return t?(t.nodeName||"").toLowerCase():null}function at(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ae(t){var e=at(t).Element;return t instanceof e||t instanceof Element}function ai(t){var e=at(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function an(t){if("undefined"==typeof ShadowRoot)return!1;var e=at(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ar(t){return t.split("-")[0]}var ao=Math.max,aa=Math.min,as=Math.round;function al(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ac(){return!/^((?!chrome|android).)*safari/i.test(al())}function au(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,o=1;e&&ai(t)&&(r=t.offsetWidth>0&&as(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&as(n.height)/t.offsetHeight||1);var a=(ae(t)?at(t):window).visualViewport,s=!ac()&&i,l=(n.left+(s&&a?a.offsetLeft:0))/r,c=(n.top+(s&&a?a.offsetTop:0))/o,u=n.width/r,d=n.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function ad(t){var e=au(t),i=t.offsetWidth,n=t.offsetHeight;return 1>=Math.abs(e.width-i)&&(i=e.width),1>=Math.abs(e.height-n)&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function ap(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&an(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function af(t){return at(t).getComputedStyle(t)}function ah(t){return((ae(t)?t.ownerDocument:t.document)||window.document).documentElement}function av(t){return"html"===o7(t)?t:t.assignedSlot||t.parentNode||(an(t)?t.host:null)||ah(t)}function ay(t){return ai(t)&&"fixed"!==af(t).position?t.offsetParent:null}function am(t){for(var e=at(t),i=ay(t);i&&["table","td","th"].indexOf(o7(i))>=0&&"static"===af(i).position;)i=ay(i);return i&&("html"===o7(i)||"body"===o7(i)&&"static"===af(i).position)?e:i||function(t){var e=/firefox/i.test(al());if(/Trident/i.test(al())&&ai(t)&&"fixed"===af(t).position)return null;var i=av(t);for(an(i)&&(i=i.host);ai(i)&&0>["html","body"].indexOf(o7(i));){var n=af(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function ag(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function a_(t,e,i){return ao(t,aa(e,i))}function ab(){return{top:0,right:0,bottom:0,left:0}}function ax(t){return Object.assign({},ab(),t)}function ak(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}function aw(t){return t.split("-")[1]}var aS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aC(t){var e,i,n,r,o,a,s,l=t.popper,c=t.popperRect,u=t.placement,d=t.variation,p=t.offsets,f=t.position,h=t.gpuAcceleration,v=t.adaptive,y=t.roundOffsets,m=t.isFixed,g=p.x,_=void 0===g?0:g,b=p.y,x=void 0===b?0:b,k="function"==typeof y?y({x:_,y:x}):{x:_,y:x};_=k.x,x=k.y;var w=p.hasOwnProperty("x"),S=p.hasOwnProperty("y"),C=o0,O="top",P=window;if(v){var $=am(l),L="clientHeight",E="clientWidth";$===at(l)&&"static"!==af($=ah(l)).position&&"absolute"===f&&(L="scrollHeight",E="scrollWidth");("top"===u||(u===o0||u===oQ)&&"end"===d)&&(O=oJ,x-=(m&&$===P&&P.visualViewport?P.visualViewport.height:$[L])-c.height,x*=h?1:-1),(u===o0||("top"===u||u===oJ)&&"end"===d)&&(C=oQ,_-=(m&&$===P&&P.visualViewport?P.visualViewport.width:$[E])-c.width,_*=h?1:-1)}var T=Object.assign({position:f},v&&aS);var j=!0===y?(e={x:_,y:x},i=at(l),n=e.x,r=e.y,{x:as(n*(o=i.devicePixelRatio||1))/o||0,y:as(r*o)/o||0}):{x:_,y:x};return(_=j.x,x=j.y,h)?Object.assign({},T,((s={})[O]=S?"0":"",s[C]=w?"0":"",s.transform=1>=(P.devicePixelRatio||1)?"translate("+_+"px, "+x+"px)":"translate3d("+_+"px, "+x+"px, 0)",s)):Object.assign({},T,((a={})[O]=S?x+"px":"",a[C]=w?_+"px":"",a.transform="",a))}var aO={passive:!0},aP={left:"right",right:"left",bottom:"top",top:"bottom"};function a$(t){return t.replace(/left|right|bottom|top/g,function(t){return aP[t]})}var aL={start:"end",end:"start"};function aE(t){return t.replace(/start|end/g,function(t){return aL[t]})}function aT(t){var e=at(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function aj(t){return au(ah(t)).left+aT(t).scrollLeft}function aI(t){var e=af(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function aR(t,e){void 0===e&&(e=[]);var i,n=function t(e){return["html","body","#document"].indexOf(o7(e))>=0?e.ownerDocument.body:ai(e)&&aI(e)?e:t(av(e))}(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),o=at(n),a=r?[o].concat(o.visualViewport||[],aI(n)?n:[]):n,s=e.concat(a);return r?s:s.concat(aR(av(a)))}function aM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function aD(t,e,i){var n,r,o,a,s,l,c,u,d,p,f;return e===o5?aM(function(t,e){var i=at(t),n=ah(t),r=i.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(r){o=r.width,a=r.height;var c=ac();(c||!c&&"fixed"===e)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:s+aj(t),y:l}}(t,i)):ae(e)?((r=au(n=e,!1,"fixed"===i)).top=r.top+n.clientTop,r.left=r.left+n.clientLeft,r.bottom=r.top+n.clientHeight,r.right=r.left+n.clientWidth,r.width=n.clientWidth,r.height=n.clientHeight,r.x=r.left,r.y=r.top,r):aM((o=ah(t),s=ah(o),l=aT(o),c=null==(a=o.ownerDocument)?void 0:a.body,u=ao(s.scrollWidth,s.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=ao(s.scrollHeight,s.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),p=-l.scrollLeft+aj(o),f=-l.scrollTop,"rtl"===af(c||s).direction&&(p+=ao(s.clientWidth,c?c.clientWidth:0)-u),{width:u,height:d,x:p,y:f}))}function aF(t){var e,i=t.reference,n=t.element,r=t.placement,o=r?ar(r):null,a=r?aw(r):null,s=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case"top":e={x:s,y:i.y-n.height};break;case oJ:e={x:s,y:i.y+i.height};break;case oQ:e={x:i.x+i.width,y:l};break;case o0:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?ag(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case o4:e[c]=e[c]-(i[u]/2-n[u]/2);break;case"end":e[c]=e[c]+(i[u]/2-n[u]/2)}}return e}function aA(t,e){void 0===e&&(e={});var i,n,r,o,a,s,l,c,u,d,p=e,f=p.placement,h=void 0===f?t.placement:f,v=p.strategy,y=void 0===v?t.strategy:v,m=p.boundary,g=p.rootBoundary,_=p.elementContext,b=void 0===_?o9:_,x=p.altBoundary,k=p.padding,w=void 0===k?0:k,S=ax("number"!=typeof w?w:ak(w,o2)),C=t.rects.popper,O=t.elements[void 0!==x&&x?b===o9?"reference":o9:b];var P=(i=ae(O)?O:O.contextElement||ah(t.elements.popper),n=void 0===m?"clippingParents":m,r=void 0===g?o5:g,o=y,u=(c=[].concat("clippingParents"===n?(s=aR(av(a=i)),ae(l=["absolute","fixed"].indexOf(af(a).position)>=0&&ai(a)?am(a):a)?s.filter(function(t){return ae(t)&&ap(t,l)&&"body"!==o7(t)}):[]):[].concat(n),[r]))[0],(d=c.reduce(function(t,e){var n=aD(i,e,o);return t.top=ao(n.top,t.top),t.right=aa(n.right,t.right),t.bottom=aa(n.bottom,t.bottom),t.left=ao(n.left,t.left),t},aD(i,u,o))).width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d),$=au(t.elements.reference),L=aF({reference:$,element:C,strategy:"absolute",placement:h}),E=aM(Object.assign({},C,L)),T=b===o9?E:$,j={top:P.top-T.top+S.top,bottom:T.bottom-P.bottom+S.bottom,left:P.left-T.left+S.left,right:T.right-P.right+S.right},I=t.modifiersData.offset;if(b===o9&&I){var R=I[h];Object.keys(j).forEach(function(t){var e=[oQ,oJ].indexOf(t)>=0?1:-1,i=["top",oJ].indexOf(t)>=0?"y":"x";j[t]+=R[i]*e})}return j}function aB(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function aN(t){return["top",oQ,oJ,o0].some(function(e){return t[e]>=0})}var aH={placement:"bottom",modifiers:[],strategy:"absolute"};function aV(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var az=(b={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=void 0===r||r,a=n.resize,s=void 0===a||a,l=at(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(t){t.addEventListener("scroll",i.update,aO)}),s&&l.addEventListener("resize",i.update,aO),function(){o&&c.forEach(function(t){t.removeEventListener("scroll",i.update,aO)}),s&&l.removeEventListener("resize",i.update,aO)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=aF({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=i.adaptive,o=i.roundOffsets,a=void 0===o||o,s={placement:ar(e.placement),variation:aw(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:void 0===n||n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,aC(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:void 0===r||r,roundOffsets:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,aC(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];if(!!ai(r)&&!!o7(r))Object.assign(r.style,i),Object.keys(n).forEach(function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})})},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce(function(t,e){return t[e]="",t},{});if(!!ai(n)&&!!o7(n))Object.assign(n.style,o),Object.keys(r).forEach(function(t){n.removeAttribute(t)})})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=void 0===r?[0,0]:r,a=o6.reduce(function(t,i){var n,r,a,s,l,c,u,d;return t[i]=(n=i,r=e.rects,a=o,l=[o0,"top"].indexOf(s=ar(n))>=0?-1:1,u=(c="function"==typeof a?a(Object.assign({},r,{placement:n})):a)[0],d=c[1],u=u||0,d=(d||0)*l,[o0,oQ].indexOf(s)>=0?{x:d,y:u}:{x:u,y:d}),t},{}),s=a[e.placement],l=s.x,c=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,a=i.altAxis,s=void 0===a||a,l=i.fallbackPlacements,c=i.padding,u=i.boundary,d=i.rootBoundary,p=i.altBoundary,f=i.flipVariations,h=void 0===f||f,v=i.allowedAutoPlacements,y=e.options.placement,m=ar(y)===y,g=l||(m||!h?[a$(y)]:function(t){if(ar(t)===o1)return[];var e=a$(t);return[aE(t),e,aE(e)]}(y)),_=[y].concat(g).reduce(function(t,i){var n,r,o,a,s,l,p,f,y,m,g,_,b,x;return t.concat(ar(i)===o1?(n=e,r={placement:i,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:v},a=(o=r).placement,s=o.boundary,l=o.rootBoundary,p=o.padding,f=o.flipVariations,m=void 0===(y=o.allowedAutoPlacements)?o6:y,0===(b=(_=(g=aw(a))?f?o3:o3.filter(function(t){return aw(t)===g}):o2).filter(function(t){return m.indexOf(t)>=0})).length&&(b=_),Object.keys(x=b.reduce(function(t,e){return t[e]=aA(n,{placement:e,boundary:s,rootBoundary:l,padding:p})[ar(e)],t},{})).sort(function(t,e){return x[t]-x[e]})):i)},[]),b=e.rects.reference,x=e.rects.popper,k=new Map,w=!0,S=_[0],C=0;C<_.length;C++){var O=_[C],P=ar(O),$=aw(O)===o4,L=["top",oJ].indexOf(P)>=0,E=L?"width":"height",T=aA(e,{placement:O,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),j=L?$?oQ:o0:$?oJ:"top";b[E]>x[E]&&(j=a$(j));var I=a$(j),R=[];if(o&&R.push(T[P]<=0),s&&R.push(T[j]<=0,T[I]<=0),R.every(function(t){return t})){S=O,w=!1;break}k.set(O,R)}if(w){for(var M=h?3:1,D=function(t){var e=_.find(function(e){var i=k.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return S=e,"break"},F=M;F>0&&"break"!==D(F);F--);}e.placement!==S&&(e.modifiersData[n]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=i.altAxis,a=i.boundary,s=i.rootBoundary,l=i.altBoundary,c=i.padding,u=i.tether,d=void 0===u||u,p=i.tetherOffset,f=void 0===p?0:p,h=aA(e,{boundary:a,rootBoundary:s,padding:c,altBoundary:l}),v=ar(e.placement),y=aw(e.placement),m=!y,g=ag(v),_="x"===g?"y":"x",b=e.modifiersData.popperOffsets,x=e.rects.reference,k=e.rects.popper,w="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,S="number"==typeof w?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(!!b){if(void 0===r||r){var P,$="y"===g?"top":o0,L="y"===g?oJ:oQ,E="y"===g?"height":"width",T=b[g],j=T+h[$],I=T-h[L],R=d?-k[E]/2:0,M=y===o4?x[E]:k[E],D=y===o4?-k[E]:-x[E],F=e.elements.arrow,A=d&&F?ad(F):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ab(),N=B[$],H=B[L],V=a_(0,x[E],A[E]),z=m?x[E]/2-R-V-N-S.mainAxis:M-V-N-S.mainAxis,W=m?-x[E]/2+R+V+H+S.mainAxis:D+V+H+S.mainAxis,q=e.elements.arrow&&am(e.elements.arrow),U=q?"y"===g?q.clientTop||0:q.clientLeft||0:0,Z=null!=(P=null==C?void 0:C[g])?P:0,G=a_(d?aa(j,T+z-Z-U):j,T,d?ao(I,T+W-Z):I);b[g]=G,O[g]=G-T}if(void 0!==o&&o){var Y,K,X,J="x"===g?"top":o0,Q="x"===g?oJ:oQ,tt=b[_],te="y"===_?"height":"width",ti=tt+h[J],tn=tt-h[Q],tr=-1!==["top",o0].indexOf(v),to=null!=(X=null==C?void 0:C[_])?X:0,ta=tr?ti:tt-x[te]-k[te]-to+S.altAxis,ts=tr?tt+x[te]+k[te]-to-S.altAxis:tn;var tl=d&&tr?(K=a_(ta,tt,Y=ts))>Y?Y:K:a_(d?ta:ti,tt,d?ts:tn);b[_]=tl,O[_]=tl-tt}e.modifiersData[n]=O}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i,n,r=t.state,o=t.name,a=t.options,s=r.elements.arrow,l=r.modifiersData.popperOffsets,c=ar(r.placement),u=ag(c),d=[o0,oQ].indexOf(c)>=0?"height":"width";if(!!s&&!!l){var p=(e=a.padding,i=r,ax("number"!=typeof(e="function"==typeof e?e(Object.assign({},i.rects,{placement:i.placement})):e)?e:ak(e,o2))),f=ad(s),h="y"===u?"top":o0,v="y"===u?oJ:oQ,y=r.rects.reference[d]+r.rects.reference[u]-l[u]-r.rects.popper[d],m=l[u]-r.rects.reference[u],g=am(s),_=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,b=p[h],x=_-f[d]-p[v],k=_/2-f[d]/2+(y/2-m/2),w=a_(b,k,x);r.modifiersData[o]=((n={})[u]=w,n.centerOffset=w-k,n)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;if(null!=n&&("string"!=typeof n||!!(n=e.elements.popper.querySelector(n)))&&!!ap(e.elements.popper,n))e.elements.arrow=n},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=aA(e,{elementContext:"reference"}),s=aA(e,{altBoundary:!0}),l=aB(a,n),c=aB(s,r,o),u=aN(l),d=aN(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]},w=void 0===(k=(x=b).defaultModifiers)?[]:k,C=void 0===(S=x.defaultOptions)?aH:S,function(t,e,i){void 0===i&&(i=C);var n,r,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},aH,C),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],s=!1;var l={state:o,setOptions:function(i){var n,r,s,u,d,p,f="function"==typeof i?i(o.options):i;c(),o.options=Object.assign({},C,o.options,f),o.scrollParents={reference:ae(t)?aR(t):t.contextElement?aR(t.contextElement):[],popper:aR(e)};var h=(p=(r=Object.keys(n=[].concat(w,o.options.modifiers).reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{})).map(function(t){return n[t]}),s=new Map,u=new Set,d=[],r.forEach(function(t){s.set(t.name,t)}),r.forEach(function(t){!u.has(t.name)&&!function t(e){u.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!u.has(e)){var i=s.get(e);i&&t(i)}}),d.push(e)}(t)}),d),o8.reduce(function(t,e){return t.concat(p.filter(function(t){return t.phase===e}))},[]));return o.orderedModifiers=h.filter(function(t){return t.enabled}),function(){o.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,n=t.effect;if("function"==typeof n){var r=n({state:o,name:e,instance:l,options:void 0===i?{}:i});a.push(r||function(){})}})}(),l.update()},forceUpdate:function(){if(s)return;var t,e,i,n,r,a,c,u,d,p,f,h,v,y=o.elements,m=y.reference,g=y.popper;if(!!aV(m,g)){o.rects={reference:(t=m,e=am(g),i="fixed"===o.options.strategy,n=ai(e),d=ai(e)&&(c=as((a=(r=e).getBoundingClientRect()).width)/r.offsetWidth||1,u=as(a.height)/r.offsetHeight||1,1!==c||1!==u),p=ah(e),f=au(t,d,i),h={scrollLeft:0,scrollTop:0},v={x:0,y:0},(n||!n&&!i)&&(("body"!==o7(e)||aI(p))&&(h=function(t){var e;if(t===at(t)||!ai(t))return aT(t);return{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}}(e)),ai(e)?(v=au(e,!0),v.x+=e.clientLeft,v.y+=e.clientTop):p&&(v.x=aj(p))),{x:f.left+h.scrollLeft-v.x,y:f.top+h.scrollTop-v.y,width:f.width,height:f.height}),popper:ad(g)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(t){return o.modifiersData[t.name]=Object.assign({},t.data)});for(var _=0;_<o.orderedModifiers.length;_++){if(!0===o.reset){o.reset=!1,_=-1;continue}var b=o.orderedModifiers[_],x=b.fn,k=b.options,w=void 0===k?{}:k,S=b.name;"function"==typeof x&&(o=x({state:o,options:w,name:S,instance:l})||o)}}},update:(n=function(){return new Promise(function(t){l.forceUpdate(),t(o)})},function(){return!r&&(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(n())})})),r}),destroy:function(){c(),s=!0}};if(!aV(t,e))return l;l.setOptions(i).then(function(t){!s&&i.onFirstUpdate&&i.onFirstUpdate(t)});function c(){a.forEach(function(t){return t()}),a=[]}return l}),aW=function(t){if(!t)return 0;let e="string"==typeof t?t:t.$options.name;switch(e=e.replace("klk-","")){case"toast":case"message":return 3e3;case"modal":case"bottom-sheet":case"drawer":case"loading":return 2e3;case"notification":return 1200;case"announcement":return 600;case"poptip":case"dropdown":case"select":return 200;default:return 0}}("klk-poptip");iO.default.use({install:function(t){[oH,oO,oP,o$,oL,oE,oT].forEach(function(e){return t.component(e.name,e)}),t.directive(oX.name,oX),t.directive(oj.name,oj),t.directive(oW.name,oW),t.directive(oU.name,oU)}});var aq={name:"klk-poptip",components:{Icon:ow,IconClose:na.Z},directives:{clickOutside:oX},mixins:[{props:{rtl:Boolean},computed:{isRtl(){return this.rtl||this.$form&&this.$form.rtl||this.$klookui&&(this.$klookui.config||{}).rtl}}}],props:{value:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},placement:{type:String,default:"top",validator:function(t){return["top-start","top","top-end","left-start","left","left-end","right-start","right","right-end","bottom-start","bottom","bottom-end"].includes(t)}},trigger:{type:String,validator:function(t){return["hover","click","focus","none"].includes(t)},default:"hover"},offset:{type:[Number,Array],default:10},popperEl:{},referenceEl:{},fixed:{type:Boolean,default:!1},disabled:Boolean,arrow:{type:Boolean,default:!0},closable:Boolean,width:Number,maxWidth:{type:Number,default:360},height:Number,maxHeight:{type:Number,default:168},zIndex:{type:Number,default:aW},dark:Boolean,appendToBody:Boolean,flip:Boolean,preventOverflow:Boolean,hideDelay:{type:Number,default:50},showDelay:{type:Number,default:0},flipOptions:{type:Object,default:function(){return{}}},preventOverflowOptions:{type:Object,default:function(){return{}}}},data:function(){return{showPopper:this.value,popperIns:null,inputEl:null,popperClicked:!1,closeDelay:this.hideDelay,closeDelayTimer:null,showDelayTimer:null}},computed:{cClass:function(){return{"klk-poptip":!0,"klk-poptip-dark":this.dark,"klk-poptip-closable":this.closable,"klk-poptip-with-title":!!(this.title||this.$slots.title),"klk-poptip-no-arrow":!this.arrow,"klk-poptip-rtl":this.isRtl}},innerStyle:function(){return{width:oB(this.width),maxWidth:oB(this.maxWidth),height:oB(this.height,-24),maxHeight:oB(this.maxHeight,-24)}},realPlacement:function(){return this.isRtl?/^(top|bottom)\-start$/.test(this.placement)?this.placement.replace("start","end"):/^(top|bottom)\-end$/.test(this.placement)?this.placement.replace("end","start"):this.placement:this.placement}},watch:{value:{immediate:!0,handler:function(t){this[t?"open":"hide"](),this.$emit("input",t)}},showPopper:function(t){t?(this.updatePopper(),this.$emit("show")):this.$emit("hide"),this.$emit("input",t)},placement:function(){this.onPopperOptionsUpdate()},offset:function(){this.onPopperOptionsUpdate()}},mounted:function(){this.initFocus()},updated:function(){var t=this;this.$nextTick(function(){return t.updatePopper()})},beforeDestroy:function(){if(this.inputEl&&(oA(this.inputEl,"focus",this.onFocus),oA(this.inputEl,"blur",this.onBlur)),!oI&&this.popperIns&&(this.popperIns.destroy(),this.popperIns=null),this.appendToBody){var t=this.getPopperEl();t&&t.parentNode===document.body&&document.body.removeChild(t)}clearTimeout(this.hideDelay),clearTimeout(this.showDelay)},methods:{updatePopper:function(){!oI&&(this.popperIns?this.popperIns.update():this.createPopper())},onPopperOptionsUpdate:function(){this.popperIns&&this.popperIns.setOptions(this.getPopperOptions())},getPopperOptions:function(){var t=this;return{placement:this.realPlacement,modifiers:[{name:"offset",options:{offset:function(){return Array.isArray(t.offset)?t.offset:[0,t.offset]}}},{name:"flip",enabled:this.flip,options:this.flipOptions},{name:"preventOverflow",enabled:this.preventOverflow,options:this.preventOverflowOptions}],strategy:this.fixed?"fixed":"absolute"}},createPopper:function(){if(!oI&&!this.popperIns){var t=this.referenceEl||this.$refs.reference,e=this.getPopperEl();if(t&&e){this.appendToBody&&document.body.appendChild(e);var i=this.getPopperOptions();this.popperIns=az(t,e,i)}}},initFocus:function(){var t=this;this.shouldResponse("focus")&&this.$nextTick(function(){var e=t.$refs.reference.querySelectorAll("input"),i=t.$refs.reference.querySelectorAll("textarea");t.inputEl=e?e[0]:i?i[0]:null,t.inputEl&&(oF(t.inputEl,"focus",t.onFocus),oF(t.inputEl,"blur",t.onBlur))})},getPopperEl:function(){return this.popperEl||this.$refs.popper},shouldResponse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!(oI||this.disabled||this.trigger!==t)},onClick:function(){this.shouldResponse("click")&&this[this.showPopper?"hide":"open"]()},onClickOutside:function(t){if(this.appendToBody){var e=this.getPopperEl();t&&(t.target===e||e.contains(t.target))?this.popperClicked=!0:this.popperClicked=!1}else this.popperClicked=!1;this.shouldResponse("click")&&this.close()},onMouseenter:function(){clearTimeout(this.closeDelayTimer),this.shouldResponse("hover")&&this.open()},onMouseleave:function(){var t=this;clearTimeout(this.closeDelayTimer),this.shouldResponse("hover")&&(this.closeDelayTimer=setTimeout(function(){t.close()},this.closeDelay))},onFocus:function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];(!this.inputEl||t)&&this.shouldResponse("focus")&&this.open()},onBlur:function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];(!this.inputEl||t)&&this.shouldResponse("focus")&&this.close()},open:function(){var t=this;clearTimeout(this.showDelayTimer),this.showDelayTimer=setTimeout(function(){t.showPopper=!0},this.showDelay)},show:function(){this.open()},close:function(){if(!(this.appendToBody&&this.popperClicked&&["click"].includes(this.trigger)))clearTimeout(this.showDelayTimer),this.showPopper=!1},hide:function(){this.close()}}},aU=ox({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(e){return t.onClickOutside(e)},expression:"e => onClickOutside(e)"}],ref:"poptip",class:t.cClass,attrs:{"data-placement":t.realPlacement}},[i("div",{ref:"reference",staticClass:"klk-poptip-reference",on:{click:t.onClick,mouseenter:t.onMouseenter,mouseleave:t.onMouseleave,mousedown:function(e){return t.onFocus(!1)},mouseup:function(e){return t.onBlur(!1)}}},[t._t("default")],2),t._v(" "),i("klk-fade-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper&&(!!t.title||t.$slots.title||!!t.content||t.$slots.content),expression:"showPopper && (!!title || $slots.title || !!content || $slots.content)"}],ref:"popper",class:{"klk-poptip-popper":!0,dark:t.dark},style:{zIndex:t.zIndex},on:{click:function(t){return t.stopPropagation(),void 0},mouseenter:t.onMouseenter,mouseleave:t.onMouseleave}},[i("div",{staticClass:"klk-poptip-popper-inner",style:t.innerStyle},[t.title||t.$slots.title?i("div",{staticClass:"klk-poptip-popper-title"},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),i("div",{staticClass:"klk-poptip-popper-content"},[t._t("content",[t._v(t._s(t.content))])],2)]),t._v(" "),t.closable?i("IconClose",{staticClass:"klk-poptip-popper-close-btn",attrs:{theme:"outline",fill:"currentColor",size:16},nativeOn:{click:function(e){return t.close(e)}}}):t._e()],1)])],1)},staticRenderFns:[]},void 0,aq,void 0,!1,void 0,!1,void 0,void 0,void 0);aU.install=function(t){t.component(aU.name,aU)};var aZ=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=parseInt((t=t.replace("#","")).substring(0,2),16),n=parseInt(t.substring(2,4),16),r=parseInt(t.substring(4,6),16);return"rgba("+i+", "+n+", "+r+", "+e+")"},aG={common:function(){var t=this.$createElement,e=this.tag;if(!e.text&&!e.name)return null;var i="countdown_manual_tag"===e.type;if(i&&!this.timeLeftDesc)return null;var n=e.style||{color:e.text_color||"#212121",background:e.bg_color||void 0,border:e.border_color?"1px solid ".concat(e.border_color):void 0,padding:"0px 4px",borderRadius:"2px"};"countdown_manual_tag"===e.type&&(n.color=e.tag_color,n.border="1px solid ".concat(aZ(e.tag_color,.4)),n.fontSize="12px",n.height="20px",n.lineHeight="20px");var r=!e.bg_color&&!e.border_color&&!e.style&&!e.tag_color;return r&&delete n.padding,t("div",{class:"hotel-card-tag ".concat(e.type?"type-".concat(e.type):""," ").concat(r?"no-padding":""),style:n},[e.icon&&t("img",{domProps:{src:e.icon}}),t("span",{domProps:{innerHTML:"".concat(e.text||e.name).concat(i?": ".concat(this.timeLeftDesc):"")}})])},reward:function(){var t=this.$createElement,e=this.tag,i=this.oid,n={},r={};e.bg_url&&(n.background="url(".concat(e.bg_url,") 0% 0% / cover no-repeat")),e.text_color&&(r.color=e.text_color);var o="MemberRateTag".concat("Gold"===e.id?"Gold":"Member");return t("div",{class:"hotel-card-tag type-reward type-reward-".concat(e.id),style:n,attrs:{"data-spm-module":"".concat(o,"?oid=hotel_").concat(encodeURIComponent(i),"&ext=").concat(encodeURIComponent(JSON.stringify({ResourceTag:e.id})))},directives:[{name:"galileo-click-tracker",value:{spm:o}}]},[e.icon_src&&t("img",{domProps:{src:e.icon_src}}),t("span",{style:r,domProps:{innerHTML:e.text}})])},hotel_sustainable_tag:function(){var t=this.$createElement,e=this.tag,i=this.platform;if(!e.text&&!e.name)return null;var n=t("div",{class:"sustainable-tag"},[t("img",{attrs:{src:e.icon_src}})]);return"desktop"===i?t(aU,{props:{content:e.text,placement:"top",maxWidth:430,offset:15,flip:!0,flipConfig:{fallbackPlacements:["right","left","top","bottom"],rootBoundary:"viewport",padding:80}}},[n]):n}},aY=iO.default.extend({name:"HotelCardTag",props:["tag","type","oid","platform","size"],components:{KlkAtomicBasicTag:ny.lR},data:function(){return{timeLeftDesc:""}},render:function(t){if(!this.tag)return null;var e=this.tag.type,i=["hotel-klk-atomic-basic-tag"];if(["manual_tag","hotel_manual_tag","vertical_promo_tag","platform_promo_code_tag"].includes(e))return!this.tag.bg_color&&!this.tag.line_color&&i.push("hotel-no-bg"),t("klk-atomic-basic-tag",{props:{data:this.tag,size:this.size||"small"},class:i.join(" "),style:{}});if("hotel_promo_code_tag"===e){var n=Array.isArray(this.tag.hover_list)?this.tag.hover_list[0]:null;return t("klk-poptip",{props:{content:n?"".concat(n.title||"").concat(n.desc||""):"",dark:!0}},[t("klk-atomic-basic-tag",{props:{data:Object.assign(Object.assign({},this.tag),{type:"platform_promo_code_tag"}),size:"small"},class:i.join(" ")})])}var r=this.tag.renderer||this.tag.type&&aG[this.tag.type]||aG[this.type];return"function"==typeof r?r.call(this):this.tag.name&&t("div",{class:"hotel-card-tag"},[t("span",this.tag.name)])},mounted:function(){var t=this,e=this.tag||{},i=e.type,n=e.time_left;if("countdown_manual_tag"===i&&n>0){var r=function(e){if(!e||1>+e)return t.$t("74910-Event is over");var i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),r=e-3600*i-60*n,o=[i,n,r].map(function(t){return"".concat(t>9?t:"0".concat(t))}).join(":");return t.$t("74909-Ends in ".concat(o),{hh_mm_ss:'<span class="time-count">'.concat(o.replace(/(\d)/g,"<span>$1</span>"),"</span>")})},o=clearInterval.bind(null,setInterval(function(){t.timeLeftDesc=r(n--),n||o()},1e3));this.$once("hook:beforeDestroy",o)}}});function aK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aX(t,e){return t(e={exports:{}},e.exports),e.exports}var aJ=aX(function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports});aK(aJ);var aQ=aX(function(t){t.exports=function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports});aK(aQ);var a0=aX(function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n},t.exports.__esModule=!0,t.exports.default=t.exports});aK(a0);var a1=aX(function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return a0(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a0(t,e)}},t.exports.__esModule=!0,t.exports.default=t.exports});aK(a1);var a2=aX(function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});aK(a2),aK(aX(function(t){t.exports=function(t,e){return aJ(t)||aQ(t,e)||a1(t,e)||a2()},t.exports.__esModule=!0,t.exports.default=t.exports}));var a4=aK(aX(function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports})),a5=aX(function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});aK(a5);var a9=aX(function(t){var e=a5.default;t.exports=function(t,i){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,i||"default");if("object"!==e(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports});aK(a9);var a3=aX(function(t){var e=a5.default;t.exports=function(t){var i=a9(t,"string");return"symbol"===e(i)?i:String(i)},t.exports.__esModule=!0,t.exports.default=t.exports});aK(a3);var a6=aK(aX(function(t){function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a3(n.key),n)}}t.exports=function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports})),a8=function(){function t(e){a4(this,t),this._handlers={};var i="string"==typeof e?document.querySelector(e):e;if(!!i)this._el=i,this._startHandler=this.onTouchStart.bind(this),this._moveHandler=this.onTouchMove.bind(this),this._endHandler=this.onTouchEnd.bind(this),this._cancelHandler=this.onTouchCancel.bind(this),this._el.addEventListener("touchstart",this._startHandler,!0),this._el.addEventListener("touchmove",this._moveHandler,!1),this._el.addEventListener("touchend",this._endHandler,!0),this._el.addEventListener("touchcancel",this._cancelHandler,!0)}return a6(t,[{key:"onTouchStart",value:function(t){if(!!t.touches)this.v1={x:t.touches[0].pageX,y:t.touches[0].pageY},this.last=Date.now()}},{key:"onTouchMove",value:function(t){if(!!t.touches)this.v2={x:t.touches[0].pageX,y:t.touches[0].pageY},this.deltaV={x:this.v2.x-this.v1.x,y:this.v2.y-this.v1.y},Math.abs(this.deltaV.x)>Math.abs(this.deltaV.y)&&(this.$emit("move",{delta:this.deltaV}),t.stopPropagation(),t.preventDefault())}},{key:"onTouchEnd",value:function(t){var e=this;if(!!t.changedTouches&&!!this.v2){var i=Math.abs(this.v1.x-this.v2.x),n=Math.abs(this.v1.y-this.v2.y);if(i>0&&i>n){var r=this.v1.x-this.v2.x>0?"Left":"Right";this._swiperTimeout=setTimeout(function(){e.$emit("swipe",{direction:r,delta:e.deltaV,timeDiff:Date.now()-e.last})},0)}this.v1=this.v2={x:0,y:0}}}},{key:"onTouchCancel",value:function(){clearTimeout(this._swiperTimeout)}},{key:"$on",value:function(t,e){!this._handlers[t]&&(this._handlers[t]=[e])}},{key:"$emit",value:function(t,e){(this._handlers[t]||[]).forEach(function(t){return t(e)})}},{key:"destroy",value:function(){var t=this;if(!!this._el)["start","move","end","cancel"].forEach(function(e){return t._el.removeEventListener("touch".concat(e),t["_".concat(e,"Handler")])}),this._el=null,this._handlers={}}}]),t}(),a7=function(t){if(t.wrapperEl.children.length<2)return function(){};var e,i=0,n=function(){if(!t.containerEl.offsetWidth){i=0;return}i=parseFloat(window.getComputedStyle(t.containerEl).getPropertyValue("width"))};n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n);var r=-i,o=t.wrapperEl.children.length,a=function(e,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!i&&(n(),r=-i);var l=r;return 0===Math.abs(r)&&a.x>0?l=-(o-2)*i:Math.abs(r)===(o-1)*i&&a.x<0&&(l=-i),Object.assign(t.wrapperEl.style,{transitionDuration:s?"300ms":"0ms",transform:"translate3d(".concat(l+e,"px, 0px, 0px)")}),l+e},s=function(){var e=Math.floor(Math.abs(r)/i);"function"==typeof t.onChange&&t.onChange(0===e?o-2:e===o-1?1:e);var n=Array.from(t.wrapperEl.querySelectorAll("img")).map(function(t){return t.__vue__});[n[e-1],n[e+1]].forEach(function(t){t&&"function"==typeof t.preload&&t.preload()})};if("mobile"===t.platform)(e=new a8(t.containerEl)).$on("move",function(t){a(t.delta.x,t.delta)}),e.$on("swipe",function(t){var e=t.direction,n=t.delta;if(Math.abs(3*n.x)<i&&t.timeDiff>250){a(0,t.delta,!0);return}r=a(("Left"===e?-1:1)*i,n,!0),s()});else if(t.leftArrowEl&&t.rightArrowEl){var l=t.containerEl.parentElement;l.addEventListener("mouseenter",function(){t.leftArrowEl.style.display=t.rightArrowEl.style.display="flex"},!0),l.addEventListener("mouseleave",function(){t.leftArrowEl.style.display=t.rightArrowEl.style.display="none"}),t.leftArrowEl.addEventListener("click",function(t){a(0,{x:1,y:0}),setTimeout(function(){r=a(i,{x:1,y:0},!0),s()},0),t.stopPropagation(),t.preventDefault()},!0),t.rightArrowEl.addEventListener("click",function(t){a(0,{x:-1,y:0}),setTimeout(function(){r=a(-i,{x:-1,y:0},!0),s()},0),t.stopPropagation(),t.preventDefault()},!0)}return function(){e&&e.destroy(),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},st=function(t){return t.replace(/^https?:\/\/[^\/]+(.*)$/,"$1")},se=function(t,e){var i=document.createElement("a");i.href=st(t),i.target=e,document.body.appendChild(i),i.click(),setTimeout(function(){return document.body.removeChild(i)},500)},si=void 0,sn=function(){return void 0!==si?si:si=/\/hotels\/city\//.test(location.pathname)||/\/destination\//.test(location.pathname)},sr=function(t,e,i,n){var r=t.querySelector(".price-info"),o=t.querySelector(".price-sale"),a=t.querySelector(".tax-desc"),s=t.querySelector(".price-origin");if(r){var l=r.offsetWidth,c=(null==o?void 0:o.offsetWidth)||0,u=(null==a?void 0:a.offsetWidth)||0,d=(null==s?void 0:s.offsetWidth)||0;"listVertical"===n&&u&&u+d+8+2+c>l&&(a.style.marginRight="0"),d&&d+2+c>l&&(s.style.marginRight="0")}},so=aX(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});aK(so);var sa=aK(aX(function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&so(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports})),ss=aX(function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports});aK(ss);var sl=aK(aX(function(t){var e=a5.default;t.exports=function(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return ss(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),sc=aK(aX(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));function su(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}function sd(t,e,i,n){return new(i||(i=Promise))(function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((n=n.apply(t,e||[])).next())})}var sp=aX(function(t){t.exports=function(t){if(Array.isArray(t))return a0(t)},t.exports.__esModule=!0,t.exports.default=t.exports});aK(sp);var sf=aX(function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports});aK(sf);var sh=aX(function(t){t.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports});aK(sh);var sv=aK(aX(function(t){t.exports=function(t){return sp(t)||sf(t)||a1(t)||sh()},t.exports.__esModule=!0,t.exports.default=t.exports})),sy=function(t){sa(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=sc(e);return t=i?Reflect.construct(n,arguments,sc(this).constructor):n.apply(this,arguments),sl(this,t)});function r(){var t;return a4(this,r),t=n.apply(this,arguments),t.imageIndex=0,t._axios=null,t.isRightClick=!1,t}return a6(r,[{key:"isMobile",get:function(){return"mobile"===this.platform}},{key:"cleanHref",get:function(){var t;return this.isRightClick&&!sn()?this.href:"string"!=typeof(t=this.href)?t:st(t).replace(/\?[\s\S]*$/,"")}},{key:"cardStyle",get:function(){return{width:+this.width?"".concat(parseFloat(this.width),"px"):void 0,height:+this.height?"".concat(parseFloat(this.height),"px"):void 0}}},{key:"formatTarget",get:function(){return this.target||(this.isMobile?"_self":"_blank")}},{key:"cardLayout",get:function(){return this.layout||(["listHorizontal","mapNearby","mapList"].includes(this.scene)||"long"===this.type?"horizontal":"vertical")}},{key:"formatCardInfo",get:function(){if(this.isAllInfoCard)return this.cardInfo;var t,e=JSON.parse(JSON.stringify(this.cardInfo));var i=(t=e,{imageList:function(){var e=t.hotel_info.image_list;t.hotel_info.image_list=e.slice(0,1)},reviewNumDesc:function(){t.hotel_info.review_num_desc=void 0},nameEn:function(){t.hotel_info.local_name=void 0},location:function(){t.hotel_info.location=void 0},stayPlusList:function(){t.stay_plus_list=void 0},featureTags:function(){t.feature_tag_list=void 0},promotionTags:function(){t.promotion_tag_list=void 0,t.promo_tag_list=void 0},bookingTag:function(){t.book_tag=void 0},priceTags:function(){t.pricing.price_tag_list=void 0},taxDesc:function(){t.pricing.tax_desc=""},rewardDesc:function(){t.pricing.reward_desc=""},originalPriceDesc:function(){t.pricing.original_price_desc=""},checkInDesc:function(){t.pricing.check_in_desc=""},stockDesc:function(){t.stock_tag=void 0},discountType:function(){t.pricing.discount_type=void 0},campaignTag:function(){t.campaign_tag=void 0}});if(i.campaignTag(),"long"!==this.type&&i.rewardDesc(),"small"===this.type)return i.imageList(),i.reviewNumDesc(),i.stayPlusList(),i.location(),i.featureTags(),i.promotionTags(),i.bookingTag(),i.priceTags(),i.taxDesc(),i.nameEn(),i.checkInDesc(),i.stockDesc(),i.discountType(),e;var n=["mapNearby","mapList"].includes(this.scene);return"normal"===this.type&&(i.promotionTags(),i.stayPlusList(),n||i.bookingTag(),i.checkInDesc(),i.checkInDesc(),i.stockDesc(),i.discountType(),n&&(i.nameEn(),i.featureTags(),i.priceTags(),i.originalPriceDesc(),"mapNearby"===this.scene&&i.bookingTag(),"mapList"===this.scene&&i.location())),e}},{key:"isAllInfoCard",get:function(){return["listHorizontal"].includes(this.scene)||"long"===this.type}},{key:"_t",get:function(){return this.t||(this===null||void 0===this?void 0:this.$t)||"undefined"!=typeof $klook&&(null==$klook?void 0:$klook.$t)||null}},{key:"_inhouse",get:function(){return(this===null||void 0===this?void 0:this.$inhouse)||"undefined"!=typeof $klook&&(null==$klook?void 0:$klook.$inhouse)||null}},{key:"imageList",get:function(){return this.formatCardInfo.hotel_info.image_list}},{key:"pricing",get:function(){return this.formatCardInfo.pricing}},{key:"renderHighlightTag",value:function(t,e){var i=this.$createElement;return t&&i("div",{class:"hotel-highlight-tag ".concat(e)},[i("span",[" ",t," "])])}},{key:"getCardHref",value:function(){return sn()?this.cleanHref:this.href}},{key:"onClick",value:function(t){return!this.$listeners.click&&this.href&&this.formatTarget?se(this.getCardHref(),this.formatTarget):this.$emit("click",t),t.preventDefault(),!1}},{key:"triggerClick",value:function(){var t=this;setTimeout(function(){t.$el.click()},200)}},{key:"mounted",value:function(){setTimeout(this.initEvent,500)}},{key:"beforeMount",value:function(){this._axios=this.$attrs.axios||(null==window?void 0:window.$axios)}},{key:"beforeDestroy",value:function(){"function"==typeof this._destroySwiper&&this._destroySwiper()}},{key:"initEvent",value:function(){var t=this;if(!!this.$el&&!!this.$el.querySelector){var e=this.$el.querySelector(".header-img-container"),i=this.$el.querySelector(".header-img-wrapper");e&&i&&(this._destroySwiper=a7({containerEl:e,wrapperEl:i,leftArrowEl:this.$el.querySelector(".header-left-arrow"),rightArrowEl:this.$el.querySelector(".header-right-arrow"),onChange:function(e){return t.imageIndex=e-1},platform:this.platform||"mobile"})),sr(this.$el,this.isMobile,this.type,this.scene)}}}]),r}(X.Vue);su([(0,X.Prop)({type:String,default:function(){return""}})],sy.prototype,"spm",void 0),su([(0,X.Prop)({type:Object,default:function(){return{}}})],sy.prototype,"cardInfo",void 0),su([(0,X.Prop)({type:[Number,String],default:""})],sy.prototype,"width",void 0),su([(0,X.Prop)({type:[Number,String],default:""})],sy.prototype,"height",void 0),su([(0,X.Prop)({type:String,default:"normal"})],sy.prototype,"type",void 0),su([(0,X.Prop)({type:String,default:"desktop"})],sy.prototype,"platform",void 0),su([(0,X.Prop)({type:String,default:""})],sy.prototype,"layout",void 0),su([(0,X.Prop)({type:String,default:""})],sy.prototype,"href",void 0),su([(0,X.Prop)({type:String,default:""})],sy.prototype,"target",void 0),su([(0,X.Prop)({type:Boolean,default:!1})],sy.prototype,"noLazy",void 0),su([(0,X.Prop)({type:String,default:""})],sy.prototype,"scene",void 0),su([(0,X.Prop)({type:Boolean,default:!1})],sy.prototype,"showRightIcon",void 0),su([(0,X.Prop)({type:Boolean,default:!1})],sy.prototype,"showFavorite",void 0),su([(0,X.Prop)({type:Boolean,default:!1})],sy.prototype,"showMap",void 0),su([(0,X.Prop)({type:String,default:""})],sy.prototype,"favoriteSpm",void 0),su([(0,X.Prop)({type:Function,default:null})],sy.prototype,"t",void 0),su([(0,X.Provide)("_t")],sy.prototype,"_t",null);var sm=sy=su([(0,X.Component)({components:{CardTag:aY}})],sy),sg=function(t,e,i,n,r,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var u,d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){var p=d.render;d.render=function(t,e){return u.call(e),p(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}}return i};let s_=sg({render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.26786 2.20748C5.96823 1.92148 5.49349 1.93252 5.20748 2.23214C4.94748 2.50453 4.93297 2.92164 5.15759 3.21011L5.23214 3.29252L10.165 8L5.23214 12.7075C4.95976 12.9675 4.92587 13.3835 5.13684 13.6821L5.20748 13.7679C5.46749 14.0402 5.88348 14.0741 6.18207 13.8632L6.26786 13.7925L11.7679 8.54252C12.0492 8.27392 12.0748 7.84114 11.8446 7.54269L11.7679 7.45748L6.26786 2.20748Z",fill:"currentColor"}})])},staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0);var sb=aX(function(t){var e=a5.default;function i(){t.exports=i=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,i){return t[e]=i}}function p(t,e,i,n){var r=Object.create((e&&e.prototype instanceof v?e:v).prototype);return a(r,"_invoke",{value:function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return $()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=function t(e,i){var n=i.method,r=e.iterator[n];if(void 0===r)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=void 0,t(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,h;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,h):a:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,h)}(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=f(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,new O(n||[]))}),r}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var h={};function v(){}function y(){}function m(){}var g={};d(g,l,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(P([])));b&&b!==r&&o.call(b,l)&&(g=b);var x=m.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach(function(e){d(t,e,function(t){return this._invoke(e,t)})})}function w(t,i){var n;a(this,"_invoke",{value:function(r,a){function s(){return new i(function(n,s){!function n(r,a,s,l){var c=f(t[r],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==e(d)&&o.call(d,"__await")?i.resolve(d.__await).then(function(t){n("next",t,s,l)},function(t){n("throw",t,s,l)}):i.resolve(d).then(function(t){u.value=t,s(u)},function(t){return n("throw",t,s,l)})}l(c.arg)}(r,a,n,s)})}return n=n?n.then(s,s):s()}})}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:$}}function $(){return{value:void 0,done:!0}}return y.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:y,configurable:!0}),y.displayName=d(m,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,d(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},n.awrap=function(t){return{__await:t}},k(w.prototype),d(w.prototype,c,function(){return this}),n.AsyncIterator=w,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new w(p(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(x),d(x,u,"Generator"),d(x,l,function(){return this}),d(x,"toString",function(){return"[object Generator]"}),n.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},n}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports});aK(sb);var sx=sb();try{regeneratorRuntime=sx}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=sx:Function("r","regeneratorRuntime = r")(sx)}var sk=function(t){sa(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,i=sc(e);return t=n?Reflect.construct(i,arguments,sc(this).constructor):i.apply(this,arguments),sl(this,t)});function o(){var t;return a4(this,o),t=r.apply(this,arguments),t.loading=!1,t}return a6(o,[{key:"attrs",get:function(){return this.currentFavorite?{fill:"#FF5B00"}:{fill:"black","fill-opacity":"0.38"}}},{key:"galileoSpm",get:function(){var t,e,i=this,n=null===(e=null===(t=this.favoriteSpm)||void 0===t?void 0:t.split("?"))||void 0===e?void 0:e[0];return{spm:n,enable:!!n,eventData:function(){var t,e,n,r;return rH.fromObject({product_id:String(null===(e=null===(t=i.cardInfo)||void 0===t?void 0:t.hotel_info)||void 0===e?void 0:e.hotel_id),sub_category_id:String((null===(r=null===(n=i.cardInfo)||void 0===n?void 0:n.hotel_info)||void 0===r?void 0:r.sub_category_id)||""),action_type:i.currentFavorite?"cut":"add"})}}}},{key:"action",value:function(t){var e,n,r,o;return sd(this,void 0,void 0,sx.mark(function a(){var s,l,c=this;return sx.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),t.stopPropagation(),a.next=4,function(t,e,n){var r,o,a;return sd(this,void 0,void 0,sx.mark(function s(){var l,c,u,d,p,f,h,v,y,m,g;return sx.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(null===(r=t.$store)||void 0===r?void 0:r.state){s.next=2;break}return s.abrupt("return",!1);case 2:if(c=(l=null===(o=t.$store)||void 0===o?void 0:o.state).auth.isLoggedIn,u=l.klook,c){s.next=30;break}if(s.prev=4,d=u.platform,p=u.platformMp,f=u.isOpenHarmony,h=u.language,v=u.currency,y=u.utilConfig.whiteLabelUtilConfig,!(p||f)){s.next=9;break}throw n=!0,Error("unable login");case 9:if(!y){s.next=11;break}return s.abrupt("return",y.wlLogin({redirectUrl:window.location.href}));case 11:return s.next=13,Promise.all([i.e("45926"),i.e("22875"),i.e("68718")]).then(i.bind(i,92593));case 13:return m=s.sent.loginWithSDK,s.next=17,new Promise(function(e,i){var n;m({aid:null===(n=t.$cookies)||void 0===n?void 0:n.get("aid"),isMP:!1,isKlookApp:!1,platform:d,language:h,currency:v,bizName:"HOTEL",purpose:"Booking",market:u.market,cancel:i,success:e}).then(function(t){if(!t)return i(Error("no support login with SDK"))})});case 17:if(!(!(g="function"==typeof e)&&e)){s.next=21;break}return setTimeout(t.$router.go,100),s.abrupt("return",!1);case 21:return s.next=23,null===(a=t.$store)||void 0===a?void 0:a.dispatch("auth/getProfile");case 23:g&&e(),s.next=30;break;case 26:return s.prev=26,s.t0=s.catch(4),n&&("function"==typeof n?n():window.location.href=t.$href("/signin")),s.abrupt("return",!1);case 30:return s.abrupt("return",!0);case 31:case"end":return s.stop()}},s,null,[[4,26]])}))}(this,!0);case 4:if(a.sent){a.next=6;break}return a.abrupt("return");case 6:if(!this.loading){a.next=8;break}return a.abrupt("return");case 8:this.loading=!0,s=null===(n=null===(e=this.cardInfo)||void 0===e?void 0:e.hotel_info)||void 0===n?void 0:n.hotel_id,l=(null===(r=this.cardInfo)||void 0===r?void 0:r.deep_link)||"";try{l=new URL(l,location.origin).toString()}catch(t){}null===(o=this.$parent._axios)||void 0===o||o.$post(this.currentFavorite?"/v2/platformbffsrv/wishlist/favorites/joint/remove":"/v2/platformbffsrv/wishlist/favorites/joint/put",{object_id:"11".concat(Array.from({length:8-s.toString().length},function(){return 0}).join("")).concat(s),object_type:"act-102",deeplink:l}).then(function(t){var e="";t.success?c.$emit("saved",{hotel_id:s,status:!c.currentFavorite,message:e}):e=(null==t?void 0:t.error.message)||""}).finally(function(){c.loading=!1});case 13:case"end":return a.stop()}},a,this)}))}}]),o}(X.Vue);su([(0,X.Prop)({type:Boolean,default:!1})],sk.prototype,"currentFavorite",void 0),su([(0,X.Prop)({type:Object,default:function(){return{}}})],sk.prototype,"cardInfo",void 0),su([(0,X.Prop)({type:String,default:""})],sk.prototype,"favoriteSpm",void 0);var sw=sk=su([(0,X.Component)({components:{}})],sk);let sS=sg({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:this.galileoSpm,expression:"galileoSpm"}],staticClass:"favorite-wrap",attrs:{"data-spm-virtual-item":"__virtual?trg=manual","data-spm-module":this.favoriteSpm},on:{click:this.action}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 8.83152C1.01005 5.32375 3.72586 2.40002 7.1749 2.40002C9.14088 2.40002 10.876 3.35709 12 4.82508C13.124 3.35709 14.8591 2.40002 16.8251 2.40002C20.2806 2.40002 23 5.3346 23 8.85119C23 8.87112 22.9989 8.93926 22.998 8.99535L22.9971 9.05216C22.9968 9.07005 22.9966 9.08644 22.9964 9.1C22.9962 9.1109 22.9961 9.11908 22.996 9.1244C22.996 9.12518 22.9961 9.12596 22.9961 9.12675C22.9961 12.0246 21.6774 14.5235 19.7977 16.6271C17.9223 18.7259 15.4432 20.4845 12.9968 21.9294C12.3778 22.295 11.6073 22.2898 10.9934 21.916C8.56088 20.4349 6.09711 18.6407 4.22674 16.5103C2.35263 14.3756 1.03161 11.8525 1.00056 8.93868C1.00009 8.90205 1 8.86662 1 8.83401L1 8.83152ZM22.9961 9.12675C22.996 9.12854 22.996 9.12801 22.9961 9.12675C22.9961 9.12674 22.9961 9.12699 22.9961 9.12675ZM2.75124 8.83529C2.75125 8.86487 2.75134 8.89168 2.75167 8.91731L2.75169 8.91935C2.77669 11.2873 3.8451 13.4259 5.54512 15.3623C7.24907 17.3032 9.54444 18.9896 11.9069 20.428C11.9674 20.4648 12.0427 20.4653 12.1035 20.4293C14.4791 19.0262 16.7852 17.375 18.4894 15.4677C20.1878 13.567 21.243 11.4655 21.2448 9.13288C21.2448 9.12702 21.2448 9.12235 21.2448 9.12074C21.2448 9.11557 21.2449 9.11025 21.2449 9.10635C21.245 9.09784 21.2451 9.0867 21.2453 9.07461C21.2457 9.05011 21.2462 9.01746 21.2467 8.98479C21.2472 8.95178 21.2478 8.9186 21.2482 8.89204C21.2486 8.86091 21.2488 8.84927 21.2488 8.85119C21.2488 6.20524 19.223 4.14409 16.8251 4.14409C15.2055 4.14409 13.7664 5.07431 12.9917 6.5007C12.5693 7.27848 11.4307 7.27848 11.0083 6.5007C10.2336 5.07431 8.79453 4.14409 7.1749 4.14409C4.78177 4.14409 2.75942 6.1969 2.75124 8.83529Z",fill:"white"}}),this._v(" "),e("path",this._b({attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.596 20.4029C12.2885 20.582 11.9083 20.5794 11.6032 20.3962C7.09725 17.6904 2.65247 13.9419 2.60008 9.0408C2.59977 9.01696 2.59961 8.99308 2.59961 8.96916L2.59961 8.96266L2.59961 8.95324C2.60787 6.10574 4.83097 3.80005 7.57208 3.80005C9.58395 3.80005 11.3168 5.04212 12.0996 6.82885C12.8825 5.04212 14.6153 3.80005 16.6271 3.80005C19.3734 3.80005 21.5996 6.11434 21.5996 8.96916C21.5996 9.05476 21.5976 9.13988 21.5937 9.22446H21.5959C21.5959 14.0799 17.1275 17.7634 12.596 20.4029Z"}},"path",this.attrs,!1))])])},staticRenderFns:[]},void 0,sw,void 0,!1,void 0,!1,void 0,void 0,void 0);var sC=function(t){sa(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=sc(e);return t=i?Reflect.construct(n,arguments,sc(this).constructor):n.apply(this,arguments),sl(this,t)});function r(){var t;return a4(this,r),t=n.apply(this,arguments),t.throttleResize=oo(function(){t.onResize()},200),t.fontSize=14,t.showText=t.text,t.showEllipsis=!1,t.firstLoad=!0,t}return a6(r,[{key:"className",get:function(){return{"hotel-ellipsis":!0,"has-ellipsis":this.showEllipsis,hasSuffix:this.hasSuffix}}},{key:"maxHeight",get:function(){return this.row?this.fontSize*(this.lineHeight||1.5)*this.row:0}},{key:"hasSuffix",get:function(){return this.suffix||this.$slots.suffix}},{key:"style",get:function(){if(!!this.row)return this.hasSuffix?{maxHeight:this.maxHeight?"".concat(this.maxHeight,"px"):void 0,overflow:"hidden",wordBreak:"break-word",lineHeight:1.5}:{overflow:"hidden","text-overflow":"ellipsis","white-space":"wrap",display:"-webkit-box","-webkit-line-clamp":this.row,"-webkit-box-orient":"vertical"}}},{key:"init",value:function(){var t=this.fontSize;if(this.setFontSize(),this.showEllipsis=!1,this.firstLoad=!0,this.showText===this.text&&t===this.fontSize)return this.sliceText();this.showText=this.text}},{key:"mounted",value:function(){this.init(),this.resize&&window.addEventListener("resize",this.throttleResize)}},{key:"beforeDestroy",value:function(){this.resize&&window.removeEventListener("resize",this.throttleResize)}},{key:"setFontSize",value:function(){var t;this.fontSize=this.initFontSize||parseInt((null===(t=window.getComputedStyle)||void 0===t?void 0:t.call(window,this.$el).fontSize)||"14")||0}},{key:"onResize",value:function(){this.init()}},{key:"sliceText",value:function(){var t=this;if(!!this.row&&!!this.hasSuffix)this.$nextTick(function(){var e=t.$el.scrollHeight;if(e<=t.maxHeight&&t.firstLoad){t.firstLoad=!1,t.showEllipsis=!1;return}t.firstLoad=!1,t.showEllipsis=!0,e>2*t.maxHeight?t.showText=t.showText.slice(0,-Math.floor(t.showText.length/2)):e>t.maxHeight&&(t.showText=t.showText.slice(0,-1))})}},{key:"initChange",value:function(){this.init()}},{key:"showTextChange",value:function(){this.sliceText()}}]),r}(X.Vue);su([(0,X.Prop)({type:String,default:""})],sC.prototype,"text",void 0),su([(0,X.Prop)({type:Number,default:0})],sC.prototype,"row",void 0),su([(0,X.Prop)({type:String,default:"..."})],sC.prototype,"ellipseStr",void 0),su([(0,X.Prop)({type:String,default:""})],sC.prototype,"suffix",void 0),su([(0,X.Prop)({type:Boolean,default:!0})],sC.prototype,"resize",void 0),su([(0,X.Prop)({type:Number,default:null})],sC.prototype,"initFontSize",void 0),su([(0,X.Prop)({type:Number,default:null})],sC.prototype,"lineHeight",void 0),su([(0,X.Watch)("text"),(0,X.Watch)("suffix")],sC.prototype,"initChange",null),su([(0,X.Watch)("showText"),(0,X.Watch)("fontSize")],sC.prototype,"showTextChange",null);var sO=sC=su([(0,X.Component)({components:{}})],sC);let sP=sg({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.className,style:this.style},[this._t("prefix"),this.showText?this._t("content",[e("span",{staticClass:"text"},[this._v(this._s(this.showText))])],{showText:this.showText}):this._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:this.showEllipsis,expression:"showEllipsis"}],staticClass:"ellipsis"},[this._v(this._s(this.ellipseStr))]),this._t("suffix",[e("span",{staticClass:"suffix"},[this._v(this._s(this.suffix))])])],2)},staticRenderFns:[]},void 0,sO,"data-v-feb655a6",!1,void 0,!1,void 0,void 0,void 0);var s$=function(t){sa(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=sc(e);return t=i?Reflect.construct(n,arguments,sc(this).constructor):n.apply(this,arguments),sl(this,t)});function r(){var t;return a4(this,r),t=n.apply(this,arguments),t.currentFavorite=t.cardInfo.wish,t}return a6(r,[{key:"galileoSpm",get:function(){var t,e,i=this,n=this.spm||(null===(e=null===(t=this.$attrs)||void 0===t?void 0:t["data-spm-module"])||void 0===e?void 0:e.split("?")[0]);return{name:"galileo-click-tracker",value:{spm:n,enable:!!n,eventData:function(){return rN.fromObject({product_id:String(i.formatCardInfo.hotel_info.hotel_id),sub_category_id:String(i.formatCardInfo.hotel_info.sub_category_id||""),is_favorite:i.currentFavorite?"true":"false"})}},modifiers:{exposure:!!n}}}},{key:"isGuestCheckout",get:function(){var t;return null===(t=this.$store)||void 0===t?void 0:t.getters.isGuestCheckout}},{key:"render",value:function(){var t=arguments[0],e=this.type,i=this.platform,n=this.scene,r=this.cardLayout,o=this.pricing.has_stock;return t("div",nU([{},{directives:[this.galileoSpm]},{class:"hotel-card hotel-card-v3 hotel-card-".concat(e," hotel-card-").concat(i," hotel-card-").concat(n," hotel-card-").concat(r," ").concat(o?"":"card-sold-out"," ").concat(this.isAllInfoCard&&this.cardInfo.rate_short_code?"hotel-card-shortcode":""),on:{click:this.onClick},style:this.cardStyle,attrs:{target:this.formatTarget}}]),[this.renderHotelHeader(),t("div",{class:"hotel-card-main"},[t("div",{class:"hotel-body-section"},[this.renderHotelInfo()]),t("div",{class:"hotel-bottom-section"},[this.$scopedSlots.bottomLeft?this.$scopedSlots.bottomLeft():this.renderHotelTag(),"  ",this.renderPlaceHolder(),this.renderPriceInfo()])]),this.isAllInfoCard&&!this.isMobile&&this.renderRateShortCount()])}},{key:"renderHotelHeader",value:function(){return(0,this.$createElement)("div",{class:"hotel-card-header"},[this.renderStayPlusTag(),this.renderImageHeader(),this.renderAdd2Favor(),this.renderImageCount(),this.isAllInfoCard&&this.isMobile&&this.renderRateShortCount()])}},{key:"renderStayPlusTag",value:function(){var t=this.$createElement,e=this.formatCardInfo.stay_plus_list;return e&&e.length&&e[0].icon&&t("div",{class:"hotel-stayplus-tag"},[t("img",{attrs:{src:e[0].icon}})])||null}},{key:"renderAdd2Favor",value:function(){var t=this,e=this.$createElement;return this.showFavorite&&!this.isGuestCheckout&&e("favorite-svg",{class:"hotel-add2favor",attrs:{cardInfo:this.formatCardInfo,favoriteSpm:this.favoriteSpm,currentFavorite:this.currentFavorite},on:{saved:function(e){t.currentFavorite=e.status,t.$emit("saved",e,t.$el)}}})}},{key:"renderImageSingle",value:function(){return(0,this.$createElement)("div",{class:"hotel-image-single"},[this.renderImage(this.imageList[0],0,this.noLazy,"horizontal"===this.cardLayout?750:350)])}},{key:"renderImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:375;return(0,this.$createElement)("k-image",{attrs:{scene:"HotelCard",src:t,config:{width:n},priority:i},key:e})}},{key:"renderRateShortCount",value:function(){var t=this.$createElement,e=this.cardInfo.rate_short_code;return e&&t("div",{class:"hotel-rate-short-code"},[t("span",[e])])}},{key:"renderImageHeader",value:function(){return"horizontal"===this.cardLayout?this.renderImageSingle():this.renderImageWrap()}},{key:"renderImageWrap",value:function(){var t=this,e=this.$createElement,i=this.imageList||[];return i.length>=2&&(i=[i[i.length-1]].concat(sv(i),[i[0]])),e("div",{class:"hotel-image-swipe"},[e("div",{class:"header-img-container"},[e("div",{class:"header-img-wrapper",style:{transform:"translate3d(".concat(i.length>1?"-100%":"0px",", 0px, 0px)")}},[i.map(function(e,n){return t.renderImage(e,n,t.noLazy&&n===(i.length>1?1:0))})])]),!this.isMobile&&i.length>1&&e("div",[e("div",{class:"card-flex header-left-arrow"},[e("arrow-svg")]),e("div",{class:"card-flex header-right-arrow"},[e("arrow-svg")])])])}},{key:"renderImageCount",value:function(){var t=this.$createElement;return this.imageList.length>1&&t("div",{class:"image-pagination"},[this.imageIndex+1,"/",this.imageList.length])}},{key:"renderHotelInfo",value:function(){var t=this.$createElement,e=this.formatCardInfo.campaign_tag;return t("div",{class:"hotel-info"},[e&&t("card-tag",{attrs:{tag:e}}),this.renderHotelName(),this.renderReview(),this.renderLocation()])}},{key:"renderHotelName",value:function(){var t=this,e=this.$createElement,i=this.type;this.isMobile,this.scene;var n=this.formatCardInfo.hotel_info,r=n.name,o=n.local_name,a=n.desc,s=this.isAllInfoCard&&o;return e("div",{class:"hotel-info-name"},[e("div",{class:"hotel-name-section"},[e("ellipsis",{class:{"hotel-name":!0,"has-english":s},attrs:{text:s?o:r,lineHeight:1.5,initFontSize:"long"===this.type?18:14,row:this.isAllInfoCard?0:2},scopedSlots:{content:function(i){var n=i.showText;return s?e("span",{class:"text"},[n]):e("h3",{class:"text"},[e("a",{attrs:{href:t.cleanHref},on:{contextmenu:t.onHrefRightClick,click:function(t){return t.preventDefault()}}},[n])])}}},[s?e("h3",{slot:"prefix",class:"prefix"},[e("a",{attrs:{href:this.cleanHref},on:{contextmenu:this.onHrefRightClick,click:function(t){return t.preventDefault()}}},[r])]):"",e("template",{slot:"suffix"},[this.renderHotelNameTagWithStar()])]),this.showRightIcon&&e("div",{class:"hotel-right-icon",on:{click:function(){return t.$emit("right-icon-click")}}},[e("arrow-svg")])]),"small"===i&&a&&e("div",{class:"hotel-smallcard-name-tag"},[e("div",[a])]),!s&&o&&e("div",{class:"hotel-name-english"},[o])])}},{key:"renderHotelNameTagWithStar",value:function(){var t=this,e=this.$createElement,i=this.formatCardInfo.hotel_info.desc;this.formatCardInfo.hotel_info.star;var n="small"===this.type,r=this.formatCardInfo.head_tag_list,o=!!this.formatCardInfo.ad;return e("span",{class:"hotel-name-tag-star"},[this.renderStar(),r&&r.length?e("span",{class:"hotel-name-tags"},[" ",r.map(function(i){return e("card-tag",{attrs:{tag:i,platform:t.platform}})})," "]):null,i&&!n&&e("span",{class:"hotel-name-desc"},[e("span",[i])]),o&&this.renderADTag()])}},{key:"renderStar",value:function(){var t=this,e=this.$createElement,i=this.formatCardInfo.hotel_info.star;return i>=2&&e("span",{class:"hotel-stars"},[Array.from({length:i},function(i,n){var r;return e("img",{key:n,attrs:{src:null===(r=t.formatCardInfo.hotel_info)||void 0===r?void 0:r.star_icon_url,alt:""}})})])}},{key:"renderADTag",value:function(){var t=this.$createElement,e=this.formatCardInfo.ad;return t("klk-poptip",{attrs:{content:e.content,placement:"bottom",maxWidth:430,offset:15,dark:!0,flip:!0,flipOptions:{fallbackPlacements:["top"],rootBoundary:"viewport",padding:80}}},[t("span",{class:"hotel-ad-tag",style:{color:e.title_color,backgroundColor:e.bg_color}},[e.title])])}},{key:"renderReview",value:function(){var t=this.$createElement,e=this.formatCardInfo.hotel_info,i=e.avg_score,n=e.max_score,r=e.score_desc,o=e.review_num_desc,a=+i;return a&&t("div",{class:"hotel-review"},[a&&t("div",{class:"hotel-review-score"},[t("span",[i]),t("span",{class:"slash"},["/"]),t("span",[n])]),r&&t("div",{class:"hotel-review-desc"},[r]),o&&t("div",{class:"hotel-review-count"},[o])])||null}},{key:"renderLocation",value:function(){var t,e=this.$createElement,i=this.formatCardInfo.hotel_info.location,n=this.formatCardInfo.hotel_info;n.hotel_id,n.name,n.image_list;var r=n.latitude,o=n.longitude;return i&&e("ellipsis",{class:"hotel-location",attrs:{text:i.desc,row:2}},[i.icon&&e("img",{slot:"prefix",attrs:{src:i.icon}}),this.showMap&&r&&o&&e("span",{slot:"suffix",class:"view-map",on:{click:this.viewMap}},[null===(t=this._t)||void 0===t?void 0:t.call(this,"29523")])])}},{key:"viewMap",value:function(t){var e=this.formatCardInfo.hotel_info,i=e.hotel_id,n=e.name,r=e.image_list,o=e.latitude,a=e.longitude;this.$emit("view-map",{hotel_id:i,name:n,image_list:r,latitude:o,longitude:a}),t.preventDefault(),t.stopPropagation()}},{key:"renderHotelTag",value:function(){var t=this.$createElement,e=this.formatCardInfo,i=e.feature_tag_list,n=e.book_tag,r=e.promo_tag_list,o=e.stock_tag,a=i&&i.length>0,s=r&&r.length>0,l="long"===this.type?"medium":"small";return(a||n||o||s)&&t("div",{class:"hotel-tag-section"},[a&&t("div",{class:"hotel-tag-feature hotel-tag-wrap"},[i.map(function(e,i){return t("card-tag",{key:i,attrs:{tag:e}})})])||null,o&&t("div",{class:"hotel-tag-price-tip hotel-tag-wrap"},[t("card-tag",{attrs:{tag:o,size:l}})]),n&&t("div",{class:"hotel-tag-booking hotel-tag-wrap"},[t("card-tag",{attrs:{tag:n,size:l}})]),s&&t("div",{class:"hotel-tag-promo hotel-tag-wrap"},[r.map(function(e,i){return t("card-tag",{key:i,attrs:{tag:e,size:l}})})])])}},{key:"renderPriceInfo",value:function(){var t,e,i,n=this.$createElement,r=this.pricing,o=r.format_price,a=r.currency_symbol,s=r.original_price_desc,l=r.tax_desc,c=r.check_in_desc,u=r.discount_type,d=r.has_stock,p=r.reward_desc,f=r.post_format_tax_price,h=r.pay_later_desc,v="long"===this.type;return d?n("div",{class:"hotel-price-info"},[this.renderHotelPriceTag(),n("div",{class:"price-info"},[n("div",{class:"price-info-value"},[n("span",{class:"price-origin"},[s]),n("span",{class:"price-sale"},[n("i",[a]),n("b",{class:"price-amount"},[o," "])])]),l&&n("div",{class:"tax-desc"},[n("span",[l]),f&&n("span",{class:"tax-desc-price"},["".concat(a).concat(f)])])]),p&&n("div",{class:"reward-desc"},[p]),h&&n("div",{class:"pay-later-desc"},[h]),v&&n("div",{class:"price-button"},[n("klk-button",{attrs:{size:"large"}},[null===(t=this._t)||void 0===t?void 0:t.call(this,"hotel.view_detail")," "])]),c&&n("div",{class:"date-tip"},[c]),"login"===u&&n("div",{class:"login-tip"},[null===(e=this._t)||void 0===e?void 0:e.call(this,"19280")])]):n("div",{class:"hotel-price-info-sold-out"},[null===(i=this._t)||void 0===i?void 0:i.call(this,"sold_out")])}},{key:"renderHotelPriceTag",value:function(){var t=this.$createElement,e=this.formatCardInfo.hotel_info.hotel_id,i=this.pricing.price_tag_list,n=i?i.length:0;return i&&n&&t("div",{class:["price-tag"]},[i.map(function(i,r){var o="reward"===i.type||"Explorer"===i.id,a=function(){return t("card-tag",{key:r,attrs:{tag:i,type:"common",oid:e}})};return n>=3&&o?t("div",{class:"member-price-tag"},[" ",a()]):a()})])||null}},{key:"renderPlaceHolder",value:function(){return(0,this.$createElement)("div",{class:"hotel-placeholder"})}},{key:"onHrefRightClick",value:function(t){console.log("Context menu opened!",event),this.isRightClick=!0}}]),r}(sm),sL=s$=su([(0,X.Component)({components:{KImage:rB,ArrowSvg:s_,FavoriteSvg:sS,Ellipsis:sP}})],s$),sE=function(t){sa(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=sc(e);return t=i?Reflect.construct(n,arguments,sc(this).constructor):n.apply(this,arguments),sl(this,t)});function r(){return a4(this,r),n.apply(this,arguments)}return a6(r)}(sL),sT=sE=su([(0,X.Component)({})],sE);let sj=sg({},void 0,sT,"data-v-c106cd74",void 0,void 0,!1,void 0,void 0,void 0);var sI=function(t){sa(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=sc(e);return t=i?Reflect.construct(n,arguments,sc(this).constructor):n.apply(this,arguments),sl(this,t)});function r(){return a4(this,r),n.apply(this,arguments)}return a6(r,[{key:"cardLayout",get:function(){return this.layout||(["listHorizontal","mapNearby","mapList"].includes(this.scene)||"long"===this.type?"horizontal":"vertical")}},{key:"style",get:function(){return{width:+this.width?"".concat(parseFloat(this.width),"px"):void 0,height:+this.height?"".concat(parseFloat(this.height),"px"):void 0}}},{key:"render",value:function(){var t=arguments[0];return t("klk-skeleton",{attrs:{animate:!0,mode:this.skeletonMode},class:"card-skeleton card-skeleton-".concat(this.cardLayout," card-skeleton-").concat(this.type," card-skeleton-").concat(this.scene),style:this.style},[t("klk-skeleton-block",{class:"header"}),t("div",{class:"content"},[t("klk-skeleton-block"),t("klk-skeleton-block"),"horizontal"===this.cardLayout&&t("klk-skeleton-block"),"long"===this.type&&t("klk-skeleton-block")])])}}]),r}(X.Vue);su([(0,X.Prop)({type:[Number,String],default:""})],sI.prototype,"width",void 0),su([(0,X.Prop)({type:[Number,String],default:""})],sI.prototype,"height",void 0),su([(0,X.Prop)({type:String,default:"normal"})],sI.prototype,"type",void 0),su([(0,X.Prop)({type:String,default:"desktop"})],sI.prototype,"platform",void 0),su([(0,X.Prop)({type:String,default:""})],sI.prototype,"layout",void 0),su([(0,X.Prop)({type:String,default:""})],sI.prototype,"scene",void 0),su([(0,X.Prop)({type:String,default:"light"})],sI.prototype,"skeletonMode",void 0);var sR=sI=su([(0,X.Component)({components:{}})],sI),sM=function(t){sa(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=sc(e);return t=i?Reflect.construct(n,arguments,sc(this).constructor):n.apply(this,arguments),sl(this,t)});function r(){return a4(this,r),n.apply(this,arguments)}return a6(r)}(sR),sD=sM=su([(0,X.Component)({})],sM);let sF=sg({},void 0,sD,"data-v-b733c68e",void 0,void 0,!1,void 0,void 0,void 0);var sA=iO.default.extend({name:"HotelCard",props:["platform","isSkeleton","type","width","height","cardInfo","href","target","soldOutText","noLazy","scene","layout","showRightIcon","showFavorite","showMap","favoriteSpm","skeletonMode","isAb","t","spm"],components:{InnerCardV3:sj,CardSkeletonV2:sF},render:function(t){var e,i=this,n=this.$props;if(n.isAb,this.isSkeleton)return t("card-skeleton-v2",{props:n});var r={default:function(){return i.$slots.default},header:function(){return i.$slots.header},contentBottom:function(){return i.$slots.contentBottom}};return(this.$slots.bottomLeft||this.$slots["bottom-left"])&&(r.bottomLeft=function(){return i.$slots.bottomLeft||i.$slots["bottom-left"]}),(null===(e=this.cardInfo)||void 0===e?void 0:e.hotel_info)&&t("inner-card-v3",{props:n,attrs:this.$attrs,scopedSlots:r,on:this.$listeners})}}),sB=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r,[{key:"isStayPlus",get:function(){var t=this.tagInfo,e=t.top_icon,i=t.filter_id;return e&&"stayplus|1"===i}},{key:"showdesc",get:function(){var t=this.tagInfo.desc;return this.isStayPlus||t&&!this.isMobile}},{key:"inlineStyle",get:function(){return{backgroundColor:this.tagInfo.color||"#fff"}}},{key:"spmModuleInfo",get:function(){return this._$ihtHelper.getModuleIHT({spm:this.isStayPlus?"StayEntrance":"OffersTag",ext:{FilterID:this.tagInfo.filter_id,TitleEn:this.tagInfo.title_en}})}},{key:"onClick",value:function(){var t,e=this;null===(t=this.$inhouse)||void 0===t||t.track("action",this.$el.querySelector("button")),this.$nextTick(function(){e.$emit("click",e.tagInfo)})}}]),r}(X.Vue);nI([(0,X.Prop)({type:Object,default:function(){return{}}})],sB.prototype,"tagInfo",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],sB.prototype,"isMobile",void 0);var sN=sB=nI([X.Component],sB),sH=function(t,e,i,n,r,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var u,d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){var p=d.render;d.render=function(t,e){return u.call(e),p(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}}return i};let sV=sH({render:function(){var t=this.$createElement,e=this._self._c||t;return this.tagInfo.filter_id?e("div",this._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:this.isStayPlus?"StayEntrance":"OffersTag"},expression:"{spm: isStayPlus ? 'StayEntrance' : 'OffersTag'}"}],class:"hotel-offer-tag offer-tag-"+(this.isMobile?"mobile":"desktop"),style:this.inlineStyle,on:{click:this.onClick}},"div",this.spmModuleInfo,!1),[this.tagInfo.icon?e("img",{staticClass:"tag-icon",attrs:{src:this.tagInfo.icon,width:"28",height:"28"}}):this._e(),this._v(" "),e("div",{staticClass:"tag-content"},[this.tagInfo.top_icon?e("img",{attrs:{src:this.tagInfo.top_icon,height:"21px"}}):e("div",{staticClass:"tag-title"},[this._v(this._s(this.tagInfo.title))]),this._v(" "),this.showdesc?e("div",{staticClass:"tag-desc"},[this._v(this._s(this.tagInfo.desc))]):this._e()]),this._v(" "),e("klk-button",{attrs:{size:this.isMobile?"mini":"small",type:"outlined"}},[this._v("\n    "+this._s(this.tagInfo.btn_text)+"\n  ")])],1):this._e()},staticRenderFns:[]},void 0,sN,"data-v-97eea4c2",!1,void 0,!1,void 0,void 0,void 0);var sz=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r,[{key:"emptyItem",get:function(){return Object.assign({error:{title:this.$t("47985"),desc:this.$t("47986"),buttonText:this.$t("47987"),img:"https://res.klook.com/image/upload/v1657173556/zasyvr3rbeukh1l5j5x2.png"},filterEmpty:{title:this.$t("47991"),desc:this.$t("48051"),buttonText:this.$t("48052"),img:"https://res.klook.com/image/upload/v1657158870/pcdpb2gqttqatpagckq5.png"},empty:{title:this.$t("47989"),desc:this.$t("48049"),buttonText:this.$t("48050"),img:"https://res.klook.com/image/upload/v1657158870/pcdpb2gqttqatpagckq5.png"},empty2:{title:this.$t("search_no_results_found"),img:"https://res.klook.com/image/upload/v1657158870/pcdpb2gqttqatpagckq5.png"},loading:{desc:this.$t("hotel.search_waiting"),img:"https://res.klook.com/image/upload/v1639721175/cavobu4damovch1ztlcx.gif",showDefaultLoading:!1},error2:{title:this.$t("29410"),desc:this.error?"".concat(this.error.message):this.$t("48163"),buttonText:this.$t("45514"),img:"https://res.klook.com/image/upload/Group_3880_b3obts.png"}}[this.type]||{},this.item)}},{key:"onClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type;this.$emit("action",t),this.$emit(t)}}]),r}(X.Vue);nI([(0,X.Prop)({type:String,default:""})],sz.prototype,"position",void 0),nI([(0,X.Prop)({type:String,default:""})],sz.prototype,"type",void 0),nI([(0,X.Prop)({type:Object,default:null})],sz.prototype,"item",void 0),nI([(0,X.Prop)({type:[Object,Error],default:null})],sz.prototype,"error",void 0),nI([(0,X.Prop)({type:Object,default:function(){return{type:"outlined",size:"small"}}})],sz.prototype,"buttonProp",void 0),nI([(0,X.Prop)({type:Array,default:function(){return[]}})],sz.prototype,"otherButtonList",void 0),nI([(0,X.Prop)({type:String,default:""})],sz.prototype,"platform",void 0);var sW=sz=nI([(0,X.Component)({components:{}})],sz);let sq=sH({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"empty-view empty-view-"+t.platform+" empty-view-"+t.type+" "+(t.position?"empty-view-position--"+t.position:"")},[t.emptyItem.showDefaultLoading?i("klk-loading"):t._e(),t._v(" "),t.emptyItem.img?i("img",{attrs:{src:t.emptyItem.img}}):t._e(),t._v(" "),t.emptyItem.title?i("div",{staticClass:"empty-view-title"},[t._v(t._s(t.emptyItem.title))]):t._e(),t._v(" "),t.emptyItem.desc?i("div",{staticClass:"empty-view-desc"},[t._v(t._s(t.emptyItem.desc))]):t._e(),t._v(" "),i("div",{staticClass:"empty-view-button-list"},[t.emptyItem.buttonText&&t.buttonProp?i("klk-button",t._b({staticClass:"empty-view-button",on:{click:t.onClick}},"klk-button",t.buttonProp,!1),[t._v("\n      "+t._s(t.emptyItem.buttonText)+"\n    ")]):t._e(),t._v(" "),t._l(t.otherButtonList,function(e,n){return[i("span",{key:"delimiter-"+n},[t._v(" "+t._s(e.delimiter)+" ")]),t._v(" "),i(e.com||"klk-button",t._b({key:n,tag:"component",class:"empty-view-button "+e.type,on:{click:function(i){return t.onClick(e.action)}}},"component",e,!1),[t._v("\n        "+t._s(e.buttonText)+"\n      ")])]})],2),t._v(" "),t._t("default")],2)},staticRenderFns:[]},void 0,sW,"data-v-062b94fa",!1,void 0,!1,void 0,void 0,void 0);var sU=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r,[{key:"render",value:function(){var t=arguments[0],e=this.$parent,i=e.listResult,n=e.isMobile,r=e.paramsInfo,o=e.selectOfferTag,a=e.isOnlyDate,s=e.isNewCard,l=i.content||[],c=l.length;e.isMobile;var u={type:n?void 0:"long",platform:n?"mobile":"desktop",scene:"listHorizontal",skeletonMode:"dark",isAb:s},d=0,p={banner:function(e){return t(sV,{attrs:{tagInfo:e,isMobile:n},on:{click:o}})},_header:function(e){var i=e.result_count,n=e.left_icon,r=e.right_text;if(!!a||!i){var o=/{[^}]+}/,s=i?"<b>".concat(i,"</b>"):"";return t("div",{class:"content-header"},[n&&t("img",{class:"content-header--img",attrs:{src:n}}),t("p",nU([{},{domProps:{innerHTML:o.test(r)?r.replace(o,s):r+s}}]))])}},card:function(n){var o,a,s,l;return t(sA,nU([{class:n.cardType.includes("precise")&&"precise-card"},{attrs:Object.assign(Object.assign(Object.assign(Object.assign({},n),e._$ihtHelper.getModuleIHT({oidName:"hotel",oidValue:(null===(o=n.cardInfo.hotel_info)||void 0===o?void 0:o.hotel_id)||"NA",spm:"ListingHotel_LIST",idx:n.index,len:i.total_count+Number("hotel"===r.stype),ext:Object.assign(n.cardInfo.report||{},n.cardInfo.iht_ext_info||{},{SearchID:i.search_id||"",AddToWishList:null===(a=n.cardInfo)||void 0===a?void 0:a.wish})})),{showMap:!1,showFavorite:!0,favoriteSpm:e._$ihtHelper.getModuleIHTStr({spm:"HotelsWishLIST",manual:!0,ext:{AddToWishList:null===(s=n.cardInfo)||void 0===s?void 0:s.wish,HotelID:(null===(l=n.cardInfo.hotel_info)||void 0===l?void 0:l.hotel_id)||"NA"}})}),u)},{on:{saved:function(t,i){var n=t.status,r=t.message,o=t.hotel_id;if(r)e.$toast(r||e.$t("jrpass_no_internet"));else{e._$ihtHelper.updateBinding(i,{ext:{AddToWishList:n}});var a=i.querySelector(".hotel-add2favor");e._$ihtHelper.updateBinding(a,{ext:{AddToWishList:n,HotelID:String(o)||"NA"}}),setTimeout(function(){var t;null===(t=e.$inhouse)||void 0===t||t.track("action",a)},10)}},"view-map":function(t){e.$refs.map.show(!0,t)}}}]))}};return c?t("div",[l.map(function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.type,n=e.data;return n&&i&&(i.includes("card")?p.card({href:n.deep_link,cardInfo:n,cardType:i,index:d++}):null===(t=p[i])||void 0===t?void 0:t.call(p,n))})]):t(sq,nU([{style:"margin: 60px 0",attrs:{type:e.requestError?"error2":"empty"}},{on:{empty:e.emptyAction,error2:e.formatListQuery}}]))}}]),r}(X.Vue),sZ=sU=nI([(0,X.Component)({components:{EmptyView:sq,OfferTag:sV,Card:sA}})],sU),sG=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.hoverCardIndex=-1,t.currentCardIndex=-1,t.isSmallMap=!0,t}return nO(r,[{key:"animateShowLayer",value:function(t){this.$emit("open-map")}},{key:"mapTypeChange",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeDestroy",value:function(){}}]),r}(X.Vue),sY=sG=nI([(0,X.Component)({components:{}})],sG);let sK=sH({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"Map"},expression:"{spm: 'Map'}"}],staticClass:"hotel-map-entrance",on:{click:this.animateShowLayer}},"div",this._$ihtHelper.getModuleIHT({spm:"Map",manual:!0}),!1),[e("svg",{staticClass:"map-bg",attrs:{width:"600",height:"282",viewBox:"0 0 600 282",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{"clip-path":"url(#clip0_1578_146760)"}},[e("rect",{attrs:{width:"600",height:"282",fill:"white"}}),this._v(" "),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M236.66 102.636C236.709 103.015 236.734 103.402 236.734 103.795C236.734 105.37 236.33 106.85 235.619 108.137L283.511 190.305C284.06 191.247 285.261 191.576 286.213 191.045L369.663 144.524C370.662 143.967 370.991 142.687 370.385 141.717L317.533 57.1541C316.958 56.2342 315.754 55.9403 314.82 56.4919L236.66 102.636Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M399.776 66.0299C399.19 65.095 399.472 63.8622 400.406 63.2749L440.657 37.9593C441.593 37.3706 442.829 37.6532 443.417 38.5903L471.439 83.3076C472.024 84.2425 471.742 85.4752 470.809 86.0626L430.558 111.378C429.621 111.967 428.385 111.684 427.798 110.747L399.776 66.0299Z",fill:"#B2CBFF"}}),this._v(" "),e("rect",{attrs:{x:"165",y:"228.125",width:"104.249",height:"68.9759",rx:"2",transform:"rotate(-30 165 228.125)",fill:"#B2CBFF"}}),this._v(" "),e("path",{attrs:{d:"M433.552 119.69C432.971 118.755 433.253 117.526 434.185 116.94L482.294 86.67C482.735 86.3925 483.267 86.2981 483.777 86.4068L518.561 93.8274C519.627 94.0549 520.315 95.095 520.107 96.1655L496.972 215.006C496.625 216.79 494.271 217.223 493.311 215.681L433.552 119.69Z",fill:"#7CD8B1"}}),this._v(" "),e("rect",{attrs:{width:"386.596",height:"5",transform:"matrix(0.497677 0.867362 -0.864687 0.502312 146.957 -33.624)",fill:"#FCEAC5"}}),this._v(" "),e("rect",{attrs:{width:"256.795",height:"5",transform:"matrix(-0.862709 0.5057 -0.51031 -0.859991 258.092 167.497)",fill:"#FCEAC5"}}),this._v(" "),e("rect",{attrs:{width:"420.231",height:"5",transform:"matrix(-0.866025 0.5 -0.504627 -0.863337 335.453 36.3164)",fill:"#FCEAC5"}}),this._v(" "),e("rect",{attrs:{width:"355.389",height:"5",transform:"matrix(-0.709902 -0.704301 0.700492 -0.71366 65.293 190.869)",fill:"#FCEAC5"}}),this._v(" "),e("path",{attrs:{opacity:"0.3",d:"M436 -56.5L352.5 -10.5M352.5 -10.5L368 11.5M352.5 -10.5H411",stroke:"white","stroke-width":"2"}}),this._v(" "),e("path",{attrs:{opacity:"0.3",d:"M360.25 -74.5L406.25 9M406.25 9L428.25 -6.5M406.25 9L406.25 -49.5",stroke:"white","stroke-width":"2"}}),this._v(" "),e("rect",{attrs:{width:"421.339",height:"52.069",transform:"matrix(0.533307 0.845922 -0.843056 0.537826 322.332 -44.4023)",fill:"#FCEAC5"}}),this._v(" "),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M100.598 59.9002C99.6414 60.4525 99.3137 61.6757 99.8659 62.6323L140.841 133.604C141.394 134.561 142.617 134.888 143.574 134.336L203.969 99.4667C204.736 99.024 205.099 98.1301 205.03 97.2474C205.011 97.0006 205.001 96.7511 205.001 96.4993C205.001 94.9277 205.382 93.4453 206.058 92.1395C206.416 91.4486 206.47 90.6187 206.081 89.9449L167.7 23.4681C167.148 22.5115 165.925 22.1838 164.968 22.7361L100.598 59.9002Z",fill:"#7CD8B1"}}),this._v(" "),e("circle",{attrs:{cx:"219.771",cy:"100",r:"7.5",fill:"white",stroke:"#FCEAC5","stroke-width":"5"}}),this._v(" "),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M213.118 114.071L192.444 126.008C191.485 126.561 191.158 127.789 191.715 128.746L202.498 147.278C203.052 148.23 204.273 148.555 205.227 148.004L228.592 134.514C229.551 133.96 229.878 132.733 229.321 131.776L220.071 115.88C217.541 116.17 215.081 115.476 213.118 114.071Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M206.656 155.252C206.092 154.295 206.416 153.06 207.379 152.504L230.785 138.991C231.735 138.442 232.95 138.762 233.508 139.707L246.029 160.938C246.594 161.895 246.269 163.13 245.306 163.686L221.901 177.199C220.95 177.748 219.735 177.428 219.178 176.483L206.656 155.252Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M161.444 146.419C160.891 145.46 161.221 144.234 162.182 143.684L185.037 130.581C185.993 130.033 187.213 130.361 187.764 131.316L206.497 163.763C207.05 164.721 206.72 165.947 205.76 166.498L182.904 179.601C181.948 180.149 180.729 179.82 180.178 178.866L161.444 146.419Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M541.76 73.8148C540.676 73.5991 539.973 72.546 540.189 71.4627L545.556 44.5139C545.772 43.4306 546.825 42.7273 547.908 42.943L584.653 50.2608C585.736 50.4765 586.439 51.5296 586.223 52.6129L580.856 79.5618C580.641 80.6451 579.588 81.3484 578.504 81.1326L541.76 73.8148Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M287.842 199.902C287.297 198.942 287.633 197.722 288.592 197.176L373.324 148.953C374.259 148.421 375.448 148.725 376.014 149.64L418.407 218.232C419.004 219.197 418.679 220.465 417.691 221.024L330.238 270.516C329.278 271.059 328.059 270.722 327.514 269.763L287.842 199.902Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M45.9951 214.276C45.4447 213.326 45.7637 212.109 46.7095 211.551L127.263 164.025C128.22 163.46 129.454 163.784 130.01 164.746L148.013 195.852C148.56 196.799 148.246 198.01 147.308 198.571L125.651 211.514C124.729 212.065 124.406 213.245 124.921 214.188L132.074 227.302C132.59 228.249 132.263 229.435 131.334 229.983L76.2365 262.476C75.2797 263.04 74.0464 262.717 73.4898 261.755L45.9951 214.276Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M332.558 277.748C332 276.783 332.34 275.549 333.312 275.004L420.866 225.916C421.793 225.396 422.964 225.692 423.533 226.589L461.362 286.207C461.979 287.179 461.649 288.471 460.641 289.028L370.217 339.049C369.263 339.577 368.062 339.243 367.517 338.299L332.558 277.748Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M206.001 292.668C205.448 291.711 205.777 290.487 206.735 289.935L289.507 242.251C290.461 241.702 291.678 242.026 292.233 242.976L327.486 303.369C328.045 304.327 327.718 305.557 326.756 306.11L243.685 353.943C242.728 354.494 241.507 354.166 240.955 353.21L206.001 292.668Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M516.947 208.205C515.869 207.991 515.166 206.948 515.372 205.868L528.243 138.47C528.398 137.659 529.036 137.026 529.848 136.878L605.084 123.156C606.479 122.901 607.688 124.138 607.402 125.527L587.895 220.255C587.673 221.331 586.625 222.027 585.547 221.813L516.947 208.205Z",fill:"#F5F5F5"}}),this._v(" "),e("rect",{attrs:{x:"130.428",y:"214.506",width:"91.5815",height:"14.6003",rx:"2",transform:"rotate(-30 130.428 214.506)",fill:"#F5F5F5"}}),this._v(" "),e("rect",{attrs:{x:"133",y:"160.152",width:"26.3054",height:"41.1345",rx:"2",transform:"rotate(-30 133 160.152)",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M374.307 28.0854C373.668 27.1116 373.994 25.7999 375.013 25.2371L397.304 12.936C398.249 12.4143 399.438 12.7372 399.99 13.6654L418.493 44.806C419.052 45.7456 418.752 46.9594 417.821 47.5317L397.558 59.9835C396.637 60.5497 395.432 60.2809 394.839 59.3767L374.307 28.0854Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M385.456 -17.0757C384.896 -18.0045 385.178 -19.2104 386.092 -19.7942L399.617 -28.4327C400.567 -29.0393 401.83 -28.7419 402.409 -27.7753L429.268 17.0431C429.856 18.024 429.503 19.2972 428.494 19.8356L414.452 27.3302C413.514 27.8311 412.347 27.5097 411.798 26.5987L385.456 -17.0757Z",fill:"#F5F5F5"}}),this._v(" "),e("rect",{attrs:{x:"416",y:"32.1279",width:"20.2562",height:"13.6978",rx:"2",transform:"rotate(-30 416 32.1279)",fill:"#F5F5F5"}}),this._v(" "),e("rect",{attrs:{x:"555.713",y:"-8.33203",width:"21.9238",height:"27.4871",rx:"2",transform:"rotate(10.3892 555.713 -8.33203)",fill:"#B2CBFF"}}),this._v(" "),e("path",{attrs:{d:"M356.646 -1.65192C356.029 -2.64664 356.395 -3.95603 357.437 -4.48761L379.322 -15.6448C380.265 -16.1252 381.418 -15.7888 381.955 -14.877L394.914 7.15459C395.502 8.15282 395.121 9.43956 394.085 9.95749L372.632 20.6838C371.708 21.1461 370.583 20.8275 370.038 19.9488L356.646 -1.65192Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M166.935 -15.0024C166.019 -14.4378 165.714 -13.2495 166.245 -12.3134L220.929 84.1404C221.095 84.1312 221.263 84.1266 221.431 84.1266C223.857 84.1266 226.059 85.0863 227.677 86.6468L305.233 41.5282C306.202 40.964 306.518 39.7128 305.933 38.7558L245.047 -60.7874C244.469 -61.732 243.234 -62.0274 242.291 -61.4465L166.935 -15.0024Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M545.393 294.134L559.116 224.57C559.329 223.493 560.37 222.788 561.449 222.992L629.083 235.762C630.149 235.963 630.86 236.978 630.686 238.05L619.328 307.613C619.148 308.718 618.096 309.459 616.996 309.258L546.996 296.488C545.898 296.288 545.177 295.228 545.393 294.134Z",fill:"#B2CBFF"}}),this._v(" "),e("rect",{attrs:{width:"352.366",height:"5",transform:"matrix(0.186913 -0.982376 0.983363 0.181653 491 277.156)",fill:"#FCEAC5"}}),this._v(" "),e("path",{attrs:{d:"M579.756 113.937C578.681 113.681 578.017 112.603 578.272 111.529L602.092 -3.51662C602.347 -4.59126 603.425 -5.25539 604.5 -5L642.279 5.16303C643.354 5.41842 644.018 6.49662 643.762 7.57126L616.594 107.9C616.339 108.974 615.26 109.639 614.186 109.383L579.756 113.937Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M519.509 88.6017L477.338 80.1676C476.803 80.0606 476.334 79.7393 476.042 79.2785L418.19 -11.8378C417.404 -13.0759 418.174 -14.7109 419.629 -14.8942L540.788 -30.1584C542.131 -30.3275 543.25 -29.1426 543.005 -27.8119L521.868 87.0027C521.666 88.1008 520.603 88.8207 519.509 88.6017Z",fill:"#F5F5F5"}}),this._v(" "),e("rect",{attrs:{width:"352.366",height:"5",transform:"matrix(-0.986823 0.161805 -0.167083 -0.985943 868.559 75.9297)",fill:"#FCEAC5"}}),this._v(" "),e("path",{attrs:{d:"M549.142 26.9677L547.851 34.0712C547.656 35.1426 548.354 36.173 549.421 36.3892L585.046 43.6043C586.126 43.823 587.18 43.1268 587.402 42.0474L597.005 -4.59669C597.261 -5.83738 596.313 -7 595.046 -7H586.614C585.672 -7 584.858 -6.34309 584.659 -5.42266L577.409 28.1088C577.181 29.1632 576.158 29.8469 575.096 29.6539L551.468 25.3578C550.381 25.1602 549.34 25.881 549.142 26.9677Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M593.393 223.509L607.116 153.946C607.329 152.869 608.37 152.164 609.449 152.368L677.083 165.138C678.149 165.339 678.86 166.354 678.686 167.426L667.328 236.989C667.148 238.094 666.096 238.835 664.996 238.634L594.996 225.864C593.898 225.664 593.177 224.604 593.393 223.509Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M551.594 221.214L516.019 213.559C514.915 213.321 513.833 214.044 513.631 215.156L509.141 239.848C509.05 240.347 509.152 240.861 509.426 241.287L535.41 281.706C535.778 282.278 536.411 282.624 537.092 282.624H540.342C541.304 282.624 542.129 281.94 542.307 280.995L553.139 223.54C553.34 222.474 552.655 221.442 551.594 221.214Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M-49.2268 97.917C-48.9652 94.5438 -44.8944 92.9986 -42.4604 95.3487L49.1039 183.758C51.0184 185.606 50.6276 188.774 48.3213 190.102L-54.6998 249.415C-57.487 251.02 -60.9323 248.846 -60.6836 245.639L-49.2268 97.917Z",fill:"#B2CBFF"}}),this._v(" "),e("path",{attrs:{d:"M-57.7505 275.819C-58.308 274.864 -57.9857 273.639 -57.0308 273.082L39.0095 217.099C39.9644 216.542 41.1898 216.865 41.7456 217.821L68.2494 263.39C68.7982 264.334 68.4891 265.543 67.5547 266.107L-27.5243 323.541C-28.4796 324.118 -29.7224 323.801 -30.2853 322.838L-57.7505 275.819Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M63.6949 290.167C63.1802 289.221 63.5066 288.038 64.4333 287.489L158.906 231.602C159.862 231.037 161.096 231.359 161.654 232.319L210.567 316.56C211.124 317.52 210.793 318.75 209.83 319.301L112.239 375.094C111.265 375.651 110.025 375.299 109.489 374.314L63.6949 290.167Z",fill:"#7CD8B1"}}),this._v(" "),e("path",{attrs:{d:"M89.9631 57.7915L38.7153 -26.6452C38.5733 -26.8792 38.3847 -27.0816 38.1613 -27.2398L-15.0594 -64.9182C-16.3405 -65.8252 -18.1194 -64.9703 -18.2116 -63.4033L-26.9435 85.0396C-26.9792 85.6466 -26.7368 86.2368 -26.2849 86.6436L1.89425 112.005C2.55059 112.596 3.51664 112.686 4.27116 112.227L89.2923 60.5382C90.2356 59.9647 90.5359 58.7353 89.9631 57.7915Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M141.267 29.0459L162.659 17.4943C163.662 16.9526 164.01 15.6832 163.423 14.7055L153.445 -1.92488C152.911 -2.81562 151.783 -3.14893 150.85 -2.69201L129.861 7.58827C128.844 8.08645 128.443 9.32902 128.978 10.3277L138.553 28.2294C139.075 29.2061 140.292 29.5722 141.267 29.0459Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M96.706 54.989L133.867 32.9675C134.783 32.4251 135.113 31.2613 134.619 30.3189L125.394 12.7069C124.895 11.7541 123.732 11.3667 122.761 11.83L82.4915 31.0495C81.4247 31.5587 81.0298 32.877 81.6411 33.8887L93.9745 54.3027C94.5423 55.2424 95.7615 55.5488 96.706 54.989Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M79.6569 26.6946L148.016 -6.53566C149.079 -7.0523 149.465 -8.37288 148.847 -9.38018L114.414 -65.5105C113.89 -66.3636 112.817 -66.6985 111.901 -66.2944L43.0612 -35.9098C41.9647 -35.4258 41.5372 -34.0926 42.1478 -33.0612L77.0615 25.9147C77.5918 26.8105 78.7206 27.1497 79.6569 26.6946Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M91.2403 65.1312L11.0874 116.658C10.0143 117.348 9.85261 118.853 10.7547 119.755L67.4082 176.408C68.0514 177.051 69.0475 177.18 69.8326 176.72L134.279 139.007C135.23 138.45 135.552 137.229 134.998 136.276L94.051 65.8088C93.4784 64.8232 92.1991 64.5149 91.2403 65.1312Z",fill:"#F5F5F5"}}),this._v(" "),e("path",{attrs:{d:"M531.557 118.248L539.112 80.9174C539.328 79.8517 540.355 79.1535 541.426 79.3456L576.453 85.6325C577.57 85.8331 578.297 86.9226 578.052 88.0314L572.301 114.134C572.12 114.954 571.446 115.574 570.614 115.686L533.783 120.627C532.421 120.809 531.284 119.595 531.557 118.248Z",fill:"#F5F5F5"}})]),this._v(" "),e("defs",[e("clipPath",{attrs:{id:"clip0_1578_146760"}},[e("rect",{attrs:{width:"600",height:"282",fill:"white"}})])])]),this._v(" "),e("svg",{staticClass:"location-icon",attrs:{width:"56",height:"62",viewBox:"0 0 56 62",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{filter:"url(#filter0_d_1598_61458)"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M45.8375 23.9188C45.8375 34.8229 34.7757 43.2782 30.0347 46.4014C28.7396 47.2545 27.0979 47.2545 25.8028 46.4014C21.0618 43.2782 10 34.8229 10 23.9188C10 14.0225 18.0225 6 27.9188 6C37.815 6 45.8375 14.0225 45.8375 23.9188Z",fill:"#FF5B00"}}),this._v(" "),e("circle",{attrs:{cx:"27.9189",cy:"23.6631",r:"6.40909",fill:"white"}})]),this._v(" "),e("defs",[e("filter",{attrs:{id:"filter0_d_1598_61458",x:"0",y:"0",width:"55.8379",height:"61.0412",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[e("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),this._v(" "),e("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}}),this._v(" "),e("feOffset",{attrs:{dy:"4"}}),this._v(" "),e("feGaussianBlur",{attrs:{stdDeviation:"5"}}),this._v(" "),e("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.14 0"}}),this._v(" "),e("feBlend",{attrs:{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1598_61458"}}),this._v(" "),e("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1598_61458",result:"shape"}})],1)])]),this._v(" "),e("klk-button",{staticClass:"map-btn",attrs:{type:"secondary",size:"small",round:""}},[this._v(this._s(this.$t("88826")))])],1)},staticRenderFns:[]},void 0,sY,"data-v-9a7c97e8",!1,void 0,!1,void 0,void 0,void 0);var sX=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.priceFilterValue=[],t.error=null,t.changeTimer=null,t.hackPriceSliderTimer=null,t.isSliderReachMax=!1,t.isInputExceed=!1,t}return nO(r,[{key:"setPriceValue",value:function(){var t=this.value;if(!!this.priceFilter)t.length?(this.isSliderReachMax=this.isEndOfPlus(t[1]),this.priceFilterValue=t.map(this.getFormatPriceNumber),this.hackPriceSliderChange()):(this.isSliderReachMax=!0,this.priceFilterValue=this.getPriceMaxRangeValue())}},{key:"priceFilterValueShow",get:function(){var t=this,e=this.priceFilter.end;return this.priceFilterValue.map(function(i,n){return"".concat(i).concat(1===n&&t.isSliderReachMax&&t.getNumber(i)===+e&&!t.isEndOfPlus(i)?"+":"")})}},{key:"getNumber",value:function(t){return+(""+t).replace(/[^\d]/g,"")}},{key:"getFormatPriceNumber",value:function(t){return this.priceFilter?"".concat(n3(t.toString().replace("+",""))):""}},{key:"getPriceSliderNumber",value:function(){var t=this,e=this.priceFilter,i=e.start,n=e.end;return this.priceFilterValue.map(function(e,r){var o=t.getNumber(e);return 0===r?Math.min(Math.max(o,+i),+n):Math.min(o,+n)})}},{key:"getPriceMaxRangeValue",value:function(){if(!this.priceFilter)return[];var t=this.priceFilter;return[t.start,t.end].map(function(t,e){return n3(t)+"".concat(1===e?"+":"")})}},{key:"isPriceMaxRange",value:function(){if(!!this.priceFilter)return this.getPriceMaxRangeValue().toString()===this.priceFilterValueShow.toString()}},{key:"isPriceInputEmpty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===t.trim()}},{key:"render",value:function(){var t=this,e=arguments[0],i=this.priceFilter,n=i.start,r=i.end,o=i.step,a=i.currency_symbol,s=this.getPriceSliderNumber(),l={input:function(e){if(t.isInputExceed&&e[0]===e[1])return;t.isInputExceed=!1;if(t.hackPriceSliderTimer)return;var i=e.join("")===n+r;if(t.isSliderReachMax=e[1]===+r,e.toString()!==t.priceFilterValue.map(t.getNumber).toString())t.priceFilterValue=i?t.getPriceMaxRangeValue():e.map(t.getFormatPriceNumber)}};return this.changeListener&&(l.change=function(){t.emitChange()}),e("div",{class:"filter-price"},[this.renderGraph(),e("klk-slider",nU([{},{attrs:{max:+r,min:+n,range:!0,step:+o}},{attrs:{value:s}},{on:l}])),e("div",{class:"price-input"},[Array.from({length:3},function(i,n){var r=0===n?0:1;return 1===n?e("span",["-"]):e("klk-input",{attrs:{value:t.priceFilterValueShow[r],type:"tel"},ref:"priceInput".concat(0===r?"Min":"Max"),on:{input:function(e){return t.priceInput(e,r)},enter:function(t){return t.target.blur()},blur:function(){return t.priceChange(r)}}},[e("span",{slot:"prepend",class:"prepend-currency"},[a])])})])])}},{key:"renderGraph",value:function(){var t=this.$createElement,e=this.priceFilter,i=e.step,n=e.counts;if(!!n&&!!n.length){var r=n2(this.priceFilterValue.map(this.getNumber),2),o=r[0],a=r[1],s=Math.max.apply(Math,nN(n));return t("div",{class:"price-graph"},[n.map(function(e,r){return t("div",{class:"price-graph--item",key:r,style:{width:"calc(".concat(100/n.length,"%)"),height:s?"calc(".concat(100*e/s,"%)"):0,backgroundColor:(r+1)*+i>o&&(r+1)*+i<=a?"#FFF0E5":""}})})])}}},{key:"formatPriceThousands",value:function(t){return n3(t)}},{key:"hackPriceSliderChange",value:function(){var t=this;this.hackPriceSliderTimer&&clearTimeout(this.hackPriceSliderTimer),this.hackPriceSliderTimer=setTimeout(function(){t.hackPriceSliderTimer=null},300)}},{key:"priceChange",value:function(t){var e=this;if(this.changeTimer&&clearTimeout(this.changeTimer),this.error){t=t||this.error.index;var i=n2(["Min","Max"].map(function(t){return e.getNumber(e.$refs["priceInput".concat(t)].curValue)}),2),n=i[0],r=i[1],o=this.$refs[0===t?"priceInputMin":"priceInputMax"];(this.isPriceInputEmpty(o.curValue)||!/\d/.test(o.curValue)||n>r)&&this.fixPriceInput(t),1===t&&this.isEndOfPlus(this.value[1])&&(this.isSliderReachMax=!0)}this.emitChange()}},{key:"emitChange",value:function(){var t=this.isPriceMaxRange()?[]:this.priceFilterValue.map(this.getNumber);if(0!==t.length&&this.isSliderReachMax&&(t[1]+="+"),this.value.toString()!==t.toString())this.$emit("change",t)}},{key:"priceInput",value:function(t,e){var i=this;this.changeTimer&&clearTimeout(this.changeTimer);var n=this.getNumber(t),r=!1;if(this.isPriceInputEmpty(t)||!/\d/.test(t)){this.setInputElValue("",e),this.error={state:!0,index:e};return}0===e?n>this.getNumber(this.priceFilterValue[1])&&(r=!0):n<this.getNumber(this.priceFilterValue[0])&&(r=!0);this.error=r?{state:r,index:e}:null;var o=this.getFormatPriceNumber(n);this.setInputElValue(o,e),!this.error&&(1===e&&(this.isSliderReachMax=!1),this.$set(this.priceFilterValue,e,o),this.hackPriceSliderChange(),this.isMobile&&(this.changeTimer=setTimeout(function(){i.emitChange()},1e3)))}},{key:"inputExceed",value:function(t,e){var i=this.priceFilter,n=i.start,r=i.end;0===e&&t>+r||1===e&&t<+n?this.isInputExceed=!0:this.isInputExceed=!1}},{key:"isEndOfPlus",value:function(t){return"+"===(t||"").toString().charAt((t||"").toString().length-1)}},{key:"setInputElValue",value:function(t,e){var i=this.priceFilter.end;this.$refs[0===e?"priceInputMin":"priceInputMax"].curValue=t+(this.isSliderReachMax&&!this.isEndOfPlus(t)&&this.getNumber(t)===+i?"+":"")}},{key:"fixPriceInput",value:function(t){var e=0===this.value.length?this.getPriceMaxRangeValue()[t]:this.getFormatPriceNumber(this.value[t]);this.$set(this.priceFilterValue,t,e),this.hackPriceSliderChange(),this.setInputElValue(e,t)}}]),r}(X.Vue);nI([(0,X.Prop)({type:Object,default:null})],sX.prototype,"priceFilter",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],sX.prototype,"isMobile",void 0),nI([(0,X.Prop)({type:Boolean,default:!0})],sX.prototype,"changeListener",void 0),nI([(0,X.Prop)({type:Array,default:function(){return[]}})],sX.prototype,"value",void 0),nI([(0,X.Watch)("priceFilter",{immediate:!0}),(0,X.Watch)("value",{immediate:!0})],sX.prototype,"setPriceValue",null);var sJ=sX=nI([X.Component],sX),sQ=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r,[{key:"render",value:function(){var t=arguments[0];return t("div",[this.text])}},{key:"mounted",value:function(){this.exceed()}},{key:"exceed",value:function(){this.$el.clientHeight>this.lineHeight&&this.$emit("exceed")}}]),r}(X.Vue);nI([(0,X.Prop)({type:String})],sQ.prototype,"text",void 0),nI([(0,X.Prop)({type:Number,default:18})],sQ.prototype,"lineHeight",void 0);var s0=sQ=nI([X.Component],sQ),s1=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.isTextExceed=!1,t}return nO(r,[{key:"isStar",get:function(){var t;return(null===(t=this.subFilterItem)||void 0===t?void 0:t.id)==="star"}},{key:"isRating",get:function(){var t;return(null===(t=this.subFilterItem)||void 0===t?void 0:t.id)==="rating"}},{key:"isPopular",get:function(){var t;return(null===(t=this.subFilterItem)||void 0===t?void 0:t.id)==="popular"}},{key:"hideSubTitle",get:function(){return!this.isMobile&&this.isRating}},{key:"render",value:function(){var t=this,e=arguments[0],i=this.subFilterItem,n=i.ui_type,r=i.filter_icon;return e("div",{class:["filter-wrap--rounded",(2===n||this.isStar)&&"column",this.isTextExceed&&"exceed"]},[this.subFilterItem.sub_filter_list.map(function(e,i){return t.renderSingle(e,i,r)})])}},{key:"renderSingle",value:function(t,e,i){var n=this,r=t.id,o=t.title,a=t.icon_url,s=t.sub_title,l=t.selected_icon_url,c=t.disabled,u=this.$createElement,d=this.localSelectedValue.includes(r);return u("div",{class:["filter-tag",d&&"checked",!!c&&"disabled",a&&this.isStayplusItem(r)&&"stayplus-icon"],key:"".concat(r,"-").concat(e),on:{click:function(){return(d||!c)&&n.$emit("select",r,n.subFilterItem)}}},[u("div",{class:"filter-tag-title"},[a&&u("img",{attrs:{src:l&&d?l:a}}),this.isStayplusItem(r)&&a?"":o,this.isStar&&this.renderIconStar({disabled:c,filter_icon:i,checked:d})]),!this.hideSubTitle&&!!s&&u("exceed-text",{class:"filter-tag-sub",on:{exceed:this.onTextExceed},attrs:{text:s}})])}},{key:"renderIconStar",value:function(t){var e=t.disabled,i=t.filter_icon,n=t.checked,r=this.$createElement;if(!i)return null;var o=null;return(o=e?i.disabled_icon_url:n?i.selected_icon_url:i.icon_url)?r("img",{class:"i-icon-icon-star",attrs:{src:o,width:"12px",height:"12px",config:!1,defaultStyle:!0}}):null}},{key:"isStayplusItem",value:function(t){return"stayplus|1"===t}},{key:"onTextExceed",value:function(){this.isTextExceed=!0}}]),r}(X.Vue);nI([(0,X.Prop)({type:Object,default:function(){}})],s1.prototype,"subFilterItem",void 0),nI([(0,X.Prop)({type:Array,default:function(){return[]}})],s1.prototype,"localSelectedValue",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],s1.prototype,"isMobile",void 0);var s2=s1=nI([(0,X.Component)({components:{ExceedText:s0}})],s1),s4=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.showCount=t.splitIndex>0?0:t.count,t.isExpanded=!1,t}return nO(r,[{key:"spm",get:function(){var t;return"string"==typeof this.spmModule?this.spmModule:(null===(t=this.spmModule)||void 0===t?void 0:t.spm)||""}},{key:"spmModuleAttrs",get:function(){if(this.spmModule)return{"data-spm-module":"string"==typeof this.spmModule?this.spmModule:this._$ihtHelper.getModuleIHTStr({spm:this.spmModule.spm,ext:Object.assign(Object.assign({},this.spmModule.ext||{}),{Action:this.isExpanded?"show more":"show less"})}),"data-spm-virtual-item":"__virtual"}}},{key:"render",value:function(t){var e=this,i=this.$slots.default||[];if(i.length>0){var n=0;return t("div",(n=this.alwaysShowMore?-i.length:this.expandAll?this.isExpanded?-i.length:i.length-this.splitIndex:i.length-this.splitIndex-this.showCount)>0||this.alwaysShowMore||this.expandAll&&this.isExpanded?i.slice(0,-n).concat(t("div",{attrs:this.spmModuleAttrs,class:"list-wrap-view-more ".concat(this.isExpanded?"expanded":"collapsed"),directives:[{name:"galileo-click-tracker",value:{spm:this.spm,enable:!!this.spm}}],on:{click:function(){if(e.isCustomExpand){e.$emit("expand",e.isExpanded);return}e.expandAll?(e.isExpanded=!e.isExpanded,e.$emit("expand",e.isExpanded)):e.showCount+=e.count}}},[t("span",this.text),t("icon-chevron-down",{style:{marginLeft:"8px"},props:{size:20}})])):i)}}},{key:"text",get:function(){return this.expandAll?this.isExpanded?this.viewLessText||this.$t("14642"):this.viewMoreText:this.viewMoreText||this.$t("29529")}}]),r}(X.Vue);nI([(0,X.Prop)()],s4.prototype,"spmModule",void 0),nI([(0,X.Prop)({default:null})],s4.prototype,"spmModuleFunc",void 0),nI([(0,X.Prop)({default:5})],s4.prototype,"count",void 0),nI([(0,X.Prop)({default:!0})],s4.prototype,"expandAll",void 0),nI([(0,X.Prop)({default:!1})],s4.prototype,"alwaysShowMore",void 0),nI([(0,X.Prop)({default:!1})],s4.prototype,"isCustomExpand",void 0),nI([(0,X.Prop)({type:Number,default:1/0})],s4.prototype,"splitIndex",void 0),nI([(0,X.Prop)({default:""})],s4.prototype,"viewMoreText",void 0),nI([(0,X.Prop)({default:""})],s4.prototype,"viewLessText",void 0);var s5=s4=nI([(0,X.Component)({components:{IconChevronDown:ns.Z}})],s4),s9=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.scrollTop=0,t.throttleScroll=(0,nm.throttle)(function(){t.scroll()},150),t}return nO(r,[{key:"actualMainHeight",get:function(){return this.platformMp?0:this.mainHeight}},{key:"platformMp",get:function(){var t,e,i;return null===(i=null===(e=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===e?void 0:e.klook)||void 0===i?void 0:i.platformMp}},{key:"scroll",value:function(){var t=n4(),e=document.querySelector(".layout-default_header.mobile-header"),i=this.$el;t<this.scrollTop?(e&&(e.style.visibility="visible"),e&&(e.style.top="0"),i&&(i.style.top="".concat(this.actualMainHeight,"px"))):t<this.actualMainHeight?(e&&(e.style.top="-".concat(t,"px")),i&&(i.style.top="".concat(this.actualMainHeight-t,"px"))):t>this.scrollTop&&(e&&(e.style.visibility="hidden"),i&&(i.style.top="0px")),this.scrollTop=t}},{key:"mounted",value:function(){this.complex&&(this.scrollTop=n4(),window.document.addEventListener("scroll",this.throttleScroll),this.scroll())}},{key:"beforeDestroy",value:function(){this.complex&&window.document.removeEventListener("scroll",this.throttleScroll)}}]),r}(X.Vue);nI([(0,X.Prop)({type:String,default:""})],s9.prototype,"title",void 0),nI([(0,X.Prop)({type:String,default:"common#icon_nav_chevron_left_m"})],s9.prototype,"backIcon",void 0),nI([(0,X.Prop)({type:Number,default:48})],s9.prototype,"mainHeight",void 0),nI([(0,X.Prop)({type:Boolean,default:!0})],s9.prototype,"showBack",void 0),nI([(0,X.Prop)({type:Boolean,default:!0})],s9.prototype,"complex",void 0);var s3=s9=nI([(0,X.Component)({components:{}})],s9);let s6=sH({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"hotel-fixed-header\n    "+(t.complex?"complex":"")+"\n    "+(t.showBack?"showBack":"")},[t._t("default",[i("div",{staticClass:"hotel-fixed-header-default"},[t.showBack?i("svg-icon",{staticClass:"back",attrs:{name:t.backIcon},nativeOn:{click:function(e){return t.$emit("back")}}}):t._e(),t._v(" "),i("div",{staticClass:"hotel-fixed-header-title"},[t._v(t._s(t.title))]),t._v(" "),t._t("header-right")],2)])],2)},staticRenderFns:[]},void 0,s3,void 0,!1,void 0,!1,void 0,void 0,void 0);function s8(){document.body.className+=" no_scroll "}function s7(){var t=document.body.className;t.indexOf("no_scroll")>-1&&(document.body.className=t.replace(" no_scroll ",""))}var lt=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.trueShow=!1,t.transfered=!1,t}return nO(r,[{key:"visibleChange",value:function(){var t=this;setTimeout(function(){t.trueShow=t.visible},0)}},{key:"platformMp",get:function(){var t,e,i;return null===(i=null===(e=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===e?void 0:e.klook)||void 0===i?void 0:i.platformMp}},{key:"isKlookApp",get:function(){var t,e,i;return null===(i=null===(e=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===e?void 0:e.klook)||void 0===i?void 0:i.isKlookApp}},{key:"back",value:function(){this.tabIndex>0?(this.$emit("back"),this.$emit("update:tab-index",this.tabIndex-1)):this.$emit("close")}},{key:"mounted",value:function(){this.transfer&&!this.transfered&&(document.body.appendChild(this.$el),this.transfered=!0)}}]),r}(X.Vue);nI([(0,X.Prop)({type:Boolean,default:!0})],lt.prototype,"isMobile",void 0),nI([(0,X.Prop)(Boolean)],lt.prototype,"visible",void 0),nI([(0,X.Prop)({type:String,default:"layer"})],lt.prototype,"type",void 0),nI([(0,X.Prop)({type:String})],lt.prototype,"title",void 0),nI([(0,X.Prop)({type:Boolean,default:!0})],lt.prototype,"pageAnimate",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],lt.prototype,"animate",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],lt.prototype,"delay",void 0),nI([(0,X.Prop)({type:Number,default:0})],lt.prototype,"tabIndex",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],lt.prototype,"transfer",void 0),nI([(0,X.Watch)("visible",{immediate:!0})],lt.prototype,"visibleChange",null);var le=lt=nI([(0,X.Component)({components:{FixHeader:s6},directives:{"no-scroll-class":{bind:function(t,e,i){e.value&&s8.apply(i.context)},update:function(t,e,i){var n=e.value;n!==e.oldValue&&(n?s8.apply(i.context):s7.apply(i.context))},unbind:function(t,e){e.value&&s7()}}}})],lt);let li=sH({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"no-scroll-class",rawName:"v-no-scroll-class",value:"layer"===this.type&&this.visible,expression:"type === 'layer' && visible"}],class:"mobile-page-layer "+this.type+" "+(this.isMobile?"mobile":"desktop")+" "+(this.visible?"show":"hidden")+" "+(this.pageAnimate?"animate":"")},[e("div",{staticClass:"container-content"},[!this.isMobile||this.platformMp||this.isKlookApp?this._e():e("fix-header",{attrs:{title:this.title,complex:!1},on:{back:this.back}},[e("div",{attrs:{slot:"header-right"},slot:"header-right"},[this._t("header-right")],2)]),this._v(" "),e("div",{staticClass:"container-content-main",class:this.animate?"animate":"no-animate",style:this.tabIndex?"transform: translate3d("+-100*this.tabIndex+"%, 0, 1px)":""},[this._t("default")],2),this._v(" "),this.$slots.footer?e("div",{staticClass:"container-footer"},[this.$slots.footer?this._t("footer"):this._e()],2):this._e()],1)])},staticRenderFns:[]},void 0,le,"data-v-7877b83a",!1,void 0,!1,void 0,void 0,void 0);var ln=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r,[{key:"modelCom",get:function(){return this.com?this.com:this.isMobile?"klk-bottom-sheet":"right-modal"}},{key:"modalProp",get:function(){return Object.assign({isMobile:this.isMobile,visible:this.visible,title:this.title,type:this.type,animate:this.animate,tabIndex:this.tabIndex},this.config)}},{key:"back",value:function(){this.$emit("back")}},{key:"close",value:function(){this.$emit("update:visible",!1),this.$emit("close")}},{key:"confirm",value:function(){this.$emit("confirm")}}]),r}(X.Vue);nI([(0,X.Prop)(Boolean)],ln.prototype,"isMobile",void 0),nI([(0,X.Prop)({type:Object,default:function(){return{}}})],ln.prototype,"config",void 0),nI([(0,X.Prop)({type:String,default:"modal"})],ln.prototype,"type",void 0),nI([(0,X.Prop)({type:String,default:""})],ln.prototype,"com",void 0),nI([(0,X.Prop)({type:String})],ln.prototype,"title",void 0),nI([(0,X.Prop)(Boolean)],ln.prototype,"visible",void 0),nI([(0,X.Prop)({type:Boolean,default:!0})],ln.prototype,"animate",void 0),nI([(0,X.Prop)({type:Number,default:0})],ln.prototype,"tabIndex",void 0);var lr=ln=nI([(0,X.Component)({components:{MobilePageLayer:li,IconBack:nl.Z}})],ln);let lo=sH({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return"page"===t.type||"layer"===t.type?i("mobile-page-layer",t._b({on:{back:t.back,close:t.close}},"mobile-page-layer",t.modalProp,!1),[t.$slots["header-right"]?i("div",{staticClass:"header-right",attrs:{slot:"header-right"},slot:"header-right"},[t._t("header-right")],2):t._e(),t._v(" "),t._t("default"),t._v(" "),t.$slots.footer?i("div",{attrs:{slot:"footer"},slot:"footer"},[t._t("footer")],2):t._e()],2):i(t.modelCom,t._b({tag:"component",class:{"modal-wrap-mweb":!t.com&&t.isMobile,"ui-custom-right-modal":!t.com&&!t.isMobile},on:{hide:t.close,close:t.close,back:t.back,"on-cancel":t.close,"on-confirm":t.confirm}},"component",t.modalProp,!1),[t.$slots.header?i("div",{attrs:{slot:"header"},slot:"header"}):t._e(),t._v(" "),t.isMobile&&(t.$slots["header-left"]||t.tabIndex>0)?i("div",{staticClass:"header-left",attrs:{slot:"header-left"},slot:"header-left"},[t._t("header-left",[i("icon-back",{attrs:{size:24},nativeOn:{click:function(e){return t.$emit("back")}}})])],2):t._e(),t._v(" "),t.$slots["header-right"]?i("div",{staticClass:"header-right",attrs:{slot:t.isMobile?"header-right":"header-expand"},slot:t.isMobile?"header-right":"header-expand"},[t._t("header-right")],2):t._e(),t._v(" "),t.$slots["header-plus"]?i("div",{staticClass:"header-plus",attrs:{slot:t.isMobile?"nav":"header-plus"},slot:t.isMobile?"nav":"header-plus"},[t._t("header-plus")],2):t._e(),t._v(" "),t.isMobile?i("div",{staticClass:"container-content-main",class:{animate:t.animate},style:t.tabIndex?"transform: translate3d("+-100*t.tabIndex+"%, 0, 1px)":""},[t._t("default")],2):t._t("default"),t._v(" "),t.$slots.footer?i("div",{attrs:{slot:"footer"},slot:"footer"},[t._t("footer")],2):t._e()],2)},staticRenderFns:[]},void 0,lr,void 0,!1,void 0,!1,void 0,void 0,void 0);function la(t){var e=t.target;if(e&&"a"===e.nodeName.toLowerCase()&&e.href&&"javascript:;"!==e.href){var i=t.target;return t.preventDefault(),n9(i.href),!1}}var ls=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r)}(X.Vue);nI([(0,X.Prop)({default:!1})],ls.prototype,"isMobile",void 0),nI([(0,X.Prop)({default:null})],ls.prototype,"data",void 0);var ll=ls=nI([(0,X.Component)({components:{},directives:{ABlank:{bind:function(t){t.addEventListener("click",la)},unbind:function(t){t.removeEventListener("click",la)}}}})],ls);let lc=sH({render:function(){var t=this.$createElement;return(this._self._c||t)("klk-markdown",{directives:[{name:"a-blank",rawName:"v-a-blank"}],staticClass:"pay-later-desc",attrs:{content:this.data}})},staticRenderFns:[]},void 0,ll,"data-v-312005b8",!1,void 0,!1,void 0,void 0,void 0);var lu=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.modelVisible=!1,t}return nO(r,[{key:"props",get:function(){var t,e={};if(!this.isMobile&&(!this.title||!this.allClick))switch(this.placement||(null===(t=this.config)||void 0===t?void 0:t.placement)){case"bottom-start":e.offset=[-5,15];break;case"bottom-end":e.offset=[10,15]}return this.isMobile?Object.assign({transfer:!0},this.config):Object.assign(Object.assign({trigger:this.trigger,placement:this.placement,maxWidth:400,maxHeight:300},e),this.config)}},{key:"click",value:function(){this.$emit("click"),this.allClick&&"dropdown"!==this.type&&(this.modelVisible=!this.modelVisible)}},{key:"show",value:function(){this.$emit("show")}},{key:"hide",value:function(){this.$emit("hide")}}]),r}(X.Vue);nI([(0,X.Prop)(String)],lu.prototype,"title",void 0),nI([(0,X.Prop)(Boolean)],lu.prototype,"isMobile",void 0),nI([(0,X.Prop)(Boolean)],lu.prototype,"allClick",void 0),nI([(0,X.Prop)({type:String,default:"bottom-start"})],lu.prototype,"placement",void 0),nI([(0,X.Prop)({type:String,default:"normal"})],lu.prototype,"type",void 0),nI([(0,X.Prop)({type:String,default:"hover"})],lu.prototype,"trigger",void 0),nI([(0,X.Prop)({type:String,default:"common#icon_tips_tips_xs"})],lu.prototype,"titleIcon",void 0),nI([(0,X.Prop)({type:String,default:""})],lu.prototype,"titleIconClass",void 0),nI([(0,X.Prop)({type:String,default:"common#icon_tips_tips_xs"})],lu.prototype,"tipIcon",void 0),nI([(0,X.Prop)({type:String,default:""})],lu.prototype,"tipIconClass",void 0),nI([(0,X.Prop)({type:Object,default:function(){return null}})],lu.prototype,"tipIconIht",void 0),nI([(0,X.Prop)({type:Object,default:function(){return{}}})],lu.prototype,"config",void 0);var ld=lu=nI([(0,X.Component)({components:{IconCautionCircle:nc.Z}})],lu);let lp=sH({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[{mobile:t.isMobile,desktop:!t.isMobile},t.type,"hotel-text-tips"],on:{click:t.click}},[t._t("content",[i("div",{staticClass:"hotel-text-tips-content"},["normal"===t.type?[t.title&&(t.isMobile||!t.allClick)?i("span",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),t._v(" "),t.isMobile?[t.titleIcon?i(t.titleIcon.includes("#")?"SvgIcon":t.titleIcon,t._b({tag:"component",class:"title_icon "+t.titleIconClass,attrs:{name:t.titleIcon,size:16},nativeOn:{click:function(e){e.stopPropagation(),t.modelVisible=!0}}},"component",t.tipIconIht,!1)):t._e()]:i("klk-poptip",t._b({on:{show:t.show,hide:t.hide}},"klk-poptip",t.props,!1),[t.title&&t.allClick?i("span",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),t._v(" "),i(t.tipIcon.includes("#")?"SvgIcon":t.tipIcon,t._b({tag:"component",class:"tip_icon "+t.tipIconClass,attrs:{name:t.tipIcon,size:16}},"component",t.tipIconIht,!1)),t._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[t._t("default")],2)],1)]:"dropdown"===t.type?[t.isMobile?[i("div",{staticClass:"text-tips-dropdown"},[i("div",{staticClass:"text-tips-dropdown--title",on:{click:function(e){t.modelVisible=!t.modelVisible}}},[t.title?i("span",{staticClass:" title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),t._v(" "),t.titleIcon?i(t.titleIcon.includes("#")?"SvgIcon":t.titleIcon,t._b({tag:"component",class:"title_icon "+t.titleIconClass,attrs:{name:t.titleIcon}},"component",t.tipIconIht,!1)):t._e()],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.modelVisible,expression:"modelVisible"}]},[t._t("default")],2)])]:t._e()]:t._e()],2)]),t._v(" "),t.isMobile&&"normal"===t.type?i("klk-bottom-sheet",t._b({staticClass:"ui-custom-kbs",attrs:{visible:t.modelVisible},on:{"update:visible":function(e){t.modelVisible=e}}},"klk-bottom-sheet",t.props,!1),[i("div",{attrs:{slot:"default"},slot:"default"},[t._t("default")],2)]):t._e()],2)},staticRenderFns:[]},void 0,ld,"data-v-096a92a0",!1,void 0,!1,void 0,void 0,void 0);var lf=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r,[{key:"props",get:function(){var t="IconCautionCircle";return Object.assign({isMobile:this.isMobile},this.isMobile?{titleIcon:t,config:{title:"pay_later",headerDivider:!0}}:{tipIcon:t,config:{offset:[-12,12],flip:!0,zIndex:2002,appendToBody:!0,placement:"top-start",flipOptions:{fallbackPlacements:["bottom-start"],rootBoundary:"viewport",padding:20}}})}}]),r}(X.Vue);nI([(0,X.Prop)({default:"",type:String})],lf.prototype,"data",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],lf.prototype,"isMobile",void 0);var lh=lf=nI([(0,X.Component)({components:{TextTip:lp,PayLaterTip:lc}})],lf);let lv=sH({render:function(){var t=this.$createElement,e=this._self._c||t;return e("text-tip",this._b({staticClass:"inline-flex"},"text-tip",this.props,!1),[e("pay-later-tip",{attrs:{data:this.data,"is-mobile":this.isMobile}})],1)},staticRenderFns:[]},void 0,lh,"data-v-49f64eb9",!1,void 0,!1,void 0,void 0,void 0);var ly=RegExp.prototype.test.bind(/^price\|\d+-\d+\+?$/),lm=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.PriceId="price|",t.SubwayId="subway",t.PopularId="popular",t.StarId="star",t.RatingId="rating",t.isCommitChange=!1,t.localSelectedValue=[],t.priceFilterValue=[],t.hotelFilterTemp=null,t.tabAttrs=null,t}return nO(r,[{key:"priceMax",get:function(){var t,e,i=this;return Number(null===(e=null===(t=this.filterList.find(function(t){return t.id===i.PriceId}))||void 0===t?void 0:t.price_filter)||void 0===e?void 0:e.end)||0}},{key:"mergeHotelFilterCur",get:function(){return this.isMobile&&this.hotelFilterTemp||this.hotelFilterCur}},{key:"filterList",get:function(){var t="area"===this.type?"area_filter_list":"filter_list",e=this.hotelFilter[t]||[];return this.mergeHotelFilterCur?this.mergeFilterListReduce(JSON.parse(JSON.stringify(e)),this.mergeHotelFilterCur[t]||[]):e}},{key:"currentResultCount",get:function(){var t;return(this.isMobile?null===(t=this.hotelFilterTemp||this.hotelFilterCur||this.hotelFilter)||void 0===t?void 0:t.count:this.hotelFilterTemp?this.hotelFilterTemp.count:(this.hotelFilterCur||this.hotelFilter).count)||0}},{key:"resultCountText",get:function(){if(!this.isOnlyDate)return this.$t("hotel.vertical_to_filter");var t=Number(this.currentResultCount);return 0===t?this.$t("118766"):t>1?this.$t("114753",{num:t}):this.$t("118717")}},{key:"initLocalSelectedValue",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value;if(this.isCommitChange||this.localSelectedValue.toString()===e.toString())return this.isCommitChange=!1;this.localSelectedValue=e.slice(),this.priceFilterValue=(null===(t=e.find(ly))||void 0===t?void 0:t.replace(this.PriceId,"").split("-"))||[]}},{key:"priceFilter",get:function(){var t=this,e=this.filterList.find(function(e){return e.id===t.PriceId});return(null==e?void 0:e.price_filter)||null}},{key:"starPoptipContent",value:function(t){var e,i,n=this.$createElement,r=(null===(e=t.filter_desc)||void 0===e?void 0:e.max_star_num)||0;return n("div",{class:"star-poptip-content"},[n("p",{class:"star-desc"},[null===(i=t.filter_desc)||void 0===i?void 0:i.desc]),n("div",{class:"star-poptip-content-stars"},[n("div",{class:"star-poptip-content-stars-wrap"},[Array.from({length:r}).map(function(e,i){var o,a,s,l,c=r-i;return n("div",[null===(s=(c>1?null===(o=t.filter_desc)||void 0===o?void 0:o.num_over_one_desc:null===(a=t.filter_desc)||void 0===a?void 0:a.num_one_desc)||"")||void 0===s?void 0:s.replace((null===(l=t.filter_desc)||void 0===l?void 0:l.cms_desc_placeholder)||"",String(c))])})]),n("div",{class:"star-poptip-content-stars-wrap-icon"},[Array.from({length:r}).map(function(e,i){return n("div",[Array.from({length:r-i}).map(function(){var e;return n("img",{attrs:{src:null===(e=t.filter_desc)||void 0===e?void 0:e.star_icon_url,alt:"star",width:"20",height:"20"},style:"margin-right: 2px"})})])})])])])}},{key:"isChecked",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.localSelectedValue;return i.length>0&&(null==t?void 0:t.some(function(t){var n=t.id,r=t.sub_filter_list;return(null==r?void 0:r.length)?e.isChecked(r):i.includes(n)}))}},{key:"postFilterValue",value:function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(this.priceMax){var e=this.localSelectedValue.findIndex(ly);if(this.priceFilterValue.length){var i=this.PriceId+this.priceFilterValue.join("-");e<0?this.localSelectedValue.unshift(i):i!==this.localSelectedValue[e]&&this.localSelectedValue.splice(e,1,i)}else e>-1&&this.localSelectedValue.splice(e,1)}t&&(this.$emit("change",this.localSelectedValue.slice()),this.isCommitChange=!0)}},{key:"clearSelected",value:function(){this.localSelectedValue=[],this.priceFilterValue=[],this.fetchFilterList()}},{key:"getIdsByFilter",value:function(t){return function t(e){return e.reduce(function(e,i){return i.sub_filter_list&&e.push.apply(e,nN(t(i.sub_filter_list))),i.popular_facility_list?e.push.apply(e,nN(t(i.popular_facility_list))):e.push(i.id),e},[])}((null==t?void 0:t.sub_filter_list)||[])}},{key:"clearSingleFilter",value:function(t){if(t.id===this.PriceId)this.priceFilterValue=[];else{for(var e=this.localSelectedValue.length,i=this.getIdsByFilter(t),n=e-1;n>=0;n--)i.includes(this.localSelectedValue[n])&&this.localSelectedValue.splice(n,1)}this.fetchFilterList()}},{key:"selectTagSingle",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.localSelectedValue,n=i.findIndex(e);return t===i[n]?i.splice(n,1):n>-1?i.splice(n,1,t):i.push(t),i}},{key:"selectTag",value:function(t){var e,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=RegExp.prototype.test.bind(/^rating\|\d+(\.)?(\d+)?\+?$/),r=n(t);if(r||!i){var o=null===(e=null==t?void 0:t.split("-"))||void 0===e?void 0:e[0],a=RegExp.prototype.test.bind(new RegExp("^".concat(o,"-")));this.selectTagSingle(t,r?n:a,this.localSelectedValue)}else{var s=this.localSelectedValue.indexOf(t);s>-1?this.localSelectedValue.splice(s,1):this.localSelectedValue.push(t)}this.fetchFilterList(t)}},{key:"fetchFilterList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=ly(e)?{price_filter:this.priceFilter}:{};if(!this.isMobile){this.postFilterValue(),this.isOnlyDate&&this.$emit("fetch-filter",i);return}if(!!this.isOnlyDate)this.getHotelFilter(Object.assign(i,{filter_list:this.localSelectedValue.concat(this.filterSelected["area"===this.type?"filter":"area"])},this.paramsInfo)).then(function(e){t.setHotelFilterTempByData(e)})}},{key:"renderPrice",value:function(t){var e=this.$createElement,i=t.price_filter;if(!i)return null;var n=e("price-filter",{ref:"priceFilter",attrs:{priceFilter:i,value:this.priceFilterValue,isMobile:this.isMobile},on:{change:this.priceChange}});return this.renderSectionWrap(t,n)}},{key:"priceChange",value:function(t){this.priceFilterValue=t,this.postFilterValue(!1),this.fetchFilterList(this.PriceId+this.priceFilterValue.join("-"))}},{key:"getListWrapAttrs",value:function(t){var e=null==t?void 0:t.sub_filter_list.length,i=t.id===this.SubwayId;return t.id===this.PopularId?{}:{splitIndex:this.isMobile?i?15:5:3,viewMoreText:this.isMobile?this.$t("23924"):this.$t("117939",{num:e}),viewLessText:this.$t("28961"),isCustomExpand:!this.isMobile&&e>=30||i}}},{key:"renderCheckBoxSingle",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.style,o=n.customChange,a=n.selectedValue,s=this.$createElement,l=t.id,c=t.title,u=t.disabled,d=t.icon_url,p=t.pay_later_terms_conditions,f=(a||this.localSelectedValue).includes(l),h="stayplus|1"===l;return s("klk-checkbox",{style:r,class:["filter-tag",h&&"stayplus-icon"],key:"".concat(l,"-").concat(e),attrs:{disabled:!f&&!!u,value:f},on:{change:function(){if(o)return o();i.selectTag(l)}}},[h&&d?s("img",{attrs:{src:d}}):c,p&&s("pay-later-layer",{attrs:{data:p,isMobile:this.isMobile,title:c}})])}},{key:"renderCheckbox",value:function(t){var e=this,i=this.$createElement,n=t.sub_filter_list;if(!n)return null;var r=this.getListWrapAttrs(t),o=i("list-wrap",nU([{class:"filter-wrap--checkbox"},{attrs:Object.assign({},r)},{on:{expand:function(){return r.isCustomExpand&&e.tabAdd(t)}}}]),[n.map(function(t,i){return e.renderCheckBoxSingle(t,i)})]);return this.renderSectionWrap(t,o)}},{key:"renderRadioSingle",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.style,o=n.customChange,a=n.selectedValue,s=this.$createElement,l=t.id,c=t.title,u=t.disabled,d=(a||this.localSelectedValue).includes(l),p=(0,nm.debounce)(function(){if(o)return o();i.selectTag(l,!1)},150);return s("klk-radio",{style:r,attrs:{cancellable:!0,disabled:!d&&!!u,value:d,size:"small"},class:["filter-tag"],key:"".concat(l,"-").concat(e),on:{input:p}},[c])}},{key:"renderRadio",value:function(t,e){var i=this,n=this.$createElement,r=t.sub_filter_list;if(!r)return null;var o=n("list-wrap",nU([{class:"filter-wrap--radio"},{attrs:Object.assign({},e=e||this.getListWrapAttrs(t))},{on:{expand:function(){return e.isCustomExpand&&i.tabAdd(t)}}}]),[r.map(function(t,e){return i.renderRadioSingle(t,e)})]);return this.renderSectionWrap(t,o)}},{key:"tabAdd",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.tabAttrs={data:t,subData:e||null,tabIndex:i,tempSelectedValue:this.localSelectedValue.slice()}}},{key:"getTabExcludeIds",value:function(){var t,e=[],i=this.getIdsByFilter(null===(t=this.tabAttrs)||void 0===t?void 0:t.data);return this.localSelectedValue.forEach(function(t){return!i.includes(t)&&e.push(t)}),e}},{key:"tabSelectTag",value:function(t){var e,i,n,r=this,o=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=!1===t;if(this.isMobile)a?(this.localSelectedValue=this.getTabExcludeIds(),this.fetchFilterList()):this.selectTag(t,o);else{var s=[];if(a){var l=this.getIdsByFilter(null===(e=this.tabAttrs)||void 0===e?void 0:e.data);this.localSelectedValue.forEach(function(t){return!l.includes(t)&&s.push(t)}),s=this.getTabExcludeIds()}else if(o){var c=(s=this.tabAttrs.tempSelectedValue).indexOf(t);c>-1?s.splice(c,1):s.push(t)}else{var u=null===(i=null==t?void 0:t.split("-"))||void 0===i?void 0:i[0],d=RegExp.prototype.test.bind(new RegExp("^".concat(u,"-")));s=this.selectTagSingle(t,d,null===(n=this.tabAttrs)||void 0===n?void 0:n.tempSelectedValue)}if(this.$set(this.tabAttrs,"tempSelectedValue",s),!this.isOnlyDate)return;this.getHotelFilter(Object.assign({},{filter_list:s},this.paramsInfo)).then(function(t){r.setHotelFilterTempByData(t,s)})}}},{key:"setHotelFilterTempByData",value:function(t,e){var i,n,r=this,o=t.filter_selected,a=t.filter_list,s=t.area_filter_list;if((a||s)&&(this.hotelFilterTemp=t),o&&(e?(e=Array.from(new Set(e.concat(o))),this.$set(this.tabAttrs,"tempSelectedValue",e)):this.localSelectedValue=Array.from(new Set(this.localSelectedValue.concat(o)))),this.tabAttrs&&a){var l="area"===this.type?"area_filter_list":"filter_list",c=t[l].find(function(t){var e;return t.id===(null===(e=r.tabAttrs)||void 0===e?void 0:e.data.id)}),u=null===(n=null===(i=this.hotelFilter)||void 0===i?void 0:i[l])||void 0===n?void 0:n.find(function(t){var e;return t.id===(null===(e=r.tabAttrs)||void 0===e?void 0:e.data.id)});u&&this.$set(this.tabAttrs,"data",this.mergeFilterListReduce(JSON.parse(JSON.stringify([u])),c?[c]:[])[0])}}},{key:"renderTag",value:function(t){var e=t.sub_filter_list,i=t.id;if(!e)return null;var n=this.renderTagPure(t);return this.renderSectionWrap(t,n,{titleVNode:i===this.StarId&&this.renderStarPoptipVNode(t)})}},{key:"renderTagPure",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,this.$createElement)("wrap-tag",{attrs:{subFilterItem:t,localSelectedValue:this.localSelectedValue},class:i.class||"",on:{select:function(t){e.selectTag(t)}}})}},{key:"renderColumnInfo",value:function(t){var e=this,i=this.$createElement,n=t.sub_filter_list;if(!n)return null;var r=this.getListWrapAttrs(t),o=i("list-wrap",nU([{class:"filter-wrap--column-info"},{attrs:Object.assign({},r)},{on:{expand:function(){return r.isCustomExpand&&e.tabAdd(t)}}}]),[n.map(function(n,r){return i("div",{class:{"column-info-item":!0,checked:e.isChecked(n.sub_filter_list),disabled:n.disabled},key:r,on:{click:function(){return e.tabAdd(t,n,r)}}},[i("span",{class:"column-info-item--title"},[n.title]),i("icon-next",{attrs:{size:16}})])})]);return this.renderSectionWrap(t,o)}},{key:"renderColumnRadio",value:function(t){var e=this,i=this.$createElement,n=t.sub_filter_list;if(!n)return null;var r=n.some(function(t){return t.sub_filter_list&&t.sub_filter_list.length>0}),o=r&&n.some(function(t){return t.sub_filter_list&&t.sub_filter_list.length>5}),a=r?{alwaysShowMore:o,viewMoreText:this.$t("23924"),isCustomExpand:!0}:this.getListWrapAttrs(t),s=r?i("list-wrap",nU([{class:"filter-wrap--column-radio"},{attrs:Object.assign({},a)},{on:{expand:function(){return a.isCustomExpand&&e.tabAdd(t)}}}]),[n.map(function(t,n){return i("div",{class:{"column-radio-item":!0,checked:e.isChecked(t.sub_filter_list),disabled:t.disabled},key:n},[e.renderRadio(t,{splitIndex:5})])})]):null;return this.renderSectionWrap(t,s)}},{key:"renderSectionWrap",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.titleVNode,o=this.$createElement;if(!!e){var a=t.id,s=t.title,l=t.popular_facility_list,c=t.id===this.PriceId?!!this.priceFilterValue.length:this.isChecked(t.sub_filter_list.concat(l||[]));return o("div",{class:["filter-section",c&&"checked",a]},[o("div",{class:"filter-section--title"},[o("span",[s,r]),!this.isMobile&&c&&o("span",{class:"filter-clear",on:{click:function(){return i.clearSingleFilter(t)}}},[this.$t("clear")])]),!!(null==l?void 0:l.length)&&this.renderTagPure({id:"",sub_filter_list:l},{class:(null==l?void 0:l.length)>=3?"multiple":""}),e])}}},{key:"renderMainContent",value:function(){var t,e=this;return(0,this.$createElement)("div",{class:["filter-container",this.isMobile?"mobile":"desktop"]},[null===(t=this.filterList)||void 0===t?void 0:t.map(function(t){var i=null==t?void 0:t.id,n=null==t?void 0:t.ui_type;if(i===e.PriceId)return e.renderPrice(t);if(i===e.StarId)return e.renderTag(t);if(n)return e["render".concat(["Tag","Tag","ColumnInfo","ColumnRadio"][n-1])](t);return e.renderCheckbox(t)})])}},{key:"mergeFilterListReduce",value:function(t,e){var i=this;return t.reduce(function(t,n){var r=e.find(function(t){return t.id===n.id});if(i.StarId===n.id)return t.push(Object.assign(Object.assign({},r),{sub_filter_list:i.disabledSubFilterList(r.sub_filter_list,function(t){var e,i;return(null===(i=null===(e=t.sub_title)||void 0===e?void 0:e.match(/(\d+)/))||void 0===i?void 0:i[1])==="0"})})),t;if([i.PriceId,i.RatingId].includes(n.id))return r&&t.push(r),t;if(!r)return t.push(Object.assign(Object.assign({disabled:!0},n),{popular_facility_list:i.disabledSubFilterList(n.popular_facility_list||[],function(){return!0}),sub_filter_list:i.disabledSubFilterList(n.sub_filter_list,function(){return!0})})),t;return n.sub_filter_list&&(n.sub_filter_list=n.sub_filter_list.reduce(function(t,e){var n,o=r.sub_filter_list.find(function(t){return t.id===e.id});return(null===(n=e.sub_filter_list)||void 0===n?void 0:n.length)&&(e.sub_filter_list=i.mergeFilterListReduce(e.sub_filter_list,(null==o?void 0:o.sub_filter_list)||[])),e.disabled=!o,t.push(e),t},[])),n.popular_facility_list&&(n.popular_facility_list=i.disabledSubFilterList(n.popular_facility_list,function(t){var e;return!r.popular_facility_list||!((null===(e=r.popular_facility_list)||void 0===e?void 0:e.length)>0)||!(r.popular_facility_list||[]).find(function(e){return e.id===t.id})})),t.push(n),t},[])}},{key:"disabledSubFilterList",value:function(t,e){var i=this;return(t||[]).reduce(function(t,n){var r;return(null===(r=n.sub_filter_list)||void 0===r?void 0:r.length)>0&&(n=Object.assign(Object.assign({},n),{sub_filter_list:i.disabledSubFilterList(n.sub_filter_list,e)})),t.push(Object.assign(Object.assign({},n),{disabled:!!e(n)})),t},[])}},{key:"isTabSingleAllChecked",value:function(){var t=this;if(!this.tabAttrs)return{value:!1,indeterminate:!1};var e=[],i=0;return{value:(i=this.isMobile?(e=this.getIdsByFilter(this.tabAttrs.subData)).filter(function(e){return t.localSelectedValue.includes(e)}).length:(e=this.getIdsByFilter(this.tabAttrs.data.sub_filter_list[this.tabAttrs.tabIndex])).filter(function(e){return(t.tabAttrs.tempSelectedValue||[]).includes(e)}).length)===e.length,indeterminate:i>0&&i<e.length}}},{key:"handleTabCheckAllChange",value:function(t){var e,i,n=this;if(this.isMobile){if(t){var r=this.getIdsByFilter(this.tabAttrs.subData);this.localSelectedValue=Array.from(new Set([].concat(nN(this.localSelectedValue),nN(r)))),this.fetchFilterList()}else this.clearSingleFilter(this.tabAttrs.subData)}else{var o=this.getIdsByFilter(this.tabAttrs.data.sub_filter_list[this.tabAttrs.tabIndex]),a=[];if(a=t?Array.from(new Set([].concat(nN((null===(e=this.tabAttrs)||void 0===e?void 0:e.tempSelectedValue)||[]),nN(o)))):((null===(i=this.tabAttrs)||void 0===i?void 0:i.tempSelectedValue)||[]).filter(function(t){return!o.includes(t)}),this.$set(this.tabAttrs,"tempSelectedValue",a),!this.isOnlyDate)return;this.getHotelFilter(Object.assign({},{filter_list:a},this.paramsInfo)).then(function(t){n.setHotelFilterTempByData(t,a)})}}},{key:"onTabTitleSelect",value:function(t){var e=this.isMobile?null:document.querySelector(".list-filter-modal .filter-layer-content");e&&(e.scrollTop=0),this.$set(this.tabAttrs,"tabIndex",t)}},{key:"renderTabsContent",value:function(){var t,e=this,i=this.$createElement;if(!!this.tabAttrs){var n=this.tabAttrs.data,r=n.sub_filter_list,o=n.ui_type,a=!(null===(t=null==r?void 0:r[0].sub_filter_list)||void 0===t?void 0:t.length),s=4!==o,l=s?this.renderCheckBoxSingle:this.renderRadioSingle,c=this.tabAllSelectedValue;return[a?r.map(function(t,i){return l(t,i,{selectedValue:c,customChange:function(){return e.tabSelectTag(t.id,s)}})}):i("div",{class:"filter-layer-tabs"},[i("div",{class:"filter-layer-nav"},[r.map(function(t,n){var r=t.title,o=t.sub_filter_list;return i("div",{class:["nav-item",e.tabAttrs.tabIndex===n&&"active",e.isChecked(o||[],c)&&"checked"],on:{click:function(){return e.onTabTitleSelect(n)}}},[r])})]),i("div",{class:"filter-layer-content"},[s&&i("klk-checkbox",nU([{class:"filter-tag"},{attrs:this.isTabSingleAllChecked()},{on:{change:this.handleTabCheckAllChange}}]),[this.$t("389")]),r.map(function(t,i){return t.sub_filter_list.map(function(t,n){return l(t,"".concat(i,"-").concat(n),{style:{display:i!==e.tabAttrs.tabIndex?"none":void 0},selectedValue:c,customChange:function(){return e.tabSelectTag(t.id,s)}})})})])])]}}},{key:"tabAllSelectedValue",get:function(){var t;return this.isMobile?this.localSelectedValue:(null===(t=this.tabAttrs)||void 0===t?void 0:t.tempSelectedValue)||[]}},{key:"tabCurrentSelected",get:function(){if(!this.tabAttrs)return[];var t,e,i=(null===(t=this.tabAttrs)||void 0===t?void 0:t.data)?this.getIdsByFilter(null===(e=this.tabAttrs)||void 0===e?void 0:e.data):[],n=[];return this.tabAllSelectedValue.forEach(function(t){return i.includes(t)&&n.push(t)}),n}},{key:"onTabConfirm",value:function(){this.isOnlyDate&&this.$emit("set-filter",this.hotelFilterTemp),!this.isMobile&&(this.localSelectedValue=this.tabAttrs.tempSelectedValue),this.tabAttrs=null,this.hotelFilterTemp=null,this.postFilterValue(),this.isMobile&&(this.layerVisible=!1)}},{key:"onTabCancel",value:function(){this.tabSelectTag(!1)}}]),r}(X.Vue);nI([(0,X.Prop)({type:Function,default:null})],lm.prototype,"getHotelFilter",void 0),nI([(0,X.Model)("change",{type:Array,default:function(){return[]}})],lm.prototype,"value",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],lm.prototype,"isOnlyDate",void 0),nI([(0,X.Prop)({type:Object,default:null})],lm.prototype,"paramsInfo",void 0),nI([(0,X.Prop)({type:Object,default:function(){return{}}})],lm.prototype,"hotelFilter",void 0),nI([(0,X.Prop)({type:Object,default:function(){return null}})],lm.prototype,"hotelFilterCur",void 0),nI([(0,X.Prop)({type:String,default:""})],lm.prototype,"type",void 0),nI([(0,X.Prop)({type:Boolean,default:!1})],lm.prototype,"isMobile",void 0),nI([(0,X.Watch)("value",{immediate:!0})],lm.prototype,"initLocalSelectedValue",null);var lg=lm=nI([(0,X.Component)({inheritAttrs:!1,components:{PriceFilter:sJ,ListWrap:s5,ModalWrap:lo,WrapTag:s2,IconNext:nu.Z,IconCautionCircle:nc.Z,PayLaterLayer:lv}})],lm),l_=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r,[{key:"renderStarPoptipVNode",value:function(t){var e=this.$createElement;return e("klk-poptip",{attrs:{width:390,maxHeight:500,zIndex:2002,offset:[-10,10],placement:"filterMap"===this.page?"right-start":"top-start","append-to-body":!0}},[e("icon-caution-circle",{attrs:{size:"16"},style:"cursor: pointer;margin-left: 4px;color: #757575;"}),e("div",{slot:"content",class:"star-poptip-content"},[this.starPoptipContent(t)])])}},{key:"mounted",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"render",value:function(){var t=arguments[0];return t("div",{class:{"filter-container-outer":!0,"filter-pin":this.filterPin,"has-selected":this.value.length>0}},[t("div",{class:"filter-container-wrap"},[this.renderMainContent(),this.renderFilterTagList()]),this.renderTabs()])}},{key:"renderFilterTagList",value:function(){var t=this.$createElement;return this.value.length>0&&t("div",{class:"filter-tag-list"},[t("div",{class:"filter-tag--title"},[t("span",[this.$t("125031"),t("span",{class:"filter-tag--count"},["\xa0\xa0( ",this.value.length," )"])]),t("span",{class:"filter-clear",on:{click:this.clearSelected}},[this.$t("clear")])]),this.$slots.default])}},{key:"renderTabs",value:function(){var t,e,i=this.$createElement;if(!!this.tabAttrs){var n=this.tabAttrs.data,r=n.sub_filter_list,o=n.title,a=n.id,s=!(null===(t=null==r?void 0:r[0].sub_filter_list)||void 0===t?void 0:t.length);return i("klk-modal",{attrs:{title:o,width:750,zIndex:3e3,open:!!this.tabAttrs,closable:!0,"overlay-closable":!0,scrollable:s,"modal-class":"list-filter-modal ".concat(s?"no-tabs":"with-tabs")},ref:"modal-".concat(a),on:{close:this.onTabClose,"on-Close":this.onTabClose}},[this.renderTabsContent(),i("div",{slot:"footer",class:"footer"},[i("klk-button",{attrs:{disabled:(null===(e=this.tabCurrentSelected)||void 0===e?void 0:e.length)===0,type:"outlined"},class:"filter-clear-btn",on:{click:this.onTabCancel}},[this.$t("clear")]),i("klk-button",nU([{class:"filter-confirm-btn",attrs:{disabled:"0"===this.currentResultCount}},{directives:[{name:"galileo-click-tracker",value:{spm:"FilterViewResult"}}]},{},{attrs:this._$ihtHelper.getModuleIHT({spm:"FilterViewResult",manual:!0})},{on:{click:this.onTabConfirm}}]),[this.resultCountText])])])}}},{key:"onTabClose",value:function(){this.tabAttrs=null,this.hotelFilterTemp=null}}]),r}(lg);nI([(0,X.Prop)({default:"",type:String})],l_.prototype,"page",void 0),nI([(0,X.Prop)({default:!1,type:Boolean})],l_.prototype,"filterPin",void 0),nI([(0,X.Prop)({type:Object,default:function(){return{}}})],l_.prototype,"filterMap",void 0);var lb=l_=nI([X.Component],l_),lx=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r)}(lb),lk=lx=nI([X.Component],lx);let lw=sH({},void 0,lk,"data-v-b9e9175a",void 0,void 0,!1,void 0,void 0,void 0);var lS=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.layerVisible=!1,t.bottomSheetVisible=!1,t.page="",t}return nO(r,[{key:"toggleShow",value:function(){var t,e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.page=i,!!(null===(t=this.filterList)||void 0===t?void 0:t.length))(this.layerVisible=!this.layerVisible)&&this.$nextTick(function(){var t;null===(t=e.$inhouse)||void 0===t||t.track("pageview",e.$refs.pageLayer.$el,{force:!0})})}},{key:"render",value:function(){var t,e,i,n,r,o,a=arguments[0];return a("div",nU([{class:["filter-layer--entrance",(null===(t=this.filterList)||void 0===t?void 0:t.length)?this.value.length>0&&"active":"disabled"]},{directives:[{name:"galileo-click-tracker",value:{spm:this.dataSpmModule.split("?")[0]}}]},{attrs:{"data-spm-module":this.dataSpmModule,"data-spm-virtual-item":"__virtual"},on:{click:this.toggleShow}}]),[this.$slots.default||[a("span",[this.$t("80629")]),a(nd.Z,{attrs:{theme:"filled",size:"12"}})],a("client-only",[a("modal-wrap",nU([{attrs:{visible:this.layerVisible,isMobile:!0,type:"filterMap"===this.page?"layer":"",tabIndex:this.tabAttrs?1:0,config:{canPullClose:!1,headerDivider:!0,maskClosable:!1,transfer:!0,showClose:!0},title:this.tabAttrs?this.tabAttrs.data.title:this.title||this.$t("hotel.vertical_filter")},class:"filter-layer list-filter-modal ".concat(this.tabAttrs?(null===(r=null===(n=null===(i=null===(e=this.tabAttrs)||void 0===e?void 0:e.data)||void 0===i?void 0:i.sub_filter_list)||void 0===n?void 0:n[0].sub_filter_list)||void 0===r?void 0:r.length)?"with-tabs":"no-tabs":"")},{attrs:this._$ihtHelper.getPageIHT({spm:"HotelAPI_HotelFilterOverlay",manual:!0})},{ref:"pageLayer",on:{close:this.onClose,back:this.onTabBack}}]),[this.layerVisible&&this.renderMainContent(),this.renderTabs(),a("div",{slot:"footer",class:"filter-layer--footer ".concat(this.tabAttrs&&"tab")},[this.tabAttrsSubData?a("div"):a("klk-link",{attrs:{color:"#212121",disabled:this.tabAttrs?!(null===(o=this.tabCurrentSelected)||void 0===o?void 0:o.length):!this.localSelectedValue.length},class:"filter-clear-btn",on:{click:this.tabAttrs?this.onTabCancel:this.clearSelected}},[this.$t("clear")]),a("klk-button",nU([{class:"filter-confirm-btn",attrs:{disabled:"0"===this.currentResultCount}},{attrs:this._$ihtHelper.getModuleIHT({spm:"FilterViewResult",manual:!0})},{},{directives:[{name:"galileo-click-tracker",value:{spm:"FilterViewResult"}}]},{on:{click:this.onConfirm}}]),[this.resultCountText])])])])])}},{key:"renderStarPoptipVNode",value:function(t){var e,i=this,n=this.$createElement;return n("div",{class:"star-poptip-entrance"},[n("icon-caution-circle",{nativeOn:{click:function(){i.bottomSheetVisible=!0}},attrs:{size:20},style:"margin-left: 8px;color: #757575;"}),n("klk-bottom-sheet",nU([{attrs:{"header-divider":!0,transfer:!0,visible:this.bottomSheetVisible,title:null===(e=t.filter_desc)||void 0===e?void 0:e.title}},{on:{close:function(){i.bottomSheetVisible=!1}}}]),[this.starPoptipContent(t)])])}},{key:"tabAttrsSubData",get:function(){var t;return!!(null===(t=this.tabAttrs)||void 0===t?void 0:t.subData)}},{key:"onConfirm",value:function(){this.onTabConfirm()}},{key:"onClose",value:function(){this.tabAttrs=null,this.hotelFilterTemp=null,this.layerVisible=!1,this.initLocalSelectedValue()}},{key:"onTabBack",value:function(){this.tabAttrs=null}},{key:"renderTabs",value:function(){var t=this,e=this.$createElement;if(!!this.tabAttrs){if(!this.tabAttrs.subData)return this.renderTabsContent();var i=this.tabAttrs.subData.sub_filter_list;return e("div",{class:"layer-tab"},[e("klk-checkbox",nU([{class:"filter-tag"},{attrs:this.isTabSingleAllChecked()},{on:{change:this.handleTabCheckAllChange}}]),[this.$t("389")]),i.map(function(e,i){return t.renderCheckBoxSingle(e,i,{selectedValue:t.localSelectedValue,customChange:function(){return t.tabSelectTag(e.id,!0)}})})])}}},{key:"beforeDestroy",value:function(){}}]),r}(lg);nI([(0,X.Model)("change",{type:Array,default:function(){return[]}})],lS.prototype,"value",void 0),nI([(0,X.Prop)({type:String,default:"FilterEdit?trg=manual"})],lS.prototype,"dataSpmModule",void 0),nI([(0,X.Prop)({type:Array,default:function(){return[]}})],lS.prototype,"curFilterList",void 0),nI([(0,X.Prop)({type:Object,default:function(){return{}}})],lS.prototype,"filterSelected",void 0),nI([(0,X.Prop)({type:String,default:""})],lS.prototype,"title",void 0);var lC=lS=nI([(0,X.Component)({components:{IconTriangleDown:nd.Z,ModalWrap:lo}})],lS),lO=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r)}(lC),lP=lO=nI([X.Component],lO);let l$=sH({},void 0,lP,"data-v-5879bfb0",void 0,void 0,!1,void 0,void 0,void 0);var lL=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.showList=[],t.hideList=[],t.priceList=[],t.currentIndex=0,t.showHideList=!1,t}return nO(r,[{key:"listChange",value:function(){this.formatData()}},{key:"onValueChange",value:function(){var t=this;if(/^price_*/.test(this.value)){var e=this.priceList.findIndex(function(e){return e.id===t.value});e>-1&&this.updateMenu(e)}}},{key:"formatData",value:function(){this.priceList=this.list.filter(function(t){return/^price_*/.test(t.id)});var t=this.priceList.length>1?this.list.filter(function(t){return!/^price_*/.test(t.id)}):this.list;this.priceList.length>1?(this.showList=t,this.showList.splice(1,0,Object.assign(Object.assign({},this.priceList[0]),{is_price:!0})),this.showList=this.showList.slice(0,this.firstShowLength)):this.showList=this.list.slice(0,this.firstShowLength),this.hideList=t.slice(this.firstShowLength)}},{key:"selectItem",value:function(t,e){if(!t.is_price){this.updateMenu(e);var i=t[this.valueKey];this.$emit("change",i),this.$emit("input",i)}}},{key:"updateMenu",value:function(t){if(this.close(),void 0!==t){this.showList[1]=Object.assign(Object.assign({},this.priceList[t]),{is_price:this.priceList.length>1});var e=Array.isArray(this.$refs.pricePoptip)?this.$refs.pricePoptip[0]:this.$refs.pricePoptip;null==e||e.hide()}}},{key:"findIndex",value:function(t){var e=this;return(t||this.showList).findIndex(function(t){return t[e.valueKey]===e.value})}},{key:"selectHideItem",value:function(t,e){var i=this;this.selectItem(t),this.hideList.splice(e,1,this.showList[this.firstShowLength-1]),this.showList.splice(this.firstShowLength-1,1,t),this.$nextTick(function(){setTimeout(function(){i.close()},100)})}},{key:"show",value:function(){this.showHideList=!this.showHideList}},{key:"close",value:function(){this.showHideList=!1}},{key:"getActiveStatus",value:function(t){return this.value===t[this.valueKey]}}]),r}(X.Vue);nI([(0,X.Prop)({type:String,default:"value"})],lL.prototype,"valueKey",void 0),nI([(0,X.Prop)({type:String,default:"name"})],lL.prototype,"nameKey",void 0),nI([(0,X.Prop)({type:Number,default:24})],lL.prototype,"padding",void 0),nI([(0,X.Prop)({type:Array,default:function(){return[]}})],lL.prototype,"list",void 0),nI([(0,X.Model)("input",{type:[String,Number]})],lL.prototype,"value",void 0),nI([(0,X.Prop)({type:Number,default:4})],lL.prototype,"firstShowLength",void 0),nI([(0,X.Watch)("list",{immediate:!0})],lL.prototype,"listChange",null),nI([(0,X.Watch)("value")],lL.prototype,"onValueChange",null);var lE=lL=nI([(0,X.Component)({components:{IconChevronDown:ns.Z,IconCheck:np.Z}})],lL);let lT=sH({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],staticClass:"hotel-tag-separated"},[i("div",{staticClass:"show-list"},[t._l(t.showList,function(e,n){return i("div",{key:n,class:"tag-item "+(t.getActiveStatus(e)?"active":""),on:{click:function(i){return t.selectItem(e)}}},[e.is_price&&t.priceList.length>1?i("klk-poptip",{ref:"pricePoptip",refInFor:!0,attrs:{arrow:!1,placement:"bottom-start",width:280,offset:[0,10],trigger:"click"}},[i("span",{staticClass:"price-item"},[t._v(" "+t._s(e[t.nameKey]))]),t._v(" "),i("IconChevronDown",{staticClass:"price-icon",attrs:{theme:"outline",size:"20"}}),t._v(" "),i("template",{slot:"content"},t._l(t.priceList,function(e,n){return i("div",{key:n,class:"sub-item "+(t.getActiveStatus(e)?"active":""),on:{click:function(i){return t.selectItem(e,n)}}},[i("span",[t._v(t._s(e[t.nameKey]))]),t._v(" "),t.getActiveStatus(e)?i("IconCheck",{attrs:{theme:"outline",size:"16"}}):t._e()],1)}),0)],2):i("span",[t._v(" "+t._s(e[t.nameKey]))])],1)}),t._v(" "),t.hideList.length>0?i("svg-icon",{class:"show_more_icon "+(t.showHideList?"active":""),attrs:{name:"common#icon_navigation_menu_m",size:"20"},nativeOn:{click:function(e){return t.show(e)}}}):t._e()],2),t._v(" "),t.hideList.length>0?i("div",{staticClass:"hide-list",style:{visibility:t.showHideList?"visible":"hidden"}},t._l(t.hideList,function(e,n){return i("div",{key:n,staticClass:"tag-item",on:{click:function(i){return t.selectHideItem(e,n)}}},[i("span",[t._v(" "+t._s(e[t.nameKey]))])])}),0):t._e()])},staticRenderFns:[]},void 0,lE,"data-v-ffc784d6",!1,void 0,!1,void 0,void 0,void 0);var lj=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.sortDrawerVisible=!1,t}return nO(r,[{key:"currentTitle",get:function(){var t=this,e=this.sortList.find(function(e){return t.sortValue===e.id});return(null==e?void 0:e.title)||this.$t("28270")}},{key:"toggleShow",value:function(){this.sortList&&this.sortList.length&&(this.sortDrawerVisible=!this.sortDrawerVisible)}},{key:"selectSort",value:function(t){this.$emit("change",t),this.sortDrawerVisible=!1}},{key:"mounted",value:function(){}}]),r}(X.Vue);nI([(0,X.Model)("change",{type:String})],lj.prototype,"sortValue",void 0),nI([(0,X.Prop)({type:String})],lj.prototype,"defaultValue",void 0),nI([(0,X.Prop)({type:Number})],lj.prototype,"offsetTop",void 0),nI([(0,X.Prop)({type:Array,default:function(){return[]}})],lj.prototype,"sortList",void 0);var lI=lj=nI([(0,X.Component)({inheritAttrs:!1,components:{IconSort:nf.Z,IconCheck:np.Z}})],lj);let lR=sH({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"SortByEdit"},expression:"{spm: 'SortByEdit'}"}],staticClass:"sort-drawer--entrance",class:t.sortList&&t.sortList.length?t.sortValue&&t.sortValue!==t.defaultValue&&"active":"disabled",on:{click:function(e){return e.stopPropagation(),t.toggleShow(e)}}},"div",t._$ihtHelper.getModuleIHT({spm:"SortByEdit",manual:!0}),!1),[t._t("default",[i("icon-sort",{attrs:{size:16}}),t._v(" "),i("span",[t._v(t._s(t.currentTitle))])]),t._v(" "),i("client-only",[i("klk-bottom-sheet",{attrs:{visible:t.sortDrawerVisible,title:t.$t("28270")},on:{"update:visible":function(e){t.sortDrawerVisible=e}}},t._l(t.sortList,function(e){return i("div",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"SortByViewResult"},expression:"{spm: 'SortByViewResult'}"}],key:e.id,staticClass:"sort-drawer--item",class:{selected:t.sortValue===e.id},on:{click:function(i){return t.selectSort(e.id)}}},"div",t._$ihtHelper.getModuleIHT({spm:"SortByViewResult",manual:!0}),!1),[i("span",[t._v(t._s(e.title))]),t._v(" "),i("icon-check",{attrs:{size:20}})],1)}),0)],1)],2)},staticRenderFns:[]},void 0,lI,"data-v-1e58f903",!1,void 0,!1,void 0,void 0,void 0);var lM=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){var t;return nP(this,r),t=n.apply(this,arguments),t.areaFilterType=["poi","district","subway","airportAndTrain","location"],t.paramsInfo=t.initParamsInfo(),t.listParams={filter_list:[],limit:20,current_page:1,sort:""},t.hotelFilter={},t.filterPin=!1,t.filterLoading=!0,t.showFilter=!0,t.filterSectionHeight=0,t.throttleScroll=rC(function(){t.scroll()},200),t}return nO(r,[{key:"isMobile",get:function(){return"desktop"!==this.screenPlatform}},{key:"isNewCard",get:function(){var t;return!!(null===(t=this.listResult)||void 0===t?void 0:t.is_new_card_style)}},{key:"getHotelFilterFetch",get:function(){var t=this;return this.getHotelFilter?this.getHotelFilter:function(e){var i,n;return i=t,n=t.paramsInfo,nK&&(nK("cancel"),nK=null),i.$axios.$post("/v1/hotelapiserv/public/hotel/filter",Object.assign({},n),{throwError:!0,headers:{"K-HOTEL-API-VERSION":1},cancelToken:new i.$axios.CancelToken(function(t){nK=t})}).then(function(t){return t.success&&t.result?t.result:Promise.reject(Error(t&&t.error))}).catch(function(){return{}})}}},{key:"isOnlyDate",get:function(){return n6(this.paramsInfo).onlyDate}},{key:"filterSelected",get:function(){var t=this.hotelFilter.area_filter_list,e=[],i=(this.listParams.filter_list||[]).slice();return(null==t?void 0:t.length)&&t.forEach(function(t){var n=t.id,r=t.sub_filter_list;if(n&&(null==r?void 0:r.length))for(var o=0;o<i.length;o++)i[o].includes(n)&&(e.push(i.splice(o,1)[0]),o--)}),{area:e,filter:i}}},{key:"created",value:function(){}},{key:"render",value:function(){var t=arguments[0];return t("div",{class:["hotel-search-list-".concat(this.isMobile?"mobile":"desktop"),{"hotel-search-list":!0,"filter-pin":this.filterPin}]},[this.isMobile&&this.renderMobileFilter(),this.renderHeader(),this.renderMain(),this.renderViewMoreButton()])}},{key:"formatListQuery",value:function(){this.jumpListPage(Object.assign({},this.getJumpListExtraQuery(),this.paramsInfo))}},{key:"isMobileChange",value:function(){this.hotelFilter=this.formatHotelFilter(this.hotelFilter)}},{key:"mounted",value:function(){this.fetchFilterList();var t,e,i=null===(e=null===(t=this.listResult)||void 0===t?void 0:t.content)||void 0===e?void 0:e.filter(function(t){return t.type.includes("card")});this.$emit("get-list-data",{cardNum:(null==i?void 0:i.length)||0}),window.addEventListener("scroll",this.throttleScroll)}},{key:"beforeDestroy",value:function(){window.removeEventListener("scroll",this.throttleScroll)}},{key:"renderHeader",value:function(){var t=this,e=this.$createElement;return this.$scopedSlots.selector?this.$scopedSlots.selector({paramsInfo:this.paramsInfo,selectorOptions:this.selectorOptions,onSearch:this.onSearch,isMobile:this.isMobile}):this.isMobile?e("div",{class:"hotel-search-list-header"},[e("div",{class:"hotel-selector-mobile-poi"},[e("layer-destination",nU([{},{attrs:this.selectorOptions.destinationConfig},{attrs:{options:this.paramsInfo},on:{change:this.onSelectorChange},scopedSlots:{default:function(t){var i=t.valueDesc;return e("div",{class:"selector-destination"},[e("icon-hotel",{attrs:{theme:"outline",size:20},class:"hotel-icon"}),e("div",{class:"content"},[i]),e("icon-chevron-down",{class:"icon-down",attrs:{theme:"outline",size:20}})])}}}])),e("div",{class:"hotel-selector-mobile-main"},[e("layer-calendar",{ref:"layerCalendar",class:"selector-calendar",on:{change:this.onSelectorChange},scopedSlots:{default:function(t){return e("div",{class:"selector-calendar-main"},[t.valueDesc])}}}),e("layer-guest",nU([{class:"selector-guest"},{attrs:this.selectorOptions.calendarConfig},{on:{change:this.onSelectorChange},scopedSlots:{default:function(i){return i.valueDesc,e("div",{class:"selector-guest-main"},[e("div",{class:"rooms"},[e("icon-number-of-rooms",{attrs:{theme:"filled",size:"16"},class:"hotel-icon"}),t.paramsInfo.room_num]),e("div",{class:"adults"},[e("icon-user",{attrs:{theme:"filled",size:"16"},class:"hotel-icon"}),t.paramsInfo.adult_num+t.paramsInfo.child_num])])}}}]))]),e("klk-button",nU([{class:"hotel-selector-mobile-search",attrs:{block:!0,size:"small","data-spm-module":"SearchButton"}},{directives:[{name:"galileo-click-tracker",value:{spm:"SearchButton"}}]},{nativeOn:{click:function(){return t.onSelectorChange()}}}]),[this.$t("car_rental_home_search")])])]):e("div",{class:"hotel-search-list-header",style:{top:"".concat(this.top||0,"px")}},[e("selector-desktop",nU([{ref:"selector",attrs:{paramsInfo:this.paramsInfo}},{attrs:this.selectorOptions},{on:{search:this.onSearch}}]))])}},{key:"renderMain",value:function(){var t=this.$createElement;return t("div",{class:"hotel-search-result--content"},this.isMobile?[this.renderSortDrawer(),this.renderCardList()]:[this.renderFilterLoading(),this.renderDesktopFilter(),this.renderMainList()])}},{key:"renderMainList",value:function(){var t,e,i=this.$createElement;return i("div",{class:"right-card-list"},[i("klk-skeleton",{directives:[{name:"show",value:this.filterLoading}],attrs:{animate:!0,mode:"dark"}},[i("klk-skeleton-block",{attrs:{height:"50","radius-size":"max"},style:"margin: 0 0 12px 0;"})]),(null===(e=null===(t=this.listResult)||void 0===t?void 0:t.content)||void 0===e?void 0:e.length)>0&&this.hotelFilter.sort_list&&this.hotelFilter.sort_list.length>0&&i("tag-separated",nU([{attrs:{value:this.listParams.sort,list:this.hotelFilter.sort_list,valueKey:"id",nameKey:"title"},on:{change:this.changeSort}},{directives:[{name:"galileo-click-tracker",value:{spm:"SortByEdit"}}]},{},{attrs:this._$ihtHelper.getModuleIHT({spm:"SortByEdit"})}])),i("card-list")])}},{key:"renderCardList",value:function(){return(0,this.$createElement)("card-list")}},{key:"renderFilterLoading",value:function(){var t=this.$createElement;return t("klk-skeleton",{directives:[{name:"show",value:this.filterLoading}],attrs:{animate:!0,mode:"dark"},class:"left-filter"},[t("klk-skeleton-block",{attrs:{radiusSize:"max",height:640}})])}},{key:"renderMobileFilter",value:function(){var t=this.$createElement;return t("div",{directives:[{name:"show",value:this.showFilter}],class:"header-filter",style:{top:"".concat(this.top||0,"px")}},[t("filter-layer",nU([{ref:"areaLayer",attrs:{value:this.filterSelected.area,type:"area",hotelFilter:this.hotelFilter,isMobile:this.isMobile,entranceTitle:this.$t("80130")},class:"header-filter--item",on:{change:this.changeFilter}},{directives:[{name:"galileo-click-tracker",value:{spm:"AreaSelect"}}]},{attrs:{"data-spm-module":"AreaSelect?trg=manual"}}]),[t("span",[this.$t("80130")]),t(nd.Z,{attrs:{theme:"filled",size:"12"}})]),t("filter-layer",{ref:"filterLayer",attrs:{value:this.filterSelected.filter,hotelFilter:this.hotelFilter,isMobile:this.isMobile},class:"header-filter--item",on:{change:this.changeFilter}})])}},{key:"renderDesktopFilter",value:function(){var t=this,e=this.$createElement;return e("client-only",[e("div",{class:"left-filter",directives:[{name:"show",value:!this.filterLoading&&this.showFilter}]},[e("map-entrance",{on:{"open-map":function(){return t.jumpListPage(Object.assign({},t.paramsInfo,t.listParams,{pageSource:"map"}))}}}),e("filter-section",nU([{attrs:{isMobile:this.isMobile,value:this.listParams.filter_list,hotelFilter:this.hotelFilter},class:"search-result-filter-container"},{directives:[{name:"galileo-click-tracker",value:{spm:"FilterViewResult"}}]},{},{attrs:this._$ihtHelper.getModuleIHT({spm:"FilterViewResult",manual:!0})},{attrs:{filterPin:this.filterPin,getHotelFilter:this.getHotelFilterFetch},on:{change:this.changeFilter}}]))])])}},{key:"renderViewMoreButton",value:function(){var t=this,e=this.$createElement;return+this.listResult.total_count>=12&&e("div",{class:"hotel-search-list-bottom"},[e("klk-button",nU([{class:"hotel-search-list-viewmore",attrs:{type:"outlined",size:this.isMobile?"small":"large"},on:{click:function(){return t.jumpListPage(t.paramsInfo)}}},{directives:[{name:"galileo-click-tracker",value:{spm:"ViewMore"}}]},{attrs:{"data-spm-module":"ViewMore","data-spm-virtual-item":"__virtual"}}]),[e("div",[e("span",[this.$t("84644")]),e("icon-next",{attrs:{size:16}})])])])}},{key:"renderSortDrawer",value:function(){var t=this.$createElement;return t("div",{class:"search-list-sort-top"},[t("sort-drawer",{attrs:{sortValue:this.listParams.sort,defaultValue:this.hotelFilter.sort_selected,sortList:this.hotelFilter.sort_list},on:{change:this.changeSort}}),t("span",[" ",this.$t("18772",{result_count:this.listResult.total_count})])])}},{key:"initParamsInfo",value:function(){var t=this.poiInfo||{},e=t.city_id,i=t.city_name,n=t.country_name;return{room_num:1,adult_num:2,child_num:0,age:"",city_id:e||"",stype:t.stype||"",svalue:t.svalue||"",override:i+(n?", "+n:""),title:i}}},{key:"emptyAction",value:function(){var t,e;this.isMobile?null===(t=this.$refs.layerCalendar)||void 0===t||t.show():null===(e=this.$refs.selector)||void 0===e||e.show("calendar")}},{key:"onSearch",value:function(t){this.paramsInfo=t}},{key:"scroll",value:function(){if(this.isMobile)return;var t=this.$el.querySelector(".search-result-filter-container");if(!t||!t.offsetWidth)return;var e=this.$el.querySelector(".right-card-list");if(!e||!e.offsetWidth||!(e.scrollHeight<t.scrollHeight)){var i=n4();if(this.filterPin)i<this.filterSectionHeight+224&&(this.filterPin=!1);else{var n=t.scrollHeight;i>n+224&&(this.filterSectionHeight=n,this.filterPin=!0)}}}},{key:"fetchFilterList",value:function(){return nR(this,void 0,void 0,nG.mark(function t(){var e=this;return nG.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.filterLoading=!0,this.getHotelFilterFetch(this.paramsInfo).then(function(t){e.hotelFilter=e.formatHotelFilter(t),e.listParams.sort=e.hotelFilter.sort_selected||"",e.listParams.filter_list=e.hotelFilter.filter_selected||[]}).finally(function(){var t,i;e.filterLoading=!1,e.showFilter=(null===(i=null===(t=e.listResult)||void 0===t?void 0:t.content)||void 0===i?void 0:i.length)>0});case 2:case"end":return t.stop()}},t,this)}))}},{key:"formatHotelFilter",value:function(t){var e=t.filter_list,i=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)0>e.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}(t,["filter_list"]),n=(null==e?void 0:e.slice())||[];if(!n.length)return t;var r=this.areaFilterType,o=["promotionTag","rating"],a=(t.area_filter_list||[]).concat(n.filter(function(t){return r.includes(t.id)})||[]).slice()||[];if(n=n.filter(function(t){return!r.includes(t.id)}),console.log("filter change"),this.isMobile)return Object.assign(Object.assign({},i),{area_filter_list:a,filter_list:n});var s,l=n.findIndex(function(t){return o.includes(t.id)})||n.length-1;return(s=n).splice.apply(s,[l,0].concat(nN(a))),Object.assign(Object.assign({},i),{area_filter_list:[],filter_list:n})}},{key:"getJumpListExtraQuery",value:function(){var t=this.listParams,e=t.filter_list,i=t.sort;return Object.assign({},this.paramsInfo,{sort_selected:i&&i!==this.hotelFilter.sort_selected?i:void 0,filter_selected:e.length?e.toString():void 0})}},{key:"changeFilter",value:function(t){this.listParams.filter_list=t,this.jumpListPage(this.getJumpListExtraQuery())}},{key:"changeSort",value:function(t){this.listParams.sort=t,this.jumpListPage(this.getJumpListExtraQuery())}},{key:"selectOfferTag",value:function(t){if(!(null==t?void 0:t.filter_id))return!1;!this.listParams.filter_list.includes(t.filter_id)&&this.listParams.filter_list.push(t.filter_id),this.jumpListPage(this.getJumpListExtraQuery())}},{key:"onSelectorChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.jumpListPage(Object.assign({},this.getJumpListExtraQuery(),t))}}]),r}(n7);nI([(0,X.Prop)({default:""})],lM.prototype,"screenPlatform",void 0),nI([(0,X.Prop)({type:Object,default:null})],lM.prototype,"poiInfo",void 0),nI([(0,X.Prop)({type:Number,default:0})],lM.prototype,"top",void 0),nI([(0,X.Prop)({type:Object,default:null})],lM.prototype,"listResult",void 0),nI([(0,X.Prop)({type:Function,default:null})],lM.prototype,"getHotelFilter",void 0),nI([(0,X.Provide)("isMobile")],lM.prototype,"isMobile",null),nI([(0,X.Watch)("paramsInfo",{deep:!0})],lM.prototype,"formatListQuery",null),nI([(0,X.Watch)("isMobile")],lM.prototype,"isMobileChange",null);var lD=lM=nI([(0,X.Component)({components:{CardList:sZ,SelectorDesktop:i1,LayerCalendar:nt,LayerDestination:i9,LayerGuest:nr,IconHotel:nh.Z,IconNext:nu.Z,IconNumberOfRooms:nv.Z,IconUser:ne.Z,IconTriangleDown:nd.Z,IconChevronDown:ns.Z,FilterSection:lw,FilterLayer:l$,TagSeparated:lT,MapEntrance:sK,SortDrawer:lR}})],lM),lF=function(t){nL(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=nj(e);return t=i?Reflect.construct(n,arguments,nj(this).constructor):n.apply(this,arguments),nT(this,t)});function r(){return nP(this,r),n.apply(this,arguments)}return nO(r)}(lD),lA=lF=nI([(0,X.Component)({})],lF);let lB=sH({},void 0,lA,"data-v-003ede58",void 0,void 0,!1,void 0,void 0,void 0);var lN=function(t,e){return"".concat(t,"_").concat(e)},lH=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=JSON.stringify(t);return e?encodeURIComponent(i):i},lV=function(t){var e=t.spm,i=t.oidName,n=t.oidValue,r=t.ext,o=t.manual,a=t.isOverlay,s={};i&&n&&(s.oid=lN(i,n)),r&&(s.ext=lH(r,!0)),o&&(s.trg="manual"),(a||o&&/Overlay$/ig.test(e))&&(s._f="1");var l=n5.obj2str(s);return"".concat(e).concat(l?"?".concat(l):l)},lz=function(t){return lV(t)},lW=function(t){var e=lV(t),i=t.idx,n=t.len,r=t.spm;if(/list$/i.test(r)){if(void 0===i||void 0===n)console.warn("".concat(r," idx or len is undefined"));else{var o=e.includes("?");e+="".concat(o?"&":"?","idx=").concat(i,"&len=").concat(n)}}return e},lq=Object.freeze({__proto__:null,setElementSpm:function(t,e){if(!!t)t.setAttribute("data-spm-module",e),t.setAttribute("data-spm-virtual-item","__virtual")},getPageSpm:function(t){return t},getObjectId:lN,getPageIHTStr:lz,getPageIHT:function(t){return{"data-spm-page":lz(t)}},getModuleIHTStr:lW,getModuleIHT:function(t){var e={"data-spm-module":lW(t)},i=t.isVirtualItem,n=t.isClick;return(void 0===i||i)&&(e["data-spm-virtual-item"]="__virtual".concat(void 0===n||n?"":"?trg=manual")),e},updateBinding:function(t,e){var i=e.oidName,n=e.oidValue,r={ext:lH(e.ext)};i&&n&&(r.oid=lN(i,n)),window.$klook.$inhouse.updateBinding(t,r)},track:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.force,r=i.spm,o=i.ext,a=null;(n||r||o)&&(a={},n&&(a.force=n),r&&(a.spm=r),o&&(a=Object.assign(a,Object.assign({},o)))),window.$klook.$inhouse.track(t,e,a)}});lB.install=function(t){t.prototype._$ihtHelper=lq,t.component("HotelSearchList",lB)};let lU=lB},52513:function(t,e,i){i.d(e,{_:function(){return g},a:function(){return f},b:function(){return y},c:function(){return o},d:function(){return v},e:function(){return u},f:function(){return d},g:function(){return b},h:function(){return n},i:function(){return s},j:function(){return m},k:function(){return _},r:function(){return a},t:function(){return c},u:function(){return r}});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o(t,e){return t(e={exports:{}},e.exports),e.exports}var a=o(function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),s=r(a),l=o(function(t){var e=a.default;t.exports=function(t,i){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,i||"default");if("object"!==e(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports});r(l);var c=o(function(t){var e=a.default;t.exports=function(t){var i=l(t,"string");return"symbol"===e(i)?i:String(i)},t.exports.__esModule=!0,t.exports.default=t.exports});r(c);var u=r(o(function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports})),d=r(o(function(t){function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}t.exports=function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports})),p=o(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports});r(p);var f=r(o(function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports})),h=o(function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports});r(h);var v=r(o(function(t){var e=a.default;t.exports=function(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return h(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),y=r(o(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));function m(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)0>e.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function g(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}function _(t,e,i,n){return new(i||(i=Promise))(function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((n=n.apply(t,e||[])).next())})}var b=function(t,e,i,n,r,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var u,d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),o?(u=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u){if(d.functional){var p=d.render;d.render=function(t,e){return u.call(e),p(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}}return i}},93854:function(t,e,i){let n,r,o;i.r(e),i.d(e,{default:function(){return K},showLayer:function(){return Y}});var a=i(52513),s=i(95334),l=i(20144),c=(0,a.c)(function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0});let n=((i=l.default)&&"object"==typeof i&&"default"in i?i:{default:i}).default.prototype.$isServer,r=/-(\w)/g,o=/\B([A-Z])/g;e.camelize=function(t){return t.replace(r,(t,e)=>e?e.toUpperCase():"")},e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.hyphenate=function(t){return t.replace(o,"-$1").toLowerCase()},e.isServer=n});(0,a.u)(c),c.camelize,c.capitalize,c.hyphenate,c.isServer;class u{constructor(t,e=!1){this.pageX=0,this.pageY=0,this.swiping=!1,this.swipeDistance=0,this.swipeDistanceX=0,this.swipeStartTime=null,this.rootEl=null,this.detectScrollableEl=!1,this.scrollableEl=null,this.scrollableElInfo={},this.rootEl=t,this.detectScrollableEl=e}touchstart(t){this.swiping=!0,this.swipeDistance=0,this.swipeDistanceX=0,this.swipeStartTime=Date.now();let{pageX:e,pageY:i}=t.targetTouches[0];this.pageX=e,this.pageY=i,this.detectScrollableEl&&(this.scrollableEl=x(t.target,this.rootEl))}touchmove(t){if(!this.swiping)return;if(this.detectScrollableEl){let t=!1,e=!1;if(this.scrollableEl){let{scrollTop:i,clientHeight:n,scrollHeight:r}=this.scrollableEl;t=0===i,e=i>=r-n}this.scrollableElInfo={atTop:t,atBottom:e}}let{pageX:e,pageY:i}=t.targetTouches[0];this.swipeDistance=i-this.pageY,this.swipeDistanceX=e-this.pageX}touchend(t){this.touchcancel(t)}touchcancel(t){this.pageX=0,this.pageY=0,this.swiping=!1,this.swipeDistance=0,this.swipeDistanceX=0,this.swipeStartTime=null,this.scrollableEl=null,this.scrollableElInfo={}}}let d=/([\:\-\_]+(.))/g,p=/^moz([A-Z])/,f=/scroll|auto/i;function h(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function v(t,e){if(t){for(var i=t.className,n=(e||"").split(" "),r=0,o=n.length;r<o;r++){var a=n[r];a&&(t.classList?t.classList.add(a):!h(t,a)&&(i+=" "+a))}!t.classList&&(t.className=i)}}function y(t,e){if(t&&e){for(var i=e.split(" "),n=" "+t.className+" ",r=0,o=i.length;r<o;r++){var a=i[r];a&&(t.classList?t.classList.remove(a):h(t,a)&&(n=n.replace(" "+a+" "," ")))}!t.classList&&(t.className=n?n.trim():n)}}function m(t=!1){if(c.isServer)return 0;if(t||void 0===n){let t=document.createElement("div");t.style.width="100%",t.style.height="200px";let e=document.createElement("div"),i=e.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",e.appendChild(t),document.body.appendChild(e);let r=t.offsetWidth;e.style.overflow="scroll";let o=t.offsetWidth;r===o&&(o=e.clientWidth),document.body.removeChild(e),n=r-o}return n}function g(t,e){if(!c.isServer&&t&&e){"float"===(e=e.replace(d,function(t,e,i,n){return n?i.toUpperCase():i}).replace(p,"Moz$1"))&&(e="cssFloat");try{var i=document.defaultView&&document.defaultView.getComputedStyle(t,"");return t.style[e]||(i?i[e]:null)}catch(i){return t.style[e]}}}function _(){if(!c.isServer)return r||(r=document.documentElement||document.body.parentNode)}function b(t){if(!(t instanceof HTMLElement))return!1;let e=f.test(g(t,"overflowY")||"");return t.scrollTop>0?e:(t.scrollTop++,!!(t.scrollTop>0)&&(t.scrollTop=0,e))}function x(t,e){e=e||_();let i=t,n=!1;for(;i&&"HTML"!==i.tagName&&1===i.nodeType&&e&&i!==e;){if(b(i)){n=!0;break}i=i.parentElement}return n?i:null}let k=0;var w=v,S=function(t){let e=[];if(!t)return e;if(t instanceof Array)e=e.concat(t);else if(t instanceof Object)for(let i in t)t[i]&&e.push(i);else e=e.concat(t.split(" "));return e},C=_,O=function(t,e){if(!t||!e)return;let i=t;return e.split(".").forEach((t,e)=>{i&&(i=i[t])}),i},P=function(t){let e=t.getBoundingClientRect(),i=document.body,n=t.clientTop||i.clientTop||0,r=t.clientLeft||i.clientLeft||0,o=window.pageYOffset||t.scrollTop,a=window.pageXOffset||t.scrollLeft;return{top:e.top+o-n,left:e.left+a-r}},$=m,L=function(t){let e=t;for(;e&&"HTML"!==e.tagName&&1===e.nodeType;){let t=window.getComputedStyle(e).overflowY;if("scroll"===t||"auto"===t)return e;e=e.parentNode}return window},E=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},T=x,j=g,I=function(t){let e=String(t);return e&&-1===e.indexOf("%")&&-1===e.indexOf("px")&&(e+="px"),e},R=h,M=b,D=function(t,e=!1){let i;if(++k>1||!t||1!==t.nodeType)return;let n=document.scrollingElement||document.documentElement||document.body,r=m(),a=n.scrollTop,s=document.documentElement.clientHeight<document.body.scrollHeight,l=g(document.body,"overflowY"),c=document.body.style.paddingRight,d=document.body.style.top,p=parseInt(g(document.body,"paddingRight")||"0",10),f=_();(s||"scroll"===l)&&(document.body.style.paddingRight=p+r+"px",f&&v(f,"klk-lock-body-scroll"),document.body.style.top=-a+"px"),e&&(i=function(t){let e=new u(document.body,!0),i=t=>e.touchstart(t),n=i=>{e.touchmove(i);let n=!!e.scrollableEl,{atTop:r,atBottom:o}=e.scrollableElInfo,a=!t.contains(i.target)||!n||n&&r&&e.swipeDistance>0||n&&o&&e.swipeDistance<0;i.cancelable&&a&&i.preventDefault()},r=t=>e.touchend(t),o=t=>e.touchcancel(t);return document.body.addEventListener("touchstart",i),document.body.addEventListener("touchmove",n,{passive:!1}),document.body.addEventListener("touchend",r),document.body.addEventListener("touchcancel",o),function(){document.body.removeEventListener("touchstart",i),document.body.removeEventListener("touchmove",n,{passive:!1}),document.body.removeEventListener("touchend",r),document.body.removeEventListener("touchcancel",o)}}(t)),o=function(){document.body.style.paddingRight=c,f&&y(f,"klk-lock-body-scroll"),document.body.style.top=d,document.body.scrollTop=a,document.documentElement&&(document.documentElement.scrollTop=a),document.scrollingElement&&(document.scrollingElement.scrollTop=a),e&&i&&i(),o=void 0}},F=function(t,e,i){return t.removeEventListener(e,i)},A=function(t,e,i){return t.addEventListener(e,i)},B=function(t,e){if(!["number","string"].includes(typeof t))return t;if("string"==typeof t){if(t=t.trim(),!/(\d+|px)$/.test(t))return t;t=parseFloat(t)}if("number"==typeof t&&!Number.isNaN(t))return(t=e?t+e:t)+"px"},N=y,H=function(t,e,i){e.split(".").forEach((n,r)=>{if(e.length-r<=1){t[n]=i;return}t=t[n]})},V=function(t,e){let i=["msTransitionEnd","mozTransitionEnd","oTransitionEnd","webkitTransitionEnd","transitionend"],n={handleEvent(r){i.forEach(function(e){t.removeEventListener(e,n,!1)}),e.apply(t,arguments)}};i.forEach(function(e){t.addEventListener(e,n,!1)})},z=function(){k>0&&k--,0===k&&o&&o()},W=(0,a.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.addClass=w,e.convertClass=S,e.getHtmlElm=C,e.getObjAttr=O,e.getOffset=P,e.getScrollBarSize=$,e.getScrollEventTarget=L,e.getScrollTop=E,e.getScrollableEl=T,e.getStyle=j,e.getWidth=I,e.hasClass=R,e.isElScrollable=M,e.lockOuterScroll=D,e.off=F,e.on=A,e.parseWidth=B,e.removeClass=N,e.setObjAttr=H,e.transitionEnd=V,e.unlockOuterScroll=z});(0,a.u)(W),W.addClass,W.convertClass,W.getHtmlElm,W.getObjAttr,W.getOffset,W.getScrollBarSize,W.getScrollEventTarget,W.getScrollTop,W.getScrollableEl,W.getStyle,W.getWidth,W.hasClass,W.isElScrollable;var q=W.lockOuterScroll;W.off,W.on,W.parseWidth,W.removeClass,W.setObjAttr,W.transitionEnd;var U=W.unlockOuterScroll,Z=function(t){(0,a.a)(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,a.b)(e);return t=i?Reflect.construct(n,arguments,(0,a.b)(this).constructor):n.apply(this,arguments),(0,a.d)(this,t)});function r(){return(0,a.e)(this,r),n.apply(this,arguments)}return(0,a.f)(r,[{key:"close",value:function(){this.$emit("close",!1),this.$emit("update:visible",!1)}},{key:"mounted",value:function(){document.body.appendChild(this.$el)}},{key:"visibleChange",value:function(t){t?q(this.$el,!1):U(this.$el,!1)}},{key:"beforeDestroy",value:function(){this.visible&&this.visibleChange(),document.body.removeChild(this.$el)}}]),r}(s.Vue);(0,a._)([(0,s.Model)("close",{type:Boolean,default:!1})],Z.prototype,"visible",void 0),(0,a._)([(0,s.Prop)({type:String,default:""})],Z.prototype,"title",void 0),(0,a._)([(0,s.Prop)({type:Boolean,default:!0})],Z.prototype,"releaseBody",void 0),(0,a._)([(0,s.Prop)({type:String,default:""})],Z.prototype,"navBtnText",void 0),(0,a._)([(0,s.Prop)({type:String,default:"border"})],Z.prototype,"headerBottom",void 0),(0,a._)([(0,s.Prop)({type:Boolean,default:!0})],Z.prototype,"needHeader",void 0),(0,a._)([(0,s.Prop)({type:String,default:"BackBtn"})],Z.prototype,"BackBtnModule",void 0),(0,a._)([(0,s.Prop)({type:Number,default:2e3})],Z.prototype,"zIndex",void 0),(0,a._)([(0,s.Watch)("visible")],Z.prototype,"visibleChange",null);var G=Z=(0,a._)([(0,s.Component)({name:"page-layer"})],Z),Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Z({propsData:Object.assign({visible:!0,headerBottom:""},e)});return t.default=t.default||i.$createElement("klk-loading"),i.$slots=t,i.$mount(),document.body.appendChild(i.$el),i.$on("close",function(){document.body.removeChild(i.$el),i.$destroy(),i=null}),i};let K=(0,a.g)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"bottom-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"page-layer",style:{zIndex:t.zIndex}},[t.needHeader?i("div",{staticClass:"page-layer-header",class:t.headerBottom},[t._t("header",[i("div",{staticClass:"flex-header"},[i("klk-icon",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"BackBtnModule"},expression:"{spm: 'BackBtnModule'}"}],attrs:{size:24,type:"icon_navigation_close_m","data-spm-virtual-item":"__virtual","data-spm-module":t.BackBtnModule+"?trg=manual"},nativeOn:{click:function(e){return t.close(e)}}}),t._v(" "),i("span",{staticClass:"flex-auto"},[t._v(t._s(t.title))]),t._v(" "),t._t("header-right",[t.navBtnText?i("span",{staticClass:"btn-secondary",on:{click:function(e){return t.$emit("rightbtn-click")}}},[t._v(t._s(t.navBtnText))]):t._e()])],2),t._v(" "),t._t("header-plus")])],2):t._e(),t._v(" "),i("div",{staticClass:"page-layer-content"},[t._t("default")],2),t._v(" "),t.$slots.footer?i("div",{staticClass:"page-layer-footer",on:{click:function(e){return t.$emit("footer-click")}}},[t._t("footer")],2):t._e()])])},staticRenderFns:[]},void 0,G,"data-v-430f6f2d",!1,void 0,!1,void 0,void 0,void 0)},16165:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(31632).IconWrapper("icon-check",!1,(t,e)=>t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("g",{attrs:{"clip-path":"url(#"+e.id+"ecea4858)"}},[t("path",{attrs:{d:"M6.39429 26.3154L21.2589 39.1601L42.6093 10.2958",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin}})]),t("defs",[t("clipPath",{attrs:{id:e.id+"ecea4858"}},[t("rect",{attrs:{width:"48",height:"48",fill:"white"}})])])]));e.default=n},98925:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(31632).IconWrapper("icon-destination",!1,(t,e)=>t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{d:"M42 21.0441C42 32.1335 30.6662 40.7078 25.9855 43.776C24.7669 44.5748 23.2331 44.5748 22.0145 43.776C17.3338 40.7078 6 32.1335 6 21.0441C6 11.0786 14.0589 3 24 3C33.9411 3 42 11.0786 42 21.0441Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth}}),t("circle",{attrs:{cx:"24",cy:"20.5",r:"6.5",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth}})]));e.default=n},25423:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(31632).IconWrapper("icon-sort",!1,(t,e)=>t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{d:"M4 18.0991L15.2902 6.72282C15.9191 6.08917 17 6.5345 17 7.42724V42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap}}),t("path",{attrs:{d:"M44 29.9009L32.7098 41.2772C32.0809 41.9108 31 41.4655 31 40.5728L31 6",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap}})]));e.default=n},97498:function(){},82015:function(){}}]);
//# sourceMappingURL=69827.cdedcc44.js.map