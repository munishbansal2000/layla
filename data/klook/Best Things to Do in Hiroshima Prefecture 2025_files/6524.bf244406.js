!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="6190b121-b875-46a2-9fb4-8c1f3c3ba433",t._sentryDebugIdIdentifier="sentry-dbid-6190b121-b875-46a2-9fb4-8c1f3c3ba433")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"web_ssr-platform_20251225_022df67f"};"use strict";(self.webpackChunkklook_ssr_platform=self.webpackChunkklook_ssr_platform||[]).push([["6524"],{16054:function(t,e,o){o.d(e,{Z:()=>l});var a=o("28395"),r=o("79999"),i=o("74627");class n extends r.Vue{get items(){return Array(this.itemNum).fill(null).map((t,e)=>e)}}(0,a.gn)([(0,r.Prop)({type:Number,default:3})],n.prototype,"itemNum",void 0),(0,a.gn)([(0,r.Prop)({type:Number,default:1})],n.prototype,"rows",void 0),(0,a.gn)([(0,r.Prop)({type:String,default:"desktop"})],n.prototype,"platform",void 0),(0,a.gn)([(0,r.Prop)({type:String})],n.prototype,"model",void 0);let s=n=(0,a.gn)([(0,r.Component)({components:{CardSwiper:i.ts,CardSwiperItem:i.TI}})],n),l=(0,o("77427").Z)(s,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("klk-skeleton",{staticClass:"default-skeleton-wrapper",class:"default-skeleton-wrapper-"+t.platform,attrs:{animate:"",mode:t.model}},[o("klk-skeleton-block",{attrs:{height:26,width:184}}),"desktop"===t.platform?t._l(t.rows,function(e,a){return o("div",{key:a,staticClass:"default-skeleton-list"},t._l(t.items,function(t,e){return o("div",{key:e,staticClass:"default-skeleton-item"},[o("klk-skeleton-block",{attrs:{height:360,"radius-size":"max"}})],1)}),0)}):o("div",{staticClass:"cards"},[o("CardSwiper",t._l(t.itemNum,function(t,e){return o("CardSwiperItem",{key:e,attrs:{"per-view":2}},[o("klk-skeleton-block",{attrs:{height:215,"radius-size":"max"}})],1)}),1)],1)],2)},[],!1,null,"9774c384",null).exports},10778:function(t,e,o){o.d(e,{H6:()=>$,ZP:()=>x,_r:()=>k,Hb:()=>f});var a,r=o("28395"),i=o("79999");let n=t=>{let{root:e=null,rootMargin:o="0px",threshold:a=[.01,.05],once:r=!0,callBack:i,observeDom:n}=t;if(!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))return n&&(n instanceof Element?i(n):Array.from(n).forEach(t=>i(t))),null;let s=new Set,l=new IntersectionObserver((t,e)=>{t.length<=0&&(e.disconnect(),s=null),t.forEach(t=>{(void 0===e.thresholds||t.intersectionRatio>e.thresholds[0])&&(r?(e.unobserve(t.target),s&&(!s.has(t.target)&&setTimeout(()=>i(t.target,e)),s.add(t.target),s.size===(n.length||1)&&(e.disconnect(),s=null))):i&&setTimeout(()=>i(t.target,e)))})},{root:e,rootMargin:o,threshold:a});return n&&(n instanceof Element?l.observe(n):Array.from(n).forEach(t=>l.observe(t))),l};class s extends i.Vue{mounted(){let t=n({rootMargin:this.rootMargin,callBack:async()=>{await this.beforeLoad(),this.initLoad=!0},observeDom:this.$el});this.$once("hook:beforeDestroy",()=>{t.disconnect()})}constructor(...t){super(...t),this.initLoad=!1}}(0,r.gn)([(0,i.Prop)({type:Function,default:()=>Promise.resolve()})],s.prototype,"beforeLoad",void 0),(0,r.gn)([(0,i.Prop)({type:String,default:"200px"})],s.prototype,"rootMargin",void 0);let l=s=(0,r.gn)([i.Component],s);var d=o("77427");let p=(0,d.Z)(l,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"lazyComponent_wrap"},[this.initLoad?this._t("default"):this._t("skeleton")],2)},[],!1,null,null,null).exports;var u=o("16054");let c=(t,e)=>{let{componentConf:o,...a}=e;class n extends i.Vue{render(e){return e("div",{staticClass:"wrapper__list-container"},this.listData.map((o,a)=>e(t,{key:a,attrs:{...this.$attrs,itemData:o}})))}}return(0,r.gn)([(0,i.Prop)({type:Array,default:()=>[]})],n.prototype,"listData",void 0),n=(0,r.gn)([(0,i.Component)({inheritAttrs:!1,provide:{sectionParams:a}})],n)};class m extends i.Vue{}(0,r.gn)([(0,i.Prop)({type:String,default:"desktop"})],m.prototype,"platform",void 0);let h=m=(0,r.gn)([i.Component],m),_=(0,d.Z)(h,function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},[],!1,null,null,null).exports;var f=((a={})[a.default=1]="default",a[a.klookUi=2]="klookUi",a);class g extends i.Vue{get trueSectionParams(){let t=this.sectionParams||{};return{platform:this.platform||t.platform||"desktop",headStyle:this.headStyle||t.headStyle||f.default,headTag:this.headTag||t.headTag||"h2"}}get wrapperClass(){return`common-container-${this.trueSectionParams.platform}`}get title(){return this.containerData.title}get subtitle(){return this.containerData.sub_title}get cornerButtonSpm(){return this.containerData.corner_button_spm||{}}get moreSpm(){return{...this.containerData.more_spm_module?{"data-spm-virtual-item":"__virtual","data-spm-module":this.containerData.more_spm_module}:{},...this.containerData.more_spm||{}}}get moreGalileoInfo(){return{...this.containerData.more_galileo_info}}get cornerButtonDeepLink(){return this.containerData.corner_button_deep_link}get cornerButtonTitle(){return this.containerData.corner_button_title}get cornerTarget(){return this.containerData.corner_target||""}get showCorner(){return this.cornerButtonDeepLink&&this.cornerButtonTitle}get moreTitle(){return this.containerData.more_title}get moreDeepLink(){return this.isLoadMoreMode?"javascript:;":this.containerData.more_deep_link}get showHeader(){return this.title||this.subtitle||this.showCorner}get isUseLoadMore(){return"load_more"===this.containerData.more_action_type}get isFakePagination(){return"fake_pagination"===this.containerData.more_action_type}get isLoadMoreMode(){return this.isUseLoadMore||this.isFakePagination}get showMore(){if(this.moreTitle){if(this.isLoadMoreMode){if(this.isUseLoadMore)return!!this.containerData.more_load_link;if(this.isFakePagination)return!!this.containerData.more_title}return!!this.containerData.more_deep_link}return!1}async viewMoreHandler(t){!this.isLoadMoreMode&&this.$gotoPage({url:this.moreDeepLink,parentNode:t.currentTarget}),this.isLoadMoreMode&&!this.moreLoading&&(this.isFakePagination&&this.containerData.fake_pagination_handle&&this.containerData.fake_pagination_handle(),this.isUseLoadMore&&this.containerData.more_load_handler&&(this.moreLoading=!0,await this.containerData.more_load_handler().finally(()=>{this.moreLoading=!1}))),this.$emit("onClickViewBtn",t)}constructor(...t){super(...t),this.moreLoading=!1}}(0,r.gn)([(0,i.Prop)({type:String,default:""})],g.prototype,"platform",void 0),(0,r.gn)([(0,i.Prop)({type:Number,default:null})],g.prototype,"headStyle",void 0),(0,r.gn)([(0,i.Prop)({type:String,default:""})],g.prototype,"headTag",void 0),(0,r.gn)([(0,i.Prop)({type:String,default:"outlined"})],g.prototype,"showMoreBtnType",void 0),(0,r.gn)([(0,i.Prop)({type:Object,default:()=>({})})],g.prototype,"containerData",void 0),(0,r.gn)([(0,i.Inject)({default:()=>({})})],g.prototype,"sectionParams",void 0);let v=g=(0,r.gn)([(0,i.Component)({components:{HeadTagCom:{functional:!0,props:["size"],render:(t,e)=>t(e.props.size||"h2",e.data,e.children)}}})],g),k=(0,d.Z)(v,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.wrapperClass},[t.showHeader?[1===t.trueSectionParams.headStyle?o("div",{staticClass:"header_wrapper header_wrapper-default"},[t.title||t.subtitle?o("div",{staticClass:"header"},[t.title?o("HeadTagCom",{staticClass:"header_title",attrs:{size:t.trueSectionParams.headTag}},[t._t("title",function(){return[t._v(t._s(t.title))]})],2):t._e(),t.subtitle?o("div",{staticClass:"header_subTitle",domProps:{innerHTML:t._s(t.subtitle)}}):t._e()],1):t._e(),t.showCorner?o("a",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.moreGalileoInfo,expression:"moreGalileoInfo"},{name:"galileo-exposure-tracker",rawName:"v-galileo-exposure-tracker",value:t.moreGalileoInfo,expression:"moreGalileoInfo"}],staticClass:"see_more_button",attrs:{href:t.cornerButtonDeepLink,target:t.cornerTarget}},"a",t.cornerButtonSpm,!1),[t._v(" "+t._s(t.cornerButtonTitle)+" ")]):t._e()]):t._e(),2===t.trueSectionParams.headStyle?o("klk-section-title",{staticClass:"header_wrapper header_wrapper-klook",attrs:{size:t.trueSectionParams.headTag,desc:t.subtitle,"view-more":t.cornerButtonDeepLink,"view-more-text":t.cornerButtonTitle,"decorative-line":""}},[t._t("title",function(){return[t._v(t._s(t.title))]})],2):t._e()]:t._e(),t._t("default"),t._t("footer",function(){return[t.showMore?o("div",{staticClass:"footer"},[o("klk-button",t._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:t.moreGalileoInfo,expression:"moreGalileoInfo"},{name:"galileo-exposure-tracker",rawName:"v-galileo-exposure-tracker",value:t.moreGalileoInfo,expression:"moreGalileoInfo"}],staticClass:"footer_button action_link",attrs:{loading:t.moreLoading,type:t.showMoreBtnType,size:"small"},nativeOn:{click:function(e){return t.viewMoreHandler.apply(null,arguments)}}},"klk-button",t.moreSpm,!1),[t._v(" "+t._s(t.moreTitle)+" "),t.isLoadMoreMode?o("klk-icon",{staticClass:"view-more-btn-icon",attrs:{type:"icon_navigation_chevron_down_xs"}}):t._e()],1)],1):t._e()]})],2)},[],!1,null,"791e9a06",null).exports;class y extends i.Vue{}let b=y=(0,r.gn)([(0,i.Component)({components:{CommonContainer:k}})],y),w=(0,d.Z)(b,function(){var t=this.$createElement;return(this._self._c||t)("CommonContainer",this._g(this._b({},"CommonContainer",this.$attrs,!1),this.$listeners))},[],!1,null,null,null).exports;class D extends i.Vue{}(0,r.gn)([(0,i.Prop)({type:String,default:"desktop"})],D.prototype,"platform",void 0),(0,r.gn)([(0,i.Prop)({type:Object,default:()=>({})})],D.prototype,"containerData",void 0);let C=D=(0,r.gn)([(0,i.Component)({})],D),P={any:{component:_,hasChild:!0},common:{component:k,hasChild:!0},tab:{component:w,hasChild:!0},divider:{component:(0,d.Z)(C,function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{display:"block",height:this.containerData.height+"px"}})},[],!1,null,null,null).exports,hasChild:!1}},S=t=>"function"!=typeof t||void 0!==t.cid;class $ extends i.Vue{fakePaginationHandler(){this.moduleData.items=[...this.moduleData.items,...this.moduleData.$_cloneItems.slice(this.fakePage*this.moduleData.one_page_count,(this.fakePage+1)*this.moduleData.one_page_count)],this.fakePage++,this.moduleData.items.length>=this.moduleData.$_cloneItems.length&&(this.moduleData.bottom_button_title="")}fakePaginationInit(){this.$set(this.moduleData,"$_cloneItems",Object.freeze([...this.moduleData.$_cloneItems||this.moduleData.items])),this.moduleData.items=[],this.fakePage=0,this.fakePaginationHandler()}watchOriItems(){if(!this.$isServer){let t=this.$watch("moduleData.$_cloneItems",()=>{t(),this.fakePaginationInit(),this.watchOriItems()})}}created(){"fake_pagination"===this.moduleData.action_type&&(this.fakePaginationInit(),this.watchOriItems())}get defaultContainerData(){if(this.moduleData){let t=this.moduleData,e=t.action_type;return void 0!==e?{title:t.title,sub_title:t.sub_title,more_title:t.bottom_button_title,more_deep_link:t.bottom_button_deep_link,more_action_type:e,more_load_link:t.bottom_button_load_more_link,more_spm_module:this.formatSPM("deeplink"===e?"ViewAllBtn":"ViewMoreBtn",{trg:"manual"}),more_galileo_info:this.getGalileoSpmInfo("ViewMoreBtn"),more_load_handler:async()=>{try{let{success:e,result:o}=await this.$axios.$get(t.bottom_button_load_more_link);e?Object.assign(t,{...o,items:t.items.concat(o.items)}):t.action_type=""}catch(e){t.action_type=""}},fake_pagination_handle:()=>{this.fakePaginationHandler()},corner_button_title:t.more_title,corner_button_deep_link:t.more_deep_link}:{title:t.title,sub_title:t.sub_title,more_title:t.more_title,more_deep_link:t.more_deep_link,corner_button_title:t.corner_button_title,corner_button_deep_link:t.corner_button_deep_link,more_spm_module:this.formatSPM("ViewAllBtn",{trg:"manual"}),more_galileo_info:this.getGalileoSpmInfo("ViewMoreBtn")}}return{}}formatSPM(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t=>"object"==typeof t?JSON.stringify(t):t,i=Object.entries(o).map(t=>{let[e,o]=t;return`${e}=${encodeURIComponent(r(o))}`}).join("&"),n=(null===(t=this.ihtData)||void 0===t?void 0:t.spmPrefix)?`${this.ihtData.spmPrefix}:${e}`:e;return[a?e:n,...i?[i]:[]].join("?")}getGalileoSpmInfo(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Card_LIST";return{spm:(null===(t=this.ihtData)||void 0===t?void 0:t.spmPrefix)?`${this.ihtData.spmPrefix}:${e}`:e}}constructor(...t){super(...t),this.fakePage=0}}(0,r.gn)([(0,i.Prop)({type:String,default:"desktop"})],$.prototype,"platform",void 0),(0,r.gn)([(0,i.Prop)({type:Object,default:()=>({})})],$.prototype,"moduleData",void 0),(0,r.gn)([(0,i.Prop)({type:Object,required:!0,default:()=>({})})],$.prototype,"ihtData",void 0),(0,r.gn)([(0,i.Prop)()],$.prototype,"hideSection",void 0),(0,r.gn)([(0,i.Prop)({type:Object,default:()=>({})})],$.prototype,"extraData",void 0),$=(0,r.gn)([i.Component],$);let x=function(t){let{componentConf:e,platform:o="desktop",defaultSkeletonModel:a}=t,n=Object.entries(e).reduce((t,e)=>{let[o,a]=e;return{...t,...Object.entries(a).reduce((t,e)=>{let[a,r]=e;return{...t,[`${o}${a}`]:{viewComponent:r.viewComponent||r,skeletonComponent:r.skeletonComponent,beforeFetchData:r.beforeFetchData,wrapperClass:Array.isArray(r.wrapperClass)?r.wrapperClass.reduce((t,e)=>({...t,[e]:!0}),{}):r.wrapperClass===String(r.wrapperClass)?{[r.wrapperClass]:!0}:r.wrapperClass}}},{})}},{});class s extends i.Vue{get isAsync(){var t,e;return(null===(e=this.itemData)||void 0===e?void 0:null===(t=e.body.content)||void 0===t?void 0:t.load_type)==="async"}get curComponentName(){var t;let{handler:e,data_type:o}=(null===(t=this.itemData)||void 0===t?void 0:t.body.content)||{};return e?`${e}${o}`:""}get curComponent(){var t,e,o,a,r,i;let s=this.curComponentName,l=(null===(e=n[s])||void 0===e?void 0:null===(t=e.viewComponent)||void 0===t?void 0:t.default)||(null===(o=n[s])||void 0===o?void 0:o.viewComponent),d=(null===(a=n[s])||void 0===a?void 0:a.skeletonComponent)||u.Z,p=null===(r=n[s])||void 0===r?void 0:r.wrapperClass;return{SkeletonCtor:d,ViewCtor:l,wrapperClass:p,beforeFetchData:null===(i=n[s])||void 0===i?void 0:i.beforeFetchData}}get moduleData(){var t,e;return null===(e=this.itemData)||void 0===e?void 0:null===(t=e.body.content)||void 0===t?void 0:t.data}get containerData(){var t;return null===(t=this.itemData)||void 0===t?void 0:t.data}get realPlatform(){return this.$attrs.platform||o}get ihtData(){var t;return{spmPrefix:[null===(t=this.itemData.meta.track)||void 0===t?void 0:t.iht_spm,this.itemData.meta.type,"",this.itemData.body.content.data_type].join(":")}}get sectionName(){return this.itemData.meta.name}hide(){this.hidden=!0}render(t){var e,r=this;if(this.hidden)return null;let i=null===(e=this.itemData)||void 0===e?void 0:e.meta.type,n=P[i],{ViewCtor:s,SkeletonCtor:l,wrapperClass:d}=this.curComponent;if(!n)return console.warn(`Unknown container：${i}`),null;if(!s&&n.hasChild)return console.warn(`Unknown component：${this.curComponentName}`),null;if(!this.isAsync&&null===this.moduleData)return console.warn(`【${this.curComponentName}】Empty data：【${this.moduleData}】`),null;let u={className:{...d,wrapper__item:!0,[`wrapper__item-${this.curComponentName||i}`]:!0},id:`s-${this.sectionName}`},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(n.component,{attrs:{platform:r.realPlatform,containerData:r.containerData,id:e.id},class:{...e.className,wrapper__container:!0,[`wrapper__container-${i}`]:!0},key:"view"},n.hasChild?[t(s,{attrs:{platform:r.realPlatform,extraData:r.extraData,ihtData:r.ihtData,moduleData:r.moduleData,hideSection:()=>{r.hide()}},on:{onHide:()=>{r.hide()}}})]:[])},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"skeleton";return t(l,{slot:e,key:"skeleton",props:{model:a,platform:o,...{itemNum:3,rows:1}},class:{wrapper__skeleton:!0}})};return this.forceLoading&&this.isAsync?t("div",{attrs:{id:u.id},class:u.className},[m("default")]):this.isAsync?t(p,{attrs:{id:u.id},class:u.className,props:{beforeLoad:async()=>{try{let t=this.curComponent.beforeFetchData,[e]=await Promise.all([this.$axios.$get(this.itemData.body.content.src,t?{params:t(this.itemData.body.content.src)}:{}).then(t=>{let{success:e,result:o}=t;if(e)return o;throw Error("Error!")}),...S(s)?[]:[s()]]);this.isLoadedScript=!0,this.itemData.body.content.data=e,null===e&&this.hide()}catch(t){this.hide()}}}},[...this.isLoadedScript?[c()]:[],m()]):c(u)}constructor(...t){super(...t),this.isLoadedScript=!1,this.hidden=!1}}return(0,r.gn)([(0,i.Prop)({type:Object,default:()=>({})})],s.prototype,"itemData",void 0),(0,r.gn)([(0,i.Prop)({type:Object,default:()=>({})})],s.prototype,"extraData",void 0),(0,r.gn)([(0,i.Prop)({type:Boolean,default:!1})],s.prototype,"forceLoading",void 0),{WrapperItem:s=(0,r.gn)([i.Component],s),WrapperList:c(s,t)}}}}]);
//# sourceMappingURL=6524.bf244406.js.map