!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a526f7e2-8238-4a10-a5d7-bb187e5caec3",e._sentryDebugIdIdentifier="sentry-dbid-a526f7e2-8238-4a10-a5d7-bb187e5caec3")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"web_ssr-platform_20251225_022df67f"};"use strict";(self.webpackChunkklook_ssr_platform=self.webpackChunkklook_ssr_platform||[]).push([["42854"],{31476:function(e,t,o){var r,n=o(57290),a=o(45464);function i(e){var t=e.comp,o=e.importLocale,r=e.delay,i={};return{inheritAttrs:!1,props:{language:{type:String}},methods:{callMethod:function(e,t){var o,r,n,a;if(e){var i=null===(n=null===(r=null===(o=this.$children)||void 0===o?void 0:o[0])||void 0===r?void 0:r.$children)||void 0===n?void 0:n[0];return null===(a=null==i?void 0:i[e])||void 0===a?void 0:a.call(i,t)}}},render:function(e){var l,s,c,u,d,p;return e((!i[p=this.$props.language||(null===(c=null===(s=null===(l=this.$store)||void 0===l?void 0:l.state)||void 0===s?void 0:s.klook)||void 0===c?void 0:c.language)||(null===(d=null===(u=this.$tetris)||void 0===u?void 0:u.runtime)||void 0===d?void 0:d.language)]&&(i[p]=function(){return{component:o(p).then(function(e){var o=e;return e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(o=e.default),{inheritAttrs:!1,provide:function(){return{__t:a.translate(o)}},render:function(e){return e(t,{on:this.$listeners,attrs:this.$attrs})}}}),loading:{inheritAttrs:!1,provide:function(){return{__t:function(){return""}}},render:function(e){return e(t,{on:this.$listeners,attrs:n.__assign(n.__assign({},this.$attrs),{isAsyncComponentLoading:!0})})}},delay:null!=r?r:10}}),i[p]),{attrs:this.$attrs,on:this.$listeners})}}}t.createLanguageAsyncComponent=i},62515:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(31632).IconWrapper("icon-chevron-down",!1,(e,t)=>e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"}},[e("path",{attrs:{d:"M10 17L24 32L31 24.5L38 17",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin}})]));t.default=r},95972:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(31632).IconWrapper("icon-chevron-up",!1,(e,t)=>e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"}},[e("path",{attrs:{d:"M10 31L24 16L31 23.5L38 31",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin}})]));t.default=r},5715:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(31632).IconWrapper("icon-copy",!1,(e,t)=>e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 49 48",fill:"none"}},[e("path",{attrs:{d:"M6 20C6 15.5817 9.58172 12 14 12V12V28C14 32.4183 17.5817 36 22 36H34V36C34 40.4183 30.4183 44 26 44H14C9.58172 44 6 40.4183 6 36V20Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth}}),e("path",{attrs:{d:"M11 10V30C11 34.9706 15.0294 39 20 39H36",stroke:t.colors[3],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap}}),e("rect",{attrs:{x:"14",y:"3",width:"31",height:"33",rx:"8",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth}}),e("line",{attrs:{x1:"21.8",y1:"14.2",x2:"36.2",y2:"14.2",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap}}),e("line",{attrs:{x1:"21.8",y1:"23.2",x2:"30.2",y2:"23.2",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap}})]));t.default=r},44591:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(31632).IconWrapper("icon-information",!1,(e,t)=>e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"}},[e("circle",{attrs:{cx:"24",cy:"24",r:"21",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth}}),e("path",{attrs:{d:"M24 35V24",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap}}),e("circle",{attrs:{cx:"24",cy:"15.5",r:"2.5",fill:t.colors[2]}})]));t.default=r},10999:function(e,t,o){o.d(t,{Z:function(){return l}}),(r=n||(n={}))[r.DAY=1]="DAY",r[r.HOUR=2]="HOUR",r[r.SECOND=3]="SECOND";var r,n,a,i=function(){function e(){this.timeInterval=null,this.taskQueue=[],this.id=1}var t=e.prototype;return t.addTask=function(e,t){var o=this,r={id:this.id,endTime:e,callback:t.callback,endCallback:t.endCallback,type:t.type||n.DAY},a=Math.floor(new Date().getTime()/1e3),i=r.endTime-a,l=this.calcCountDowntime(i,r.type);return r.callback&&r.callback(l),t.initInterval&&(this.taskQueue.push(r),this.id++,this.init()),function(){o.removeTask(r.id)}},t.removeTask=function(e){var t=this.taskQueue.findIndex(function(t){return e===t.id});~t&&(this.taskQueue.splice(t,1),0===this.taskQueue.length&&this.clearTimeInterval())},t.calcCountDowntime=function(e,t){if(e<0)return{d:"00",h:"00",m:"00",s:"00"};var o=Math.floor(e/60/60/24),r=Math.floor(e/60/60%24),a=Math.floor(e/60%60),i=Math.floor(e%60);return t===n.HOUR&&(r=o&&o>0?24*o+r:r),t===n.SECOND&&(i=a&&a>0?60*a+i:i),{d:o,h:r=r<10?"0"+r:r,m:a=a<10?"0"+a:a,s:i=i<10?"0"+i:i}},t.init=function(){var e=this;if(!this.timeInterval)this.timeInterval=setInterval(function(){var t=Math.floor(new Date().getTime()/1e3),o={};e.taskQueue.forEach(function(r){var n=r.endTime-t;if(n&&n>0){var a=r.type,i=n+"-"+a;if(!o[i]){var l=e.calcCountDowntime(n,a),s=l.d,c=l.h,u=l.m,d=l.s;o[i]={d:s,h:c,m:u,s:d}}r.callback&&r.callback(o[i])}else r.endCallback&&r.endCallback(),r.callback&&r.callback({d:"0",h:"00",m:"00",s:"00"}),e.removeTask(r.id)})},1e3)},t.clearTimeInterval=function(){this.timeInterval&&clearInterval(this.timeInterval),this.timeInterval=null},e}();let l=function(e,t,o,r,n,a,i,l,s,c){"boolean"!=typeof i&&(s=l,l=i,i=!1);var u,d="function"==typeof o?o.options:o;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,n&&(d.functional=!0)),r&&(d._scopeId=r),a?(u=function(e){!(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(e=__VUE_SSR_CONTEXT__),t&&t.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):t&&(u=i?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),u){if(d.functional){var p=d.render;d.render=function(e,t){return u.call(t),p(e,t)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,u):[u]}}return o}({render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.timeClass},[this._t("default",null,{countDownTime:this.countDownTime})],2)},staticRenderFns:[]},void 0,{name:"klkPlatformCountDown",props:{endTime:{type:Number,required:!0},type:{type:Number,default:1},timeClass:{type:String,default:""},endCallBack:{type:Function,default:function(){}}},data:function(){return{countDownTime:{d:"00",h:"00",m:"00",s:"00"}}},methods:{callback:function(e){this.countDownTime=e},createTask:function(e){var t,o;return t=e,o={type:this.type,callback:this.callback,endCallback:this.endCallBack,initInterval:!this.$isServer},!a&&(a=new i),a.addTask(t,o)}},created:function(){var e,t=this;this.endTime&&(e=this.createTask(this.endTime)),this.$watch("endTime",function(o){o&&(e&&e(),e=t.createTask(t.endTime))}),this.$once("hook:beforeDestroy",function(){e&&e()})}},void 0,!1,void 0,!1,void 0,void 0,void 0)},226:function(e,t,o){o.d(t,{cH:function(){return j},nn:function(){return z}}),o(8400),o(10999);var r,n,a=o(7660),i=o(20144),l=o(75448),s=o(47751),c=o(31476),u=o(810),d=o(44591),p=o(27484),m=o.n(p),f=o(81923),_=o.n(f),v=o(62515),g=o(95972),h=o(5715),$=function(e,t,o,r,n,a,i,l,s,c){"boolean"!=typeof i&&(s=l,l=i,i=!1);var u,d="function"==typeof o?o.options:o;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,n&&(d.functional=!0)),r&&(d._scopeId=r),a?(u=function(e){!(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(e=__VUE_SSR_CONTEXT__),t&&t.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):t&&(u=i?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),u){if(d.functional){var p=d.render;d.render=function(e,t){return u.call(t),p(e,t)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,u):[u]}}return o};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}var k=function(e,t){void 0===e&&(e=null);var o=void 0===t?{}:t,r=o.parent,n=o.injectionOptions,a=o.dialogAttrs,s=void 0===a?{}:a,c=o.dialogListeners,u=void 0===c?{}:c,d=o.componentAttrs,p=void 0===d?{}:d,m=o.componentListeners,f=void 0===m?{}:m,_=new(i.default.extend({name:"DialogComponent",data:function(){return{open:!1,componentAttrs:p}},methods:{show:function(){this.open=!0},close:function(){this.open=!1},setZIndex:function(){this.$refs.klkModal.overlayZIndex=s.overlayZIndex,this.$refs.klkModal.instanceZIndex=s.overlayZIndex+1}},render:function(t){var o=this,r=this;return t(l.default,{on:y({},u,{"update:open":function(e){r.open=e},close:function(e){u.close&&u.close.call(null,e),o.$destroy(),o.$el&&o.$el.parentElement&&o.$el.parentElement.removeChild(o.$el)}}),ref:"klkModal",attrs:y({overlayClosable:!0,showDefaultFooter:!1,closable:!0,open:this.open},s)},[t(e,{on:y({close:function(){o.close()}},f),attrs:y({},this.componentAttrs)})])}}))(y({},r?{parent:r}:{},void 0===n?{}:n)).$mount();return document.body.appendChild(_.$el),_.$nextTick(function(){_.show()}),s.overlayZIndex&&_.setZIndex(),_};function C(e,t){void 0===e&&(e=null);var o=void 0===t?{}:t,r=o.parent,n=o.injectionOptions,a=o.dialogAttrs,l=void 0===a?{}:a,c=o.dialogClass,u=void 0===c?{}:c,d=o.dialogListeners,p=void 0===d?{}:d,m=o.componentAttrs,f=void 0===m?{}:m,_=o.componentListeners,v=void 0===_?{}:_;if(!e)throw Error("必须的参数：VueComponent");var g=new(i.default.extend({name:"BottomSheet",data:function(){return{visible:!1,componentAttrs:f}},methods:{show:function(){this.visible=!0},close:function(){this.visible=!1}},render:function(t){var o=this;return t(s.default,{on:y({},p,{closed:function(){if(p.closed){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];p.close.apply(null,t)}o.$destroy(),o.$el&&o.$el.parentElement&&o.$el.parentElement.removeChild(o.$el)},"update:visible":function(e){o.visible=e}}),class:u,attrs:y({visible:this.visible,showClose:!0},l)},[t(e,{attrs:y({},this.componentAttrs),on:y({close:function(){o.close()}},v)})])}}))(y({},r?{parent:r}:{},void 0===n?{}:n)).$mount();return document.body.appendChild(g.$el),g.$nextTick(function(){g.show()}),g}function b(e){return(0,c.createLanguageAsyncComponent)({comp:e,importLocale:function(e){return o(13765)("./"+e+".json")}})}function x(e,t){try{var o=e()}catch(e){return t(e)}return o&&o.then?o.then(void 0,t):o}function D(e,t){try{var o=e()}catch(e){return t(!0,e)}return o&&o.then?o.then(t.bind(null,!1),t.bind(null,!0)):t(!1,o)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function F(e,t){return e(t={exports:{}},t.exports),t.exports}var S=F(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.$colorAccent1="#6056D6",t.$colorAccent10="#DD8903",t.$colorAccent11="#F1EEFA",t.$colorAccent12="#E3F9FA",t.$colorAccent13="#ECF3FC",t.$colorAccent14="#E6F7F2",t.$colorAccent15="#FCF3DE",t.$colorAccent16="#F6F5FC",t.$colorAccent17="#F0F7F7",t.$colorAccent18="#FAF2F0",t.$colorAccent19="#845500",t.$colorAccent2="#00828A",t.$colorAccent3="#8A0300",t.$colorAccent4="#3132AB",t.$colorAccent5="#274EC5",t.$colorAccent6="#075B6B",t.$colorAccent7="#095C3B",t.$colorAccent8="#0B9E65",t.$colorAccent9="#F09B0A",t.$colorBg1="#ffffff",t.$colorBg2="#fafafa",t.$colorBg3="#f5f5f5",t.$colorBg4="#eeeeee",t.$colorBg5="#E6E6E6",t.$colorBgOverlayBlack8="rgba(0, 0, 0, 0.8)",t.$colorBgOverlayBlackDesktop="rgba(0, 0, 0, 0.6)",t.$colorBgOverlayBlackMobile="rgba(0, 0, 0, 0.38)",t.$colorBgOverlayWhite="rgba(255, 255, 255, 0.6)",t.$colorBgPage="#f5f5f5",t.$colorBgWidgetDarker1="#fafafa",t.$colorBgWidgetDarker2="#f5f5f5",t.$colorBgWidgetDarker3="#eeeeee",t.$colorBgWidgetNormal="#ffffff",t.$colorBlack="#000000",t.$colorBlue0="#F5F7FA",t.$colorBlue100="#D5E1F8",t.$colorBlue200="#B2CBFF",t.$colorBlue300="#93B1F7",t.$colorBlue400="#6390F7",t.$colorBlue50="#ECF3FC",t.$colorBlue500="#2073F9",t.$colorBlue600="#2059EC",t.$colorBlue700="#274EC5",t.$colorBlue800="#2347B1",t.$colorBlue900="#1F3F9E",t.$colorBorderActive="#4a4a4a",t.$colorBorderActiveOnDark="#ffffff",t.$colorBorderActiveReverse="#ffffff",t.$colorBorderDim="#eeeeee",t.$colorBorderDimOnDark="rgba(255, 255, 255, 0.25)",t.$colorBorderNormal="#E6E6E6",t.$colorBorderNormalOnDark="rgba(255, 255, 255, 0.5)",t.$colorBrandPrimary="#FF5B00",t.$colorBrandPrimaryBackground="#FFF0E5",t.$colorBrandPrimaryDark="#8A0300",t.$colorBrandPrimaryLight="#FFF0E5",t.$colorBrandPrimaryLight2="#FAF5F2",t.$colorBrandSecondary="#F09B0A",t.$colorBrandSecondaryLight="#FCF3DE",t.$colorCaution="#F09B0A",t.$colorCautionBackground="#FCF3DE",t.$colorCommonBlack="#000000",t.$colorCommonWhite="#ffffff",t.$colorCyan0="#F0F7F7",t.$colorCyan100="#BDF2F2",t.$colorCyan200="#A1E7E6",t.$colorCyan300="#76DBDA",t.$colorCyan400="#3CC9C9",t.$colorCyan50="#E3F9FA",t.$colorCyan500="#08B4B9",t.$colorCyan600="#009A9F",t.$colorCyan700="#00828A",t.$colorCyan800="#036C79",t.$colorCyan900="#075B6B",t.$colorDividerDashedDarker="#cccccc",t.$colorDividerDashedNormal="#E6E6E6",t.$colorDividerSolidDarker="#E6E6E6",t.$colorDividerSolidDarkerOnDark="rgba(255, 255, 255, 0.32)",t.$colorDividerSolidNormal="#eeeeee",t.$colorDividerSolidNormalOnDark="rgba(255, 255, 255, 0.24)",t.$colorError="#F44622",t.$colorErrorBackground="#FAF0F0",t.$colorGradientBrand1="linear-gradient(135deg, #FFA673 0%, #F74600 100%)",t.$colorGradientBrand2="linear-gradient(0deg, rgba(255, 114, 32, 0) 0%, #FF7220 44.93%, #FF5722 100%)",t.$colorGradientBrand3="linear-gradient(180deg, #FF820F 0%, #FF5722 100%)",t.$colorGreen0="#F5FAF8",t.$colorGreen100="#C9F2E5",t.$colorGreen200="#A2E5CD",t.$colorGreen300="#7CD8B1",t.$colorGreen400="#38C78C",t.$colorGreen50="#E6F7F2",t.$colorGreen500="#08B371",t.$colorGreen600="#0B9E65",t.$colorGreen700="#098855",t.$colorGreen800="#0A734A",t.$colorGreen900="#095C3B",t.$colorIconDisabled="#A8A8A8",t.$colorIconDisabledOnDark="rgba(255, 255, 255, 0.52)",t.$colorIconLight="#A8A8A8",t.$colorIconLightOnDark="rgba(255, 255, 255, 0.52)",t.$colorIconNormal="#4a4a4a",t.$colorIconNormalOnDark="#ffffff",t.$colorInfo="#2073F9",t.$colorInfoBackground="#ECF3FC",t.$colorNeutral0="#FCFCFC",t.$colorNeutral100="#f5f5f5",t.$colorNeutral200="#eeeeee",t.$colorNeutral300="#E6E6E6",t.$colorNeutral400="#cccccc",t.$colorNeutral50="#fafafa",t.$colorNeutral500="#A8A8A8",t.$colorNeutral600="#8A8A8A",t.$colorNeutral700="#757575",t.$colorNeutral800="#4a4a4a",t.$colorNeutral900="#212121",t.$colorOrange100="#FFE0CE",t.$colorOrange200="#FEC3A1",t.$colorOrange300="#FEA171",t.$colorOrange400="#FF7426",t.$colorOrange50="#FFF0E5",t.$colorOrange500="#FF5B00",t.$colorOrange600="#F74600",t.$colorOrange700="#E53000",t.$colorOrange800="#BF1B00",t.$colorOrange900="#8A0300",t.$colorOverlayDefault1="rgba(0, 0, 0, 0.8)",t.$colorOverlayDefault2="rgba(0, 0, 0, 0.6)",t.$colorOverlayDefault3="rgba(0, 0, 0, 0.38)",t.$colorOverlayGradient1="linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.48) 100%)",t.$colorOverlayGradient2="linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.3) 100%)",t.$colorOverlayGradient3="linear-gradient(0deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.3) 100%)",t.$colorOverlayGradient4="linear-gradient(270deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.3) 100%)",t.$colorOverlayGradient5="linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, #ffffff 100%)",t.$colorPurple0="#F6F5FC",t.$colorPurple100="#DBD5F9",t.$colorPurple200="#B9B0FE",t.$colorPurple300="#9183FC",t.$colorPurple400="#7469E4",t.$colorPurple50="#F1EEFA",t.$colorPurple500="#6056D6",t.$colorPurple600="#4D46D3",t.$colorPurple700="#3F3FBF",t.$colorPurple800="#3533BE",t.$colorPurple900="#3132AB",t.$colorRed0="#FAF2F0",t.$colorRed100="#FBE5DF",t.$colorRed200="#FDC9C1",t.$colorRed300="#FCA291",t.$colorRed400="#FA6D59",t.$colorRed50="#FAF0F0",t.$colorRed500="#F44622",t.$colorRed600="#DB3E1F",t.$colorRed700="#C7381C",t.$colorRed800="#B23319",t.$colorRed900="#A22E17",t.$colorSuccess="#08B371",t.$colorSuccessBackground="#E6F7F2",t.$colorTextDisabled="#A8A8A8",t.$colorTextDisabledOnDark="rgba(255, 255, 255, 0.52)",t.$colorTextHighlightBlue="#2073F9",t.$colorTextHighlightGreen="#08B371",t.$colorTextHighlightOrange="#FF5B00",t.$colorTextHighlightRed="#F44622",t.$colorTextHighlightYellow="#F09B0A",t.$colorTextLink="#2073F9",t.$colorTextPlaceholder="#8A8A8A",t.$colorTextPlaceholderOnDark="rgba(255, 255, 255, 0.62)",t.$colorTextPrimary="#212121",t.$colorTextPrimaryOnDark="#ffffff",t.$colorTextReverse="#ffffff",t.$colorTextSecondary="#757575",t.$colorTextSecondaryOnDark="rgba(255, 255, 255, 0.72)",t.$colorTransparent="rgba(255, 255, 255, 0)",t.$colorWhite="#ffffff",t.$colorYellow0="#FCF9F0",t.$colorYellow100="#FCEAC5",t.$colorYellow200="#FCDCA1",t.$colorYellow300="#FDC96F",t.$colorYellow400="#FEB439",t.$colorYellow50="#FCF3DE",t.$colorYellow500="#F09B0A",t.$colorYellow600="#DD8903",t.$colorYellow700="#C47900",t.$colorYellow800="#A66800",t.$colorYellow900="#845500",t.$fontSizeBodyL="18px",t.$fontSizeBodyM="16px",t.$fontSizeBodyS="14px",t.$fontSizeBodyXs="12px",t.$fontSizeCaptionM="12px",t.$fontSizeCaptionS="10px",t.$fontSizeHeadingL="32px",t.$fontSizeHeadingM="28px",t.$fontSizeHeadingS="24px",t.$fontSizeHeadingXl="44px",t.$fontSizeHeadingXs="20px",t.$fontSizeHeadingXsV2="18px",t.$fontSizeHeadingXxl="60px",t.$fontSizeHeadingXxs="16px",t.$fontSizeHeadingXxxs="14px",t.$fontSizeHeadingXxxxs="12px",t.$fontSizeParagraphM="16px",t.$fontSizeParagraphS="14px",t.$fontSizeParagraphXs="12px",t.$fontWeightBold="600",t.$fontWeightRegular="400",t.$fontWeightSemibold="500",t.$lineHeightCompact="1.32",t.$lineHeightRelaxed="1.5",t.$motionDurationL="320ms",t.$motionDurationM="240ms",t.$motionDurationS="160ms",t.$motionTimingEase="cubic-bezier(0.22, 0, 0.08, 1)",t.$opacityHover="0.8",t.$opacityOverlayDesktop="0.6",t.$opacityOverlayMobile="0.38",t.$opacityPressed="0.12",t.$opacitySolid="1",t.$opacityTransparent="0",t.$radiusCircle="50%",t.$radiusL="12px",t.$radiusM="8px",t.$radiusNone="0px",t.$radiusPill="99rem",t.$radiusS="6px",t.$radiusXl="16px",t.$radiusXxl="20px",t.$rwdBreakpointM="1024px",t.$rwdBreakpointS="744px",t.$rwdMaxwidth="1160px",t.$rwdSafeareaM="48px",t.$rwdSafeareaS="20px",t.$shadowHover1="0px 4px 20px 0px rgba(0, 0, 0, 0.08)",t.$shadowHover2="",t.$shadowNone="none",t.$shadowNormal1="0px 0px 12px 0px rgba(0, 0, 0, 0.03)",t.$shadowNormal2="0px 1px 6px 0px rgba(0, 0, 0, 0.1)",t.$shadowNormal3="0px -1px 8px 0px rgba(0, 0, 0, 0.11)",t.$shadowNormal4="0px 4px 10px 0px rgba(0, 0, 0, 0.14)",t.$shadowNormal5="0px 4px 20px 0px rgba(0, 0, 0, 0.08)"});(r=S)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")&&r.default;var w=S.$colorBrandPrimary,A=S.$colorTextPlaceholder,B=S.$colorTextPrimary,E={data:function(){return{}},inject:["__t"],props:{mode:{type:String,default:"secondary"},modeColor:{type:String,default:"default"},redeemPage:{type:String,default:""},isLoading:{type:Boolean,default:!1},isAsyncComponentLoading:{type:Boolean,default:!1},platform:{type:String,default:""},loginData:{type:Object,default:function(){return{}}},couponExtras:{type:Object,default:function(){return{}}},inhouse:null,klook:{type:Object,default:null},purpose:{type:String,default:"coupon"},aid:{type:String,default:""},isMP:{type:String,default:""},isKlookApp:{type:Boolean},language:{type:String,default:""},currency:{type:String,default:""},market:{type:String,default:""},bizName:{type:String,default:""},sourceSPM:{type:String,default:""},isLoggedIn:void 0,loginMethod:null,openPage:null,axios:null},computed:{realPlatform:function(){return this.platform||this.realKlook.platform},realOpenPage:function(){return this.openPage||_()},isInWebView:function(){var e;return this.isKlookApp||(null===(e=this.realKlook)||void 0===e?void 0:e.isKlookApp)},realKlook:function(){var e,t,o;return this.klook||(null===(e=this.$store)||void 0===e?void 0:null===(t=e.state)||void 0===t?void 0:t.klook)||(null===(o=this.$tetris)||void 0===o?void 0:o.runtime)},realInhouse:function(){var e,t;return this.inhouse||this.$inhouse||(null===(e=this.$tetris)||void 0===e?void 0:null===(t=e.tracker)||void 0===t?void 0:t.inhouse)},realAxios:function(){var e;return this.axios||this.$axios||(null===(e=this.$tetris)||void 0===e?void 0:e.axios)}},methods:{realIsLoggedIn:function(){try{var e=!1,t=this,o=function(o){var r,n,a;return e?o:null===(r=t.$store)||void 0===r?void 0:null===(n=r.state)||void 0===n?void 0:null===(a=n.auth)||void 0===a?void 0:a.isLoggedIn};if(void 0!==t.isLoggedIn)return Promise.resolve(t.isLoggedIn);var r=function(){if(t.$tetris){var o;return e=!0,Promise.resolve(null===(o=t.$tetris)||void 0===o?void 0:o.checkIsLogin())}}();return Promise.resolve(r&&r.then?r.then(o):o(r))}catch(e){return Promise.reject(e)}}}},P={components:{IconCopy:h.default,IconChevronDown:v.default,IconChevronUp:g.default,IconInformation:d.default},mixins:[E],props:{couponData:{type:Object,default:null}},data:function(){return{showMore:!1,showMoreBtn:!1}},computed:{usage:function(){var e;return(null===(e=this.couponData)||void 0===e?void 0:e.usage)||{}},$colorBrandPrimary:function(){return w},$colorTextPrimary:function(){return B},$colorTextPlaceholder:function(){return A},discountValueText:function(){return this.formattedText(this.usage.discount_value.text)}},mounted:function(){var e=this;this.$nextTick(function(){e.setShowMoreBtn()}),this.realInhouse&&this.realInhouse.track("pageview",this.$el,{force:!0})},methods:{formattedText:function(e){return e.replace(/\n/g,"<br>")},formatDate:function(e){if(e)return m()(1e3*e).format("YYYY-MM-DD HH:mm")},setShowMoreBtn:function(){var e=this;setTimeout(function(){var t=e.$refs.moreContent;if(t&&t instanceof Element){var o=parseInt(window.getComputedStyle(t).lineHeight),r=Math.round(t.clientHeight/o);e.showMoreBtn=r>3}},100)},copyText:function(e,t){var o=document.createElement("input");document.body.appendChild(o),o.setAttribute("value",e),o.select(),document.execCommand("copy")&&(document.execCommand("copy"),t()),document.body.removeChild(o)},copyPromoCode:function(){var e=this,t=this.$refs.promoCode;"string"==typeof t.textContent&&this.copyText(t.textContent,function(){e.$toast(e.__t("29542"))})}}},T=$({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"tnc",class:"tnc_"+e.realPlatform,attrs:{"data-spm-page":"CouponHowToUse?oid=couponbatch_"+e.couponData.coupon_batch_id+"&ext="+encodeURIComponent(JSON.stringify({Status:e.couponData.status}))+"&trg=manual"}},[e.usage.description?o("li",{staticClass:"tops"},[o("div",{staticClass:"title"},[e._v(e._s(e.usage.description.title))]),e._v(" "),o("div",{staticClass:"content description"},[e.usage.description.icon_url?o("img",{staticClass:"icon",attrs:{src:e.usage.description.icon_url,width:"20px"}}):e._e(),e._v("\n      "+e._s(e.usage.description.text)+"\n    ")])]):e._e(),e._v(" "),e.usage.discount_value?o("li",[o("div",{staticClass:"title"},[e._v(e._s(e.usage.discount_value.title))]),e._v(" "),o("div",{staticClass:"content"},[o("div",{staticClass:"text",domProps:{innerHTML:e._s(e.discountValueText)}}),e._v(" "),e.usage.discount_value.currency_hint?o("div",{staticClass:"tip"},[o("IconInformation",{staticClass:"tip-icon",attrs:{theme:"outline",size:"16",fill:e.$colorTextPlaceholder}}),e._v(" "),o("div",[e._v("\n          "+e._s(e.usage.discount_value.currency_hint)+"\n        ")])],1):e._e()])]):e._e(),e._v(" "),e.usage.discount_rules?o("li",[o("div",{staticClass:"title"},[e._v(e._s(e.usage.discount_rules.title))]),e._v(" "),o("div",{staticClass:"content"},[e._v("\n      "+e._s(e.usage.discount_rules.text)+"\n      "),e.usage.discount_rules.value?o("ol",e._l(e.usage.discount_rules.value,function(t,r){return o("li",{key:r},[e.usage.discount_rules.value.length>1?o("span",{staticClass:"icon circle"}):e._e(),e._v(e._s(t)+"\n        ")])}),0):e._e()])]):e._e(),e._v(" "),e.usage.applicable_for?o("li",[o("div",{staticClass:"title"},[e._v(e._s(e.usage.applicable_for.title))]),e._v(" "),o("div",{staticClass:"content"},[e.usage.applicable_for.deeplink?o("a",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ApplicableAid",componentName:"promo-entrance"},expression:"{ spm: 'ApplicableAid', componentName: 'promo-entrance' }"}],attrs:{"data-spm-module":"ApplicableAid","data-spm-virtual-item":"__virtual",href:e.usage.applicable_for.deeplink,target:"_blank"}},[e._v(e._s(e.usage.applicable_for.text)+"\n      ")]):o("span",[e._v(e._s(e.usage.applicable_for.text))])])]):e._e(),e._v(" "),e.usage.validity_period?o("li",[o("div",{staticClass:"title"},[e._v(e._s(e.usage.validity_period.title))]),e._v(" "),o("div",{staticClass:"content"},[e._v("\n      "+e._s(e.usage.validity_period.text)+"\n      "),e.usage.validity_period.start_time_format||e.usage.validity_period.end_time_format?o("ol",[e.usage.validity_period.start_time_format?o("li",[e.usage.validity_period.start_time_format&&e.usage.validity_period.end_time_format?o("span",{staticClass:"icon circle"}):e._e(),e._v("\n          "+e._s(e.usage.validity_period.start_time_format.replace("{expiry_time}",e.formatDate(e.usage.validity_period.start_time_unix)))+"\n        ")]):e._e(),e._v(" "),e.usage.validity_period.end_time_format?o("li",[e.usage.validity_period.start_time_format&&e.usage.validity_period.end_time_format?o("span",{staticClass:"icon circle"}):e._e(),e._v("\n          "+e._s(e.usage.validity_period.end_time_format.replace("{redemption_end_time}",e.formatDate(e.usage.validity_period.end_time_unix)))+"\n        ")]):e._e()]):e._e()])]):e._e(),e._v(" "),e.usage.promo_code?o("li",{staticClass:"promo-code"},[o("div",{staticClass:"title"},[e._v(e._s(e.usage.promo_code.title))]),e._v(" "),o("div",{staticClass:"content"},[o("span",{ref:"promoCode",staticClass:"code"},[e._v(e._s(e.usage.promo_code.code))]),e._v(" "),o("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"CopyButton",componentName:"promo-entrance"},expression:"{ spm: 'CopyButton', componentName: 'promo-entrance' }"}],staticClass:"copy",attrs:{"data-spm-module":"CopyButton","data-spm-virtual-item":"__virtual"},on:{click:e.copyPromoCode}},[o("IconCopy",{staticClass:"copy-icon",attrs:{theme:"outline",size:"16",fill:[e.$colorBrandPrimary]}}),e._v("\n        "+e._s(e.__t("109560"))+"\n      ")],1)])]):e._e(),e._v(" "),e.usage.rules_tips?e._l(e.usage.rules_tips,function(t,r){return o("li",{key:r},[o("div",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),o("div",{staticClass:"content"},e._l(t.desc_list,function(t,n){return o("div",{key:r+"-"+n,staticClass:"text"},[e._v(e._s(t))])}),0)])}):e._e(),e._v(" "),e.usage.terms_and_conditions?o("li",{staticClass:"tnc-text"},[o("div",{staticClass:"title"},[e._v(e._s(e.usage.terms_and_conditions.title))]),e._v(" "),o("div",{staticClass:"content"},[e.usage.terms_and_conditions.not_applicable_for?o("div",{staticClass:"not_applicable_for"},[e.usage.terms_and_conditions.not_applicable_for.deeplink?o("a",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"NonApplicableAid",componentName:"promo-entrance"},expression:"{ spm: 'NonApplicableAid', componentName: 'promo-entrance' }"}],attrs:{href:e.usage.terms_and_conditions.not_applicable_for.deeplink,"data-spm-module":"NonApplicableAid","data-spm-virtual-item":"__virtual",target:"_blank"}},[e._v(e._s(e.usage.terms_and_conditions.not_applicable_for.text)+"\n        ")]):o("span",[e._v(e._s(e.usage.terms_and_conditions.not_applicable_for.text))])]):e._e(),e._v(" "),o("div",{staticClass:"more-contents"},[o("div",{class:[e.showMore?"":"more-content"]},[e._v("\n          "+e._s(e.usage.terms_and_conditions.text)+"\n        ")]),e._v(" "),o("div",{ref:"moreContent",staticClass:"more-content1"},[e._v("\n          "+e._s(e.usage.terms_and_conditions.text)+"\n        ")])]),e._v(" "),e.showMoreBtn?o("div",{staticClass:"more-btn",on:{click:function(t){e.showMore=!e.showMore}}},[o("span",{staticClass:"more"},[e._v("\n          "+e._s(e.showMore?e.__t("109571"):e.__t("109570"))+"\n        ")]),e._v(" "),e.showMore?o("IconChevronUp",{attrs:{theme:"outline",size:"16",fill:e.$colorTextPrimary}}):o("IconChevronDown",{attrs:{theme:"outline",size:"16",fill:e.$colorTextPrimary}})],1):e._e()])]):e._e()],2)},staticRenderFns:[]},void 0,P,"data-v-5f57a75d",!1,void 0,!1,void 0,void 0,void 0),O=F(function(e,t){var o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)};t.__assign=function(){return t.__assign=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.__assign.apply(this,arguments)};t.__extends=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t.__spreadArray=function(e,t,o){if(o||2==arguments.length)for(var r,n=0,a=t.length;n<a;n++)(r||!(n in t))&&(!r&&(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}}),I=Symbol("localStorageSupport"),N=function(){function e(){}return Object.defineProperty(e.prototype,"isLocalStorageSupport",{get:function(){if(null!=this[I])return this[I];try{return window.localStorage.setItem("test","4"),window.localStorage.removeItem("test"),this[I]=!0,!0}catch(e){return this[I]=!1,!1}},enumerable:!1,configurable:!0}),e}();var M=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O.__extends(t,e),t.prototype.setItem=function(e,t,o){if(!!this.isLocalStorageSupport){if(!o){window.localStorage.setItem(e,t);return}var r={localData:t,expires:new Date().getTime()+o};window.localStorage.setItem(e,JSON.stringify(r))}},t.prototype.removeItem=function(e){this.isLocalStorageSupport&&window.localStorage.removeItem(e)},t.prototype.getItem=function(e){if(!this.isLocalStorageSupport)return null;var t=window.localStorage.getItem(e);if(!t)return null;try{var o=JSON.parse(t);if(!(null==o?void 0:o.localData))return t;var r=o.localData,n=o.expires,a=new Date().getTime();if(n&&a>n)return window.localStorage.removeItem(e),null;return r}catch(e){}return t},t}(((n=N)&&"object"==typeof n&&"default"in n?n:{default:n}).default)),L={inheritAttrs:!1,mixins:[E],components:{IconCheckCircle:u.default,IconInformation:d.default},props:{couponData:{type:Object,default:function(){return{}}},couponLength:{type:Number,default:1},couponIdx:{type:Number,default:0},couponCount:{type:Number},status:{type:String,default:""},imageSize:{type:String,default:"mini"},openRemind:{type:Boolean,default:!1},showStartTime:{type:Boolean,default:!1},spmModuleName:{type:String,default:"NewCoupon_LIST"}},data:function(){return{useDeeplink:"",loading:!1,redeeming:!1,couponUsedTimeUnix:"",remindLoading:!1,remindStatus:this.getRemindStatus(this.couponData.program_uuid)}},computed:{$colorTextPlaceholder:function(){return A},statusText:function(){var e={sold_out:"109535",expired:"109536",not_start:"109531",redeemed:"109534",used:"195911"}[this.realCouponStatus];return e&&this.__t(e)},linkOptions:function(){return this.couponData.app_only&&!this.isInWebview?{text:this.__t("45085"),class:"view",props:{is:"klk-link",color:B,href:"javascript:;"}}:{text:this.__t("109533"),class:"use",props:{is:"klk-button",type:"secondary",size:"mini",round:!0}}},colorData:function(){return function(e,t){if(void 0===e&&(e="disabled"),"disabled"===e)return{"--text-primary-color":"#8A8A8A","--text-secondary-color":"#8A8A8A","--fill-color":"#EEE","--border-color":"#E6E6E6","--currency-font-color":"#8A8A8A","--button-color":"#8A8A8A"};var o={primary:{default:{"--button-color":"#FF5B00","--fill-color":"#FF7426","--border-color":"#FEA171"},yellow:{"--button-color":"#F09B0A","--fill-color":"#FEB439","--border-color":"#FEB439"},green:{"--button-color":"#0B9E65","--fill-color":"#38C78C","--border-color":"#38C78C"},blue:{"--button-color":"#2073F9","--fill-color":"#6390F7","--border-color":"#6390F7"},purple:{"--button-color":"#6056D6","--fill-color":"#9183FC","--border-color":"#9183FC"}},secondary:{default:{"--button-color":"#FF5B00","--fill-color":"#FFF0E5","--border-color":"#FEC3A1"},yellow:{"--button-color":"#F09B0A","--fill-color":"#FCF3DE","--border-color":"#FDC96F"},green:{"--button-color":"#0B9E65","--fill-color":"#E6F7F2","--border-color":"#7CD8B1"},blue:{"--button-color":"#2073F9","--fill-color":"#ECF3FC","--border-color":"#93B1F7"},purple:{"--button-color":"#6056D6","--fill-color":"#F1EEFA","--border-color":"#B9B0FE"}}}[e][t];return y({},o,{"--text-primary-color":"#212121","--text-secondary-color":"#757575","--currency-font-color":"primary"===e?"#ffffff":o["--button-color"],"--button-font-color":"primary"!==e?"#ffffff":o["--button-color"]})}(this.disabled?"disabled":this.mode,this.modeColor)},disabled:function(){return["unavailable","sold_out","expired","used"].includes(this.realCouponStatus)},realCouponStatus:function(){return this.status||this.couponData.status},realUseLink:function(){return this.useDeeplink||this.couponData.use_deeplink},realCount:function(){return this.couponCount||this.couponData.count},hasUsage:function(){return this.couponData&&this.couponData.usage},usedTimeUnix:function(){return this.couponData.used_time_unix},isShowAddCalendar:function(){return"not_start"===this.realCouponStatus&&this.openRemind},newDiscountData:function(){return this.formateDiscount()}},created:function(){this.$emit("getColorData",this.colorData)},methods:{formateDiscount:function(){var e=this.couponData||{},t=e.discount_currency,o=void 0===t?"":t,r=e.discount_value,n=e.discount_format,a=void 0===n?"":n,i=e.discount_value_v2;return a?a.replace(/{discount_currency}/g,o).replace(/{discount_value_v2}/g,"<span>"+(void 0===i?"":i)+"</span>"):o+"<span>&nbsp;"+(void 0===r?"":r)+"</span>"},formatTime:function(e){return(0,a.getStandardDateFormat)(1e3*e,this.__t,this.language||this.realKlook.language,3)+" "+m()(1e3*e).format("HH:mm")},formatStartTime:function(e){if(e){var t=(0,a.getStandardDateFormat)(1e3*e,this.__t,this.language||this.realKlook.language,3),o=m()(1e3*e).format("HH:mm");return this.__t("203926",{date:t,hh:o.split(":")[0],mm:o.split(":")[1]})}},toUse:function(){this.realOpenPage({url:this.realUseLink,target:"_blank"})},showTnc:function(){if(!!this.hasUsage){var e={parent:this,componentAttrs:{platform:this.realPlatform,couponData:this.couponData||{}}};"desktop"!==this.realPlatform&&"web"!==this.realPlatform?C(T,y({},e,{dialogAttrs:{title:this.__t("109543"),maskClosable:!0}})):k(T,y({},e,{dialogAttrs:{title:this.__t("109543"),size:"large",closable:!0,overlayClosable:!0,escPressClosable:!0,scrollable:!0,width:"680px"}}))}},redeem:function(){try{var e=this;if(e.redeeming)return Promise.resolve();return e.redeeming=!0,Promise.resolve(D(function(){return x(function(){return Promise.resolve(e.realIsLoggedIn()).then(function(t){var o=!1;function r(t){if(o)return t;function r(){return Promise.resolve(e.toRedeem()).then(function(){})}e.redeeming=!1;var n=e.loginMethod?Promise.resolve(e.loginMethod()).then(function(){}):Promise.resolve(e.login()).then(function(){});return n&&n.then?n.then(r):r(n)}var n=function(){if(t)return Promise.resolve(e.toRedeem()).then(function(){e.loading=!1,o=!0})}();return n&&n.then?n.then(r):r(n)})},function(t){console.error(t),e.$emit("onRedeemError",t)})},function(t,o){if(e.loading=!1,e.redeeming=!1,t)throw o;return o}))}catch(e){return Promise.reject(e)}},login:function(){try{var e=this;return Promise.resolve(Promise.all([o.e("45926"),o.e("22875"),o.e("66744")]).then(o.bind(o,92593))).then(function(t){var o=t.loginWithSDK;return new Promise(function(t,r){var n,a;o(y({aid:e.aid||(null===(n=window)||void 0===n?void 0:null===(a=n.Cookies)||void 0===a?void 0:a.get("aid")),isMP:!!e.isMP||!!e.realKlook.platformMp,platform:e.platform||e.realPlatform,language:e.language||e.realKlook.language,currency:e.currency||e.realKlook.currency,market:e.market||e.realKlook.market,bizName:e.bizName||"Platform",purpose:e.purpose,sourceSPM:e.sourceSPM},e.loginData,{cancel:function(){e.loginData&&e.loginData.cancel&&e.loginData.cancel(),r("cancel")},success:function(){var o;e.loginData&&e.loginData.success&&e.loginData.success(),null===(o=e.$store)||void 0===o||o.dispatch("auth/getProfile"),t(!0)}})).then(function(t){var o=+new Date,r="undefined"!=typeof arguments?arguments:null,n=function(e){if("undefined"!=typeof __in_house&&__in_house.get_spm_info)try{var t=+new Date-o;e=__in_house.get_spm_info(e,{duration:t,args:r})}catch(e){console.warn("Get spm info error",e)}return e};!t&&(window.location.href=n(n(e.$href(`/signin/?signin_jump=${encodeURIComponent(window.location.href)}`))))})})})}catch(e){return Promise.reject(e)}},toRedeem:function(){try{var e=this,t={program_uuid:e.couponData.program_uuid};return e.redeemPage&&(t.redeem_page=e.redeemPage),e.loading=!0,e.$emit("onRedeem",t),Promise.resolve(D(function(){return x(function(){return Promise.resolve(e.realAxios.$post("/v2/promosrv/program/manual_redeem",t)).then(function(o){var r=o.success,n=o.error,a=o.result;r&&null!=a&&a.status&&(e.couponData.status=a.status,e.couponData.used_time_unix=a.use_end_time_unix,e.useDeeplink=a.use_deeplink,e.couponData.use_deeplink=a.use_deeplink,e.$emit("onRedeemStatusUpdate",a.status,n)),!r&&n&&n.message&&(e.$toast(n.message),e.$emit("onRedeemError",y({},t,n)))})},function(t){e.$emit("onRedeemError",t),e.$toast("please try again later")})},function(t,o){if(e.loading=!1,t)throw o;return o}))}catch(e){return Promise.reject(e)}},remindMe:function(e){try{var t=this;t.remindLoading=!0;var o=e.program_uuid,r=e.start_time_unix,n=t.getRemindStorage();if(n[o]&&!r)return Promise.resolve();n[o]=1e3*r;var a=D(function(){return x(function(){return Promise.resolve(t.addCalendar(e)).then(function(){t.setRemindStorage(n),t.remindStatus="reminded",t.$emit("onRemind",!0)})},function(e){console.error(e),t.$emit("onRemind",!1)})},function(e,o){if(t.remindLoading=!1,e)throw o;return o});return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},addCalendar:function(e){try{var t=this,r=e.title,n=void 0===r?"":r,a=e.description,i=e.start_time_unix;return Promise.resolve(o.e("44093").then(o.bind(o,79720)).catch(function(){return{default:null}})).then(function(o){var r=o.default,l={title:n||a||"",description:a||"",location:e.calendarLocation||"",alarmMinutesBefore:e.calendarAlarmMinutesBefore||5,startTime:t.getTimeStampWithTimeZone(1e3*i,e.timeZone||0),endTime:t.getTimeStampWithTimeZone(1e3*i+3e5,e.timeZone||0)};return Promise.resolve(r.call("platform.addCalendar",l)).then(function(e){"success"===e?t.$toast({message:t.__t("176731",{event_title:a}),duration:1500}):"permission_already_reject"===e&&t.$confirm(t.__t("176732"),{okLabel:t.__t("176733"),cancelLabel:t.__t("176734")}).then(function(e){var o=e.result;try{var i=function(){if(o)return Promise.resolve(r.call("platform.goCalendarSetting",l)).then(function(e){"success"===e&&t.$toast({message:t.__t("176731",{event_title:n||a}),duration:1500})})}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})})})}catch(e){return Promise.reject(e)}},getTimeStampWithTimeZone:function(e,t){var o=m()(e).format("YYYY-MM-DDTHH:mm:ssZ").split("+")[0]+t;return m()(o).valueOf()},removeExpiredKeys:function(){var e=this.getRemindStorage(),t=Date.now();for(var o in e)e.hasOwnProperty(o)&&e[o]<t&&delete e[o];this.setRemindStorage(e)},getRemindStatus:function(e){return e?this.getRemindStorage()[e]?"reminded":"remindme":"remindme"},getRemindStorage:function(){return JSON.parse(M.getItem("klk_remind_coupon"))||JSON.parse(M.getItem("remindCoupon"))||{}},setRemindStorage:function(e){M.setItem("klk_remind_coupon",JSON.stringify(e))}},mounted:function(){this.openRemind&&this.removeExpiredKeys()}},R=$({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isLoading||e.isAsyncComponentLoading||!e.__t?o("div",{staticClass:"coupon-item",class:[e.isLoading&&"loading",e.mode],style:e.colorData},[o("div",{staticClass:"coupon-details"},[o("klk-skeleton-block",{staticClass:"skeleton",attrs:{height:40}}),e._v(" "),o("klk-skeleton-block",{staticClass:"skeleton"}),e._v(" "),o("klk-skeleton-block",{attrs:{width:40}})],1),e._v(" "),e._m(0),e._v(" "),o("div",{staticClass:"coupon-currency"},[o("div",[o("klk-skeleton-block",{attrs:{width:100}}),e._v(" "),o("klk-skeleton-block",{attrs:{width:100}}),e._v(" "),o("div",{staticClass:"status"},[o("klk-skeleton-block",{attrs:{width:60}})],1)],1)])]):o("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:e.spmModuleName,componentName:"promo-entrance"},expression:"{ spm: spmModuleName, componentName: 'promo-entrance' }"}],staticClass:"coupon-item",class:[e.mode,e.realCount>1&&"multiple"],style:Object.assign({},e.colorData,{cursor:"desktop"===e.realPlatform&&e.hasUsage&&"pointer"}),attrs:{"data-spm-module":e.spmModuleName+"?oid=couponbatch_"+e.couponData.coupon_batch_id+"&idx="+e.couponIdx+"&len="+e.couponLength+"&ext="+encodeURIComponent(JSON.stringify(Object.assign({},{Status:e.realCouponStatus},e.couponExtras))),"data-spm-virtual-item":"__virtual"},on:{click:e.showTnc}},[e.realCount>1?o("klk-badge",{attrs:{value:"x "+e.realCount,color:e.colorData["--button-color"]}}):e._e(),e._v(" "),o("div",{staticClass:"coupon-details"},[e.hasUsage||e.couponData.tags&&e.couponData.tags.length?o("div",{staticClass:"tags"},[e.couponData.tags&&e.couponData.tags.length?o("ul",e._l(e.couponData.tags,function(t,r){return o("li",{key:r,staticClass:"tag",style:{background:t.bg_color,color:t.text_color}},[e._v("\n          "+e._s(t.text)+"\n        ")])}),0):e._e()]):e._e(),e._v(" "),o("div",{staticClass:"title"},["small"===e.imageSize&&e.couponData.brand_icon_url?o("div",{staticClass:"img-big-wrapper"},[o("span",{staticClass:"img-big",style:{backgroundImage:"url("+e.couponData.brand_icon_url+")",filter:this.disabled&&"grayscale(1)"}})]):e._e(),e._v(" "),o("span",{class:"desc-"+e.imageSize},[e._v("\n        "+e._s(e.couponData.description)+"\n      ")])]),e._v(" "),"mini"===e.imageSize?[e.couponData.brand_icon_url||e.couponData.promo_code?o("div",{staticClass:"sub-title"},[e.couponData.brand_icon_url?o("div",{staticClass:"img-wrapper"},[o("span",{staticClass:"img",style:{backgroundImage:"url("+e.couponData.brand_icon_url+")",filter:this.disabled&&"grayscale(1)"}})]):e._e(),e._v(" "),e.couponData.promo_code?o("span",[e._v(e._s(e.__t("109547"))+":"+e._s(e.couponData.promo_code))]):e._e()]):e._e()]:e._e(),e._v(" "),e.usedTimeUnix?o("div",{staticClass:"validity-wrapper"},[o("span",{staticClass:"validity"},[e._v(e._s(e.__t("3169"))+e._s(e.formatTime(e.usedTimeUnix)))])]):e._e(),e._v(" "),e._t("card-slot")],2),e._v(" "),e._m(1),e._v(" "),o("div",{staticClass:"coupon-currency"},[o("div",{class:e.realCouponStatus},[o("h4",{domProps:{innerHTML:e._s(e.newDiscountData)}}),e._v(" "),e.couponData.min_spent_currency&&e.couponData.min_spent_value?o("p",{domProps:{innerHTML:e._s(e.__t("109553",{currency:""+e.couponData.min_spent_currency,amount:"<span> "+e.couponData.min_spent_value+"</span>"}))}}):e.couponData.min_spent_desc?o("p",[e._v("\n        "+e._s(e.couponData.min_spent_desc)+"\n      ")]):e._e()]),e._v(" "),!e.isShowAddCalendar&&e.statusText?o("div",{class:"status "+e.realCouponStatus},[["redeemed","reminded"].includes(e.realCouponStatus)?o("IconCheckCircle",{staticClass:"icon",attrs:{theme:"outline",size:"16",fill:e.colorData["--currency-font-color"]}}):e._e(),e._v("\n      "+e._s(e.statusText)+"\n    ")],1):e._e(),e._v(" "),e.isShowAddCalendar?o("div",["remindme"===e.remindStatus?o("klk-button",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:e.spmModuleName+".RemindMe",componentName:"promo-entrance"},expression:"{ spm: spmModuleName + '.RemindMe', componentName: 'promo-entrance' }"}],staticClass:"remind",attrs:{type:"primary",size:"mini",loading:e.remindLoading,round:"","data-spm-item":"RemindMe?oid=couponbatch_"+e.couponData.coupon_batch_id+"&ext="+encodeURIComponent(JSON.stringify(Object.assign({},e.couponExtras)))},nativeOn:{click:function(t){return t.stopPropagation(),e.remindMe(e.couponData)}}},[e._v("\n        "+e._s(e.__t("203924"))+"\n      ")]):o("div",{staticClass:"added-calendar"},[o("IconCheckCircle",{staticClass:"icon",attrs:{theme:"outline",size:"16",fill:e.colorData["--currency-font-color"]}}),e._v(" "),o("span",[e._v(e._s(e.__t("203925")))])],1)],1):"to_redeem"===e.realCouponStatus?o("klk-button",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:e.spmModuleName+".Button",componentName:"promo-entrance"},expression:"{ spm: spmModuleName + '.Button', componentName: 'promo-entrance' }"}],staticClass:"redeem",attrs:{type:"primary",size:"mini",loading:e.loading,round:"","data-spm-item":"Button?oid=couponbatch_"+e.couponData.coupon_batch_id+"&ext="+encodeURIComponent(JSON.stringify(Object.assign({},{Status:e.realCouponStatus,Url:e.realUseLink},e.couponExtras)))},nativeOn:{click:function(t){return t.stopPropagation(),e.redeem(t)}}},[e._v("\n      "+e._s(e.__t("109532"))+"\n    ")]):["available","to_use"].includes(e.realCouponStatus)&&e.realUseLink?o("component",e._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:e.spmModuleName+".Button",componentName:"promo-entrance"},expression:"{ spm: spmModuleName + '.Button', componentName: 'promo-entrance' }"}],class:e.linkOptions.class,attrs:{"data-spm-item":"Button?oid=couponbatch_"+e.couponData.coupon_batch_id+"&ext="+encodeURIComponent(JSON.stringify(Object.assign({},{Status:e.realCouponStatus,Url:e.realUseLink},e.couponExtras)))},nativeOn:{click:function(t){return t.stopPropagation(),e.toUse(t)}}},"component",e.linkOptions.props,!1),[e._v("\n      "+e._s(e.linkOptions.text)+"\n    ")]):e._e(),e._v(" "),e.showStartTime&&"not_start"===e.realCouponStatus?o("div",{staticClass:"remind-me"},[o("div",{staticClass:"start-time"},[e._v(" "+e._s(e.formatStartTime(e.couponData.start_time_unix)))])]):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"divide-box"},[t("div",{staticClass:"left"}),this._v(" "),t("div",{staticClass:"right"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"divide-box"},[t("div",{staticClass:"left"}),this._v(" "),t("div",{staticClass:"right"})])}]},void 0,L,"data-v-7749b80b",!1,void 0,!1,void 0,void 0,void 0),z=b(R),j=b(T)},96426:function(){}}]);
//# sourceMappingURL=42854.5d421153.js.map