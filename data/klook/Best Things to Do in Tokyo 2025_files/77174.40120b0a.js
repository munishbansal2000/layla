/*! For license information please see 77174.40120b0a.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="76ef7ea6-8020-45f7-9b45-f926a6f72325",e._sentryDebugIdIdentifier="sentry-dbid-76ef7ea6-8020-45f7-9b45-f926a6f72325")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"web_ssr-platform_20251225_022df67f"};"use strict";(self.webpackChunkklook_ssr_platform=self.webpackChunkklook_ssr_platform||[]).push([["77174"],{70216:function(e,t,n){var o,i=n(20144),r=n(1833);var s=(o=i)&&"object"==typeof o&&"default"in o?o:{default:o},a=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===l}(e)}(e)},l="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return!1!==t.clone&&t.isMergeableObject(e)?f(Array.isArray(e)?[]:{},e,t):e}function u(e,t,n){return e.concat(t).map(function(e){return c(e,n)})}function d(e){var t;return Object.keys(e).concat((t=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]))}function h(e,t){try{return t in e}catch(e){return!1}}function f(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||u,n.isMergeableObject=n.isMergeableObject||a,n.cloneUnlessOtherwiseSpecified=c;var o,i,r,s,l=Array.isArray(t),p=Array.isArray(e);if(l!==p)return c(t,n);if(l)return n.arrayMerge(e,t,n);return o=e,i=t,s={},(r=n).isMergeableObject(o)&&d(o).forEach(function(e){s[e]=c(o[e],r)}),d(i).forEach(function(e){var t,n;if(!h(t=o,n=e)||!!(Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n)))h(o,e)&&r.isMergeableObject(i[e])?s[e]=(function(e,t){if(!t.customMerge)return f;var n=t.customMerge(e);return"function"==typeof n?n:f})(e,r)(o[e],i[e],r):s[e]=c(i[e],r)}),s}f.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,n){return f(e,n,t)},{})};let p=r.default(),m={datePicker:{weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weeksShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weeksMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",format:"mm/dd/yyyy",weekStart:1},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},infiniteScroll:{noMore:"That's all there is",exploreMore:"Explore More"},select:{viewMore:"Show all",viewLess:"Show less",noResult:"We couldn't find any matches for that",save:"Save",search:"Search"},infiniteLoad:{empty:"You've Klooked to the end",error:"Search error. Please try again",retry:"Retry"}},y=!1,v=function(){let e=Object.getPrototypeOf(this||s.default).$t;if("function"==typeof e&&s.default.locale)return!y&&(y=!0,s.default.locale(s.default.config.lang,f(m,s.default.locale(s.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},b=function(e,t){let n=v.apply(this,arguments);if(null!=n)return n;let o=e.split("."),i=m;for(let e=0,r=o.length;e<r;e++){if(n=i[o[e]],e===r-1)return p(n,t);if(!n)break;i=n}return""},g=function(e){m=e||m},_=function(e){v=e||v};var k={use:g,t:b,i18n:_},w=Object.freeze({__proto__:null,t:b,use:g,i18n:_,default:k});t.i18n=_,t.index=k,t.locale=w,t.t=b,t.use=g},46106:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(84253),i=n(99994),r=n(42281),s=n(74023);n(16211),n(20144),n(29220);var a={name:"klk-input",components:{Icon:i.default},mixins:[r.FormMixin],props:{type:{type:String,default:"text"},value:[String,Number],size:{type:String,validator:function(e){return["small","normal","large"].includes(e)}},styleType:{type:String,validator:function(e){return["outlined","lined","filled"].includes(e)}},disabled:Boolean,readonly:Boolean,autocomplete:{type:String,default:"off"},clearable:{type:Boolean,default:!1},wordsCount:Boolean,wordsCountFunction:Function,maxlength:Number,minlength:Number,max:Number,min:Number,placeholder:String,prependIcon:String,appendIcon:String,name:String,autofocus:Boolean,rows:{type:Number,default:5},spellcheck:Boolean},data:function(){return{curValue:this.value,isFocus:!1,passwordVisible:!1,isComposing:!1,hovering:!1}},computed:{cClass:function(){var e,t=this.size||this.sizeInForm,n=this.styleType||this.$form&&this.$form.styleType;return e={"klk-input":!0,"klk-input-is-focus":this.isFocus,"klk-input-disabled":this.isDisabled},o._defineProperty(e,"klk-input-".concat(t),!!t),o._defineProperty(e,"klk-input-".concat(n),!!n),o._defineProperty(e,"klk-input-is-textarea","textarea"===this.type),o._defineProperty(e,"klk-input-rtl",this.isRtl),e},showClear:function(){return this.clearable&&!this.isDisabled&&!this.readonly&&this.curValue&&(this.isFocus||this.hovering)},isPassword:function(){return"password"===this.type},isTextarea:function(){return"textarea"===this.type},showPassword:function(){return this.isPassword&&!this.isDisabled&&!this.readonly},wordsCountText:function(){if("function"==typeof this.wordsCountFunction){var e=this.wordsCountFunction(this.curValue);if("string"==typeof e)return e}return this.wordsNum},wordsNum:function(){return this.calcWordCount(this.curValue)},isDisabled:function(){return this.disabled||this.disabledInForm}},watch:{value:function(e){this.curValue=e,this.notifyFormItem("change",e)}},methods:{setValue:function(e){e!==this.curValue&&(this.curValue=e,this.$emit("input",e))},clear:function(){!this.isDisabled&&(this.setValue(""),this.$emit("clear"),this.focus())},isInputLengthValid:function(e){return!(Number(this.maxlength)>0&&this.calcWordCount(e.target.value)>this.maxlength)||(e.target.value=this.curValue,!1)},calcWordCount:function(e){if("function"==typeof this.wordsCountFunction){var t=this.wordsCountFunction(e);if("number"==typeof t)return t}return("number"==typeof e?String(e):null!=e?e:"").length},getInput:function(){return"textarea"===this.type?this.$refs.textarea:this.$refs.input},focus:function(){if(!this.isDisabled){var e=this.getInput();e&&e.focus()}},blur:function(){if(!this.isDisabled){var e=this.getInput();e&&e.blur()}},onFocus:function(e){!this.isDisabled&&(this.isFocus=!0,this.$emit("focus",e))},onBlur:function(e){!this.isDisabled&&(this.isFocus=!1,this.$emit("blur",e),this.notifyFormItem("blur"))},onEnter:function(e){!this.isDisabled&&this.$emit("enter",e)},onKeyup:function(e){!this.isDisabled&&this.$emit("keyup",e)},onKeydown:function(e){!this.isDisabled&&this.$emit("keydown",e)},onInput:function(e){if(!this.isComposing&&!!this.isInputLengthValid(e))this.inRange(e)&&this.setValue(e.target.value)},onChange:function(e){if(!!this.isInputLengthValid(e))this.inRange(e)&&this.$emit("change",e.target.value)},inRange:function(e){if("number"===this.type){if(void 0!==this.min&&parseFloat(e.target.value)<this.min)return!1;if(void 0!==this.max&&parseFloat(e.target.value)>this.max)return!1}return!0},onCompositionStart:function(){this.isComposing=!0},onCompositionUpdate:function(){},onCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.onInput(e))},togglePasswdVisible:function(){this.passwordVisible=!this.passwordVisible,this.$nextTick(this.focus)}}},l=s.normalizeComponent({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.cClass},[n("div",{staticClass:"klk-input-inner",on:{click:function(t){return t.target!==t.currentTarget?null:e.focus(t)},mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[(e.$slots.prepend||e.prependIcon)&&!e.isTextarea?n("div",{staticClass:"klk-input-prepend"},[e._t("prepend",[e.prependIcon?n("Icon",{staticClass:"klk-input-prepend-icon",attrs:{type:e.prependIcon}}):e._e()])],2):e._e(),e._v(" "),"textarea"===e.type?n("textarea",e._b({ref:"textarea",staticClass:"klk-scrollbar-y",attrs:{type:"text",name:e.name,placeholder:e.placeholder,disabled:e.isDisabled,readonly:e.readonly,autocomplete:e.autocomplete,autofocus:e.autofocus,spellcheck:e.spellcheck,minlength:e.minlength,rows:e.rows},domProps:{value:e.curValue},on:{focus:e.onFocus,blur:e.onBlur,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)},e.onKeyup],keydown:e.onKeydown,input:e.onInput,change:e.onChange,compositionstart:e.onCompositionStart,compositionupdate:e.onCompositionUpdate,compositionend:e.onCompositionEnd}},"textarea",e.$attrs,!1)):n("input",e._b({ref:"input",attrs:{type:e.isPassword?e.passwordVisible?"text":"password":e.type,name:e.name,placeholder:e.placeholder,disabled:e.isDisabled,readonly:e.readonly,autocomplete:e.autocomplete,autofocus:e.autofocus,spellcheck:e.spellcheck,minlength:e.minlength,max:e.max,min:e.min},domProps:{value:e.curValue},on:{focus:e.onFocus,blur:e.onBlur,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)},e.onKeyup],keydown:e.onKeydown,input:e.onInput,change:e.onChange,compositionstart:e.onCompositionStart,compositionupdate:e.onCompositionUpdate,compositionend:e.onCompositionEnd}},"input",e.$attrs,!1)),e._v(" "),(e.$slots.append||e.appendIcon)&&!e.isTextarea?n("div",{staticClass:"klk-input-append"},[e._t("append",[e.appendIcon?n("Icon",{staticClass:"klk-input-append-icon",attrs:{type:e.appendIcon}}):e._e()])],2):e._e(),e._v(" "),e.clearable&&!e.isTextarea?n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.showClear,expression:"showClear"}],staticClass:"klk-input-clearable-btn",attrs:{type:"icon_feedback_failure_fill"},on:{click:function(t){return t.stopPropagation(),e.clear(t)}},nativeOn:{mousedown:function(e){e.preventDefault()}}}):e._e(),e._v(" "),e.isPassword&&!e.isTextarea?n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.showPassword,expression:"showPassword"}],staticClass:"klk-input-password-btn",attrs:{type:e.passwordVisible?"icon_other_view_on_s":"icon_other_view_off_s"},nativeOn:{click:function(t){return t.stopPropagation(),e.togglePasswdVisible(t)}}}):e._e(),e._v(" "),(e.wordsCount||e.$slots["words-count"]||e.maxlength)&&e.isTextarea?n("div",{staticClass:"klk-input-words-count"},[e._t("words-count",[e._v(e._s(e.wordsCountText)),e.maxlength?n("span",[e._v("/"+e._s(e.maxlength))]):e._e()],{wordsNum:e.wordsNum})],2):e._e()],1)])},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);l.install=function(e){e.component(l.name,l)},t.default=l},1833:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});let n=/(%|)\{([0-9a-zA-Z_]+)\}/g;t.default=function(e){return function(e,...t){return"string"!=typeof e?e:(1===t.length&&"object"==typeof t[0]&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(n,(n,o,i,r)=>{var s,a;let l;if("{"===e[r-1]&&"}"===e[r+n.length])return i;return(s=t,a=i,(l=Object.prototype.hasOwnProperty.call(s,a)?t[i]:null)==null)?"":l}))}}},75448:function(e,t,n){var o,i,r=n(84253),s=n(99994),a=n(64171),l=n(70216),c=n(29220),u=n(20144),d=n(56090),h=n(5246),f=n(5794),p=n(87366),m=n(92337),y=n(54803),v=n(46106),b=n(18991),g=n(21652);n(16211),n(74023),n(22342),n(95795),n(42281),n(1833);var _=(o=u)&&"object"==typeof o&&"default"in o?o:{default:o},k={size:{type:String,default:"normal",validator:function(e){return["normal","large"].includes(e)}},modalClass:[String,Array,Object],title:String,okLabel:{type:String,default:function(){return l.t("messagebox.confirm")}},cancelLabel:{type:String,default:function(){return l.t("messagebox.cancel")}},closable:Boolean,scrollable:Boolean,showDefaultFooter:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},footerType:{type:String},padding:{type:Number,default:60},fullscreen:Boolean,width:[String,Number],lockScroll:{type:Boolean,default:!0},transition:{type:String,default:"fade",validator:function(e){return["slide-top","slide-bottom","slide-left","slide-right","fade","scale"]}},scrollableEl:[Object,String],buttonAlign:{type:String,validator:function(e){return["right","center","equal","block"].includes(e)}},titleAlign:{type:String,validator:function(e){return["center"].includes(e)}},isDialog:Boolean,zIndex:Number},w={exports:{}};!function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n=String(e),r=o[n.toLowerCase()];if(r)return r;var r=i[n.toLowerCase()];return r?r:1===n.length?n.charCodeAt(0):void 0}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var r=o[t.toLowerCase()];if(r)return r===n;var r=i[t.toLowerCase()];if(r)return r===n}else if("number"==typeof t)return t===n;return!1}};var o=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)o[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)o[r-48]=r;for(r=1;r<13;r++)o["f"+r]=r+111;for(r=0;r<10;r++)o["numpad "+r]=r+96;var s=t.names=t.title={};for(r in o)s[o[r]]=r;for(var a in i)o[a]=i[a]}(w,w.exports);var C=w.exports;let x=h.getCompInitialZIndex("klk-modal"),O=_.default.extend({name:"klk-overlay",props:{show:Boolean,fixed:Boolean,onClick:Function,opacity:{type:Number,default:.6},color:String,zIndex:Number},computed:{overlayStyle(){return{opacity:this.opacity,"background-color":this.color,position:this.fixed?"fixed":"","z-index":this.zIndex}}},methods:{prevent(e){e.preventDefault(),e.stopPropagation()},handleClick(){this.onClick&&this.onClick()}},render(e){return e(f.FadeTransition,[e("div",{staticClass:"klk-overlay",style:this.overlayStyle,directives:[{name:"show",value:this.show}],on:{click:this.handleClick,touchmove:this.prevent}})])}}),S={instances:[],open(e){e&&-1===this.instances.indexOf(e)&&(e.overlay&&this.createOverlay(e),this.updateZIndex(e),e.lockScroll&&this.preventScrolling(e),this.instances.push(e))},close(e){let t=this.instances.indexOf(e);-1!==t&&(this.instances.splice(t,1),this.resetZIndex(e),this.closeOverlay(e),e.lockScroll&&this.allowScrolling())},setZIndex(e,t){e.instanceZIndex=t,e._overlay&&(e._overlay.zIndex=t-1),e.overlayZIndex=t-1},updateZIndex(e){if(e.zIndex){this.setZIndex(e,e.zIndex);return}if(this.instances.length){let t=this.instances[this.instances.length-1];this.setZIndex(e,t.instanceZIndex+2)}},resetZIndex(e){this.setZIndex(e,x)},createOverlay(e){let t=new O({el:document.createElement("div")});t.fixed=!0,t.color=e.overlayColor,t.opacity=e.overlayOpacity,t.zIndex=e.overlayZIndex,t.onClick=t=>{e.overlayClick&&e.overlayClick(t)},document.body.appendChild(t.$el),_.default.nextTick(()=>{t.show=!0}),e._overlay=t},closeOverlay(e){if(!e||!e._overlay)return;let t=e._overlay;t.show=!1,e._overlay=null,setTimeout(()=>{document.body.removeChild(t.$el),t.$destroy()},450)},preventScrolling(e){!this.locked&&(_.default.nextTick(()=>{d.lockOuterScroll(e.$el)}),this.locked=!0)},allowScrolling(){!this.instances.some(e=>e.lockScroll)&&(d.unlockOuterScroll(),this.locked=!1)}};"undefined"!=typeof window&&window.addEventListener("keydown",e=>{if(0===S.instances.length||"esc"!==C(e))return;let t=S.instances[S.instances.length-1];t.escPress&&t.escPress()});var E=[],M={name:"klk-modal",mixins:[c.baseMixin,{props:{open:Boolean,overlay:{type:Boolean,default:!0},overlayClosable:{type:Boolean,default:!0},overlayOpacity:{type:Number,default:1},overlayColor:{type:String},escPressClosable:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!1},appendBody:{type:Boolean,default:!0}},data:()=>({overlayZIndex:0,instanceZIndex:0}),methods:{overlayClick(e){this.overlay&&this.overlayClosable&&this.open&&this.close("overlay")},escPress(e){this.escPressClosable&&this.open&&this.close("esc")},popupEl(){return this.$el},appendPopupElToBody(){this.appendBody&&!this.appened&&this.$nextTick(()=>{document.body.appendChild(this.$el),this.appened=!0})}},created(){S.resetZIndex(this)},mounted(){this.open&&(S.open(this),this.appendPopupElToBody())},beforeDestroy(){if(S.close(this),this.appendBody){if(!!this.$el)this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},watch:{open(e,t){e?(S.open(this),this.appendPopupElToBody()):S.close(this)}}}],directives:{resize:f.resize},props:k,data:function(){return{overflowY:!1}},mounted:function(){!E.includes(this)&&!this.isDialog&&E.push(this),this.footerType&&p.warning("footerType 即将废弃，已针对移动端优化尾部按钮布局，请移除此配置"),this.setMaxModalHeight(),this.open&&this.onOpenChange(!0)},updated:function(){var e=this;this.$nextTick(function(){e.setMaxModalHeight()})},beforeDestroy:function(){this.open&&this.onOpenChange(!1);var e=E.indexOf(this);e>=0&&E.splice(e,1)},methods:{onClose:function(){this.$emit("on-close"),this.$emit("update:open",!1),this.$emit("close","icon")},close:function(e){this.$emit("update:open",!1),this.$emit("close",e)},onConfirm:function(){this.$emit("on-confirm")},onCancel:function(){this.$emit("on-cancel")},handleWrapperClick:function(e){this.$el===e.target&&this.overlayClick(e)},setMaxModalHeight:function(){var e=this.$refs.modal;if(e){if(!this.scrollable){e.style.maxHeight="";return}var t=window.innerHeight-2*this.padding,n=this.$refs,o=n.header,i=n.body,r=n.footer;if(i){var s=t;o&&(s-=o.offsetHeight),r&&(s-=r.offsetHeight);var a=parseInt(getComputedStyle(e).paddingTop);i.style.maxHeight=Number.isNaN(a)?s+"px":s-2*a+"px"}e.style.maxHeight=t+"px"}},onOpenChange:function(e){var t=this;e&&this.$nextTick(function(){t.setMaxModalHeight();var e=t.$refs.modal;e&&e.focus()}),this.$nextTick(function(){var n=t.getScrollableEl();n&&(e?(y.addResizeListener(n,t.onScrollableElResize),t.onScrollableElResize()):y.removeResizeListener(n,t.onScrollableElResize))})},getScrollableEl:function(){var e=this.scrollableEl||this.$refs.body;return"string"==typeof e&&(e=document.querySelector(e)),e},onScrollableElResize:function(){var e=this.getScrollableEl();if(e){var t=e.scrollHeight,n=e.offsetHeight;this.overflowY=t>n}},createHeader:function(e){var t,n=this.$slots.header&&this.$slots.header.length>0;return!n&&this.title&&(t=e("div",{staticClass:"klk-modal-title",ref:"title",style:{textAlign:this.titleAlign}},this.title)),n||t?e("div",{staticClass:"klk-modal-header",ref:"header"},n?this.$slots.header:[t]):null},createBody:function(e){return e("div",{staticClass:"klk-modal-body",ref:"body"},this.$slots.default)},createFooter:function(e){var t=this.$slots.footer&&this.$slots.footer.length>0;if(!t&&this.showDefaultFooter){var n,o,i,s=m.isMobile?"normal":"large"===this.size?"normal":"small";o=e(a.default,{staticClass:"confirm-button",props:{size:s},on:{click:this.onConfirm}},this.okLabel),this.showCancelButton&&(i=e(a.default,{staticClass:"cancel-button",props:{type:"outlined",size:s},on:{click:this.onCancel}},this.cancelLabel));var l=this.buttonAlign||("secondary"===this.footerType?"equal":""),c="block"===l;n=e("div",{staticClass:"klk-modal-button-group",class:r._defineProperty({},"klk-modal-button-group-".concat(l),!!l)},c?[o,i]:[i,o])}return t||n?e("div",{staticClass:"klk-modal-footer",ref:"footer"},t?this.$slots.footer:[n]):null},createClose:function(e){return this.closable?e(s.default,{props:{type:"icon_navigation_close"},on:{click:this.onClose},staticClass:"klk-modal-close"}):null}},watch:{open:function(e){this.onOpenChange(e)}},render:function(e){var t,n=this,o=this.createHeader(e),i=this.createBody(e),s=this.createFooter(e),a=this.createClose(e),l={staticClass:"klk-modal",attrs:{tabindex:-1},style:{paddingBottom:s?"0px":void 0},class:[(t={"klk-modal-mweb":m.isMobile,"klk-modal-fullscreen":this.fullscreen,"klk-modal-scrollable":this.scrollable},r._defineProperty(t,"klk-".concat(this.transition),!0),r._defineProperty(t,"klk-modal-".concat(this.size),!!this.size),r._defineProperty(t,"klk-modal-overflow-y",this.overflowY),r._defineProperty(t,"klk-modal-rtl",this.isRtl),t)].concat(r._toConsumableArray(d.convertClass(this.modalClass))),ref:"modal"};if(!this.fullscreen){var c=m.isMobile?"80vw":"normal"===this.size?d.getWidth(420):d.getWidth(900);l.style.width=this.width?d.getWidth(this.width):c}var u=e("div",l,[a,o,i,s]);return this.open?e("transition",{props:{name:"klk-modal-transition"}},[e("div",{staticClass:"klk-modal-wrapper",directives:[{name:"resize",value:function(){return n.setMaxModalHeight()}}],style:{"z-index":this.instanceZIndex},on:r._defineProperty({},m.isMobile?"touchstart":"mousedown",this.handleWrapperClick)},[u])]):null}},A={},P={name:"klk-dialog",props:Object.assign({},k,{mode:{type:String,default:"alert",validator:function(e){return -1!==["alert","confirm","prompt"].indexOf(e)}},content:[String,Function],className:String,transition:String,beforeClose:Function,inputType:String,inputPlaceholder:String,inputValue:[String,Number],validator:Function}),data:function(){return{open:!1,value:this.inputValue,errorText:""}},methods:{handleClose:function(e){var t=this;return this.beforeClose?this.beforeClose(e,this,function(){return t.close(e)}):this.close(e)},close:function(e,t){if(e&&"prompt"===this.mode&&this.validator){var n=this.validator(this.value);if(!n.valid){this.errorText=n.message;return}this.errorText=""}return this.open=!1,this.$emit("close",e,this.value,t),e},createInput:function(e){var t=this;if("prompt"===this.mode)return e(v.default,{attrs:{type:this.inputType,placeholder:this.inputPlaceholder},props:{value:this.value},on:{input:function(e){return t.value=e},keydown:function(e){13===e.keyCode&&t.handleClose(!0)}}})},createContent:function(e){var t="function"==typeof this.content?this.content(e):this.content;return e("div",{staticClass:"klk-modal-content-inner",style:{textAlign:m.isMobile&&"prompt"!==this.mode?"center":void 0}},[t,this.createInput(e)])}},render:function(e){var t=this;return e(M,{props:r._objectSpread2(r._objectSpread2({open:this.open},this.$props),{},{modalClass:"klk-modal-".concat(this.mode),overlayClosable:!0,escPressClosable:!1,showCancelButton:"alert"!==this.mode,titleAlign:m.isMobile?"center":void 0,buttonAlign:m.isMobile?"block":void 0,isDialog:!0}),on:{close:function(){t.handleClose(!1)},"on-confirm":function(){return t.handleClose(!0)},"on-cancel":function(){return t.handleClose(!1)}}},[this.createContent(e)])}},I=_.default.extend(P),T=[],$=function(e){if(!b.isServer)return new Promise(function(t){var n=new I({el:document.createElement("div"),propsData:r._objectSpread2(r._objectSpread2({},A),e)});document.body.appendChild(n.$el),n.open=!0,"prompt"===n.mode&&setTimeout(function(){n.$el&&n.$el.querySelector("input").focus()},200),T.push(n),n.$on("close",function(e,o,i){setTimeout(function(){n&&(n.$el&&n.$el.parentNode&&n.$el.parentNode.removeChild(n.$el),n.$destroy(),n=null)},500);var r=T.indexOf(n);if(-1!==r&&T.splice(r,1),"closeAll"!==i)return t({result:e,value:o})})})};$.config=function(e){if(!g.isTypeOf(e,"object"))return A;for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t]);return A},$.close=function(){T.forEach(function(e){e.close(!1,"closeAll")})},$.closeAll=$.close,["alert","confirm","prompt"].forEach(function(e){$[e]=function(t,n){if(t||!(arguments.length<2)){var o="";switch(arguments.length){case 1:n={};break;case 2:"string"==typeof n&&(o=n,n={});break;default:o=arguments[1],n=arguments[2]}return $(r._objectSpread2(r._objectSpread2({title:o,content:t},n),{},{mode:e}))}}}),$.install=function(e,t){$.config(t),e.prototype.$alert=$.alert,e.prototype.$confirm=$.confirm,e.prototype.$prompt=$.prompt};M.install=function(e){e.component(M.name,M),e.use($)},M.closeAll=function(){$.closeAll(),E.forEach(function(e){return e.open&&e.close("closeAll")})};t.default=M},92337:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i,r,s,a,l,c=n(18991);n(20144);var u={};Object.defineProperty(o=u,"__esModule",{value:!0}),i={KLOOK_APP:/klook\/(\d+\.)+\d+/i,IOSMobile:/iPad|iPhone|iPod/i,ANDROID:/android|adr/i,PHONE:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,DEVICE:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i},r={NORMAL:/miniprogram/i,WECHAT:/micromessenger/i,XHS:/swan/i,BYTEDANCE:/toutiaomicroapp/i},o.PLATFORM_MP=void 0,(s=o.PLATFORM_MP||(o.PLATFORM_MP={})).NORMAL="",s.WECHAT="mp-wechat",s.XHS="mp-xiaohongshu",s.BYTEDANCE="mp-bytedance",a=function(e){void 0===e&&(e=navigator.userAgent);var t=Object.keys(r).find(function(t){var n=r[t];return(Array.isArray(n)?n:[n]).some(function(t){return t.test(e)})});return t&&o.PLATFORM_MP[t]||o.PLATFORM_MP.NORMAL},l=function(e){void 0===e&&(e=navigator.userAgent);var t=i.KLOOK_APP.test(e),n=i.IOSMobile.test(e),o=i.DEVICE.test(e),r=i.ANDROID.test(e),s=a(e),l=n||t||!!s||o;return{isIOSMobile:n,isKlookApp:t,isAndroid:r,platform:l?"mobile":"desktop",isMobile:l,platformMp:s}},o.DEVICE_REG_EXPS=i,o.MICRO_PROGRAM_REG_EXPS=r,o.default=l,o.detectDevice=l,o.getMpType=a;t.isIOS=!1,t.isAndroid=!1,t.isMobile=!1,!c.isServer&&({isIOSMobile:t.isIOS,isAndroid:t.isAndroid,isMobile:t.isMobile}=u.detectDevice()),t.isEdge=function(){return!c.isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!c.isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.isIE=function(){return!c.isServer&&!isNaN(Number(document.documentMode))},t.isPc=function(){for(var e="undefined"!=typeof navigator?navigator.userAgent:"",t=["Android","iPhone","Windows Phone","iPad","iPod"],n=!0,o=0;o<t.length;o++)if(e.indexOf(t[o])>0){n=!1;break}return n}},21652:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isNullish=function(e){return null==e},t.isObject=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)},t.isPromise=function(e){return e&&"function"==typeof e.then},t.isTypeOf=function(e,t){return(t=t.toLowerCase())===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}},54803:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(18991);n(20144);var i=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,o){return e[0]===t&&(n=o,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var i=o[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,s=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,i=0;function r(){n&&(n=!1,e()),o&&l()}function s(){a(r)}function l(){var e=Date.now();if(n){if(e-i<2)return;o=!0}else n=!0,o=!1,setTimeout(s,20);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){!~this.observers_.indexOf(e)&&this.observers_.push(e),!this.connected_&&this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){if(!!r&&!this.connected_)document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0},e.prototype.disconnect_=function(){if(!!r&&!!this.connected_)document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;l.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return!this.instance_&&(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},f=v(0,0,0,0);function p(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+p(e["border-"+n+"-width"])},0)}var y="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function v(e,t,n,o){return{x:e,y:t,width:n,height:o}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){if(!r)return f;if(y(e)){var t;return v(0,0,(t=e.getBBox()).width,t.height)}return function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var o=h(e).getComputedStyle(e),i=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var i=o[n],r=e["padding-"+i];t[i]=p(r)}return t}(o),r=i.left+i.right,s=i.top+i.bottom,a=p(o.width),l=p(o.height);if("border-box"===o.boxSizing&&(Math.round(a+r)!==t&&(a-=m(o,"left","right")+r),Math.round(l+s)!==n&&(l-=m(o,"top","bottom")+s)),!function(e){return e===h(e).document.documentElement}(e)){var c=Math.round(a+r)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return v(i.left,i.top,a,l)}(e)}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),g=function(e,t){var n,o,i,r,s,a,l=(o=(n=t).x,i=n.y,r=n.width,s=n.height,d(a=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:o,y:i,width:r,height:s,top:i,right:o+r,bottom:s+i,left:o}),a);d(this,{target:e,contentRect:l})},_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof e)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"==typeof Element||!(Element instanceof Object))return;if(!(e instanceof h(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;if(!t.has(e))t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh()},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"==typeof Element||!(Element instanceof Object))return;if(!(e instanceof h(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;if(!!t.has(e))t.delete(e),!t.size&&this.controller_.removeObserver(this)},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new g(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!=typeof WeakMap?new WeakMap:new i,w=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var n=new _(t,u.getInstance(),this);k.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}});var C=void 0!==s.ResizeObserver?s.ResizeObserver:w;let x=function(e){window.requestAnimationFrame(()=>{for(let t of e){let e=t.target.__resizeListeners__||[];e.length&&e.forEach(e=>{e()})}})};t.addResizeListener=function(e,t){if(!o.isServer)e instanceof Element&&(!e.__resizeListeners__&&(e.__resizeListeners__=[],e.__ro__=new C(x),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},t.removeResizeListener=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length&&e.__ro__.disconnect())}}}]);
//# sourceMappingURL=77174.40120b0a.js.map